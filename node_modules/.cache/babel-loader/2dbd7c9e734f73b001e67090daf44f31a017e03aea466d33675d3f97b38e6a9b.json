{"ast":null,"code":"import _slicedToArray from \"/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _objectWithoutProperties from \"/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nimport _createClass from \"/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _classCallCheck from \"/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _inherits from \"/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport _wrapNativeSuper from \"/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@babel/runtime/helpers/esm/wrapNativeSuper.js\";\nimport _toConsumableArray from \"/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _toArray from \"/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@babel/runtime/helpers/esm/toArray.js\";\nimport _defineProperty from \"/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _regeneratorRuntime from \"/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _objectSpread from \"/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _createForOfIteratorHelper from \"/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nvar _excluded = [\"tempId\"];\nimport * as logger from '@onflow/util-logger';\nimport { log } from '@onflow/util-logger';\nimport { invariant as invariant$1 } from '@onflow/util-invariant';\nimport { config } from '@onflow/config';\nexport { config } from '@onflow/config';\nimport { Buffer, encode } from '@onflow/rlp';\nimport { send as send$1 } from '@onflow/transport-http';\nimport { sansPrefix, withPrefix } from '@onflow/util-address';\nimport { SHA3 } from 'sha3';\nimport { template } from '@onflow/util-template';\nexport { template as cadence, template as cdc } from '@onflow/util-template';\nvar UNKNOWN /*                       */ = \"UNKNOWN\";\nvar SCRIPT /*                        */ = \"SCRIPT\";\nvar TRANSACTION /*                   */ = \"TRANSACTION\";\nvar GET_TRANSACTION_STATUS /*        */ = \"GET_TRANSACTION_STATUS\";\nvar GET_ACCOUNT /*                   */ = \"GET_ACCOUNT\";\nvar GET_EVENTS /*                    */ = \"GET_EVENTS\";\nvar PING /*                          */ = \"PING\";\nvar GET_TRANSACTION /*               */ = \"GET_TRANSACTION\";\nvar GET_BLOCK /*                     */ = \"GET_BLOCK\";\nvar GET_BLOCK_HEADER /*              */ = \"GET_BLOCK_HEADER\";\nvar GET_COLLECTION /*                */ = \"GET_COLLECTION\";\nvar GET_NETWORK_PARAMETERS /*        */ = \"GET_NETWORK_PARAMETERS\";\nvar BAD /* */ = \"BAD\";\nvar OK /*  */ = \"OK\";\nvar ACCOUNT /*  */ = \"ACCOUNT\";\nvar PARAM /*    */ = \"PARAM\";\nvar ARGUMENT /* */ = \"ARGUMENT\";\nvar AUTHORIZER /* */ = \"authorizer\";\nvar PAYER /*      */ = \"payer\";\nvar PROPOSER /*   */ = \"proposer\";\nvar ACCT = \"{\\n  \\\"kind\\\":\\\"\".concat(ACCOUNT, \"\\\",\\n  \\\"tempId\\\":null,\\n  \\\"addr\\\":null,\\n  \\\"keyId\\\":null,\\n  \\\"sequenceNum\\\":null,\\n  \\\"signature\\\":null,\\n  \\\"signingFunction\\\":null,\\n  \\\"resolve\\\":null,\\n  \\\"role\\\": {\\n    \\\"proposer\\\":false,\\n    \\\"authorizer\\\":false,\\n    \\\"payer\\\":false,\\n    \\\"param\\\":false\\n  }\\n}\");\nvar ARG = \"{\\n  \\\"kind\\\":\\\"\".concat(ARGUMENT, \"\\\",\\n  \\\"tempId\\\":null,\\n  \\\"value\\\":null,\\n  \\\"asArgument\\\":null,\\n  \\\"xform\\\":null,\\n  \\\"resolve\\\": null,\\n  \\\"resolveArgument\\\": null\\n}\");\nvar IX = \"{\\n  \\\"tag\\\":\\\"\".concat(UNKNOWN, \"\\\",\\n  \\\"assigns\\\":{},\\n  \\\"status\\\":\\\"\").concat(OK, \"\\\",\\n  \\\"reason\\\":null,\\n  \\\"accounts\\\":{},\\n  \\\"params\\\":{},\\n  \\\"arguments\\\":{},\\n  \\\"message\\\": {\\n    \\\"cadence\\\":null,\\n    \\\"refBlock\\\":null,\\n    \\\"computeLimit\\\":null,\\n    \\\"proposer\\\":null,\\n    \\\"payer\\\":null,\\n    \\\"authorizations\\\":[],\\n    \\\"params\\\":[],\\n    \\\"arguments\\\":[]\\n  },\\n  \\\"proposer\\\":null,\\n  \\\"authorizations\\\":[],\\n  \\\"payer\\\":[],\\n  \\\"events\\\": {\\n    \\\"eventType\\\":null,\\n    \\\"start\\\":null,\\n    \\\"end\\\":null,\\n    \\\"blockIds\\\":[]\\n  },\\n  \\\"transaction\\\": {\\n    \\\"id\\\":null\\n  },\\n  \\\"block\\\": {\\n    \\\"id\\\":null,\\n    \\\"height\\\":null,\\n    \\\"isSealed\\\":null\\n  },\\n  \\\"account\\\": {\\n    \\\"addr\\\":null\\n  },\\n  \\\"collection\\\": {\\n    \\\"id\\\":null\\n  }\\n}\");\nvar KEYS = new Set(Object.keys(JSON.parse(IX)));\nvar interaction = function interaction() {\n  return JSON.parse(IX);\n};\nvar CHARS = \"abcdefghijklmnopqrstuvwxyz0123456789\".split(\"\");\nvar randChar = function randChar() {\n  return CHARS[~~(Math.random() * CHARS.length)];\n};\nvar uuid = function uuid() {\n  return Array.from({\n    length: 10\n  }, randChar).join(\"\");\n};\nvar isNumber$1 = function isNumber$1(d) {\n  return typeof d === \"number\";\n};\nvar isArray$1 = function isArray$1(d) {\n  return Array.isArray(d);\n};\nvar isObj = function isObj(d) {\n  return d !== null && typeof d === \"object\";\n};\nvar isNull = function isNull(d) {\n  return d == null;\n};\nvar isFn$3 = function isFn$3(d) {\n  return typeof d === \"function\";\n};\nvar isInteraction = function isInteraction(ix) {\n  if (!isObj(ix) || isNull(ix) || isNumber$1(ix)) return false;\n  var _iterator = _createForOfIteratorHelper(KEYS),\n    _step;\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var key = _step.value;\n      if (!ix.hasOwnProperty(key)) return false;\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n  return true;\n};\nvar Ok = function Ok(ix) {\n  ix.status = OK;\n  return ix;\n};\nvar Bad = function Bad(ix, reason) {\n  ix.status = BAD;\n  ix.reason = reason;\n  return ix;\n};\nvar makeIx = function makeIx(wat) {\n  return function (ix) {\n    ix.tag = wat;\n    return Ok(ix);\n  };\n};\nvar prepAccountKeyId = function prepAccountKeyId(acct) {\n  if (acct.keyId == null) return acct;\n  invariant$1(!isNaN(parseInt(acct.keyId)), \"account.keyId must be an integer\");\n  return _objectSpread(_objectSpread({}, acct), {}, {\n    keyId: parseInt(acct.keyId)\n  });\n};\nvar prepAccount = function prepAccount(acct) {\n  var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return function (ix) {\n    invariant$1(typeof acct === \"function\" || typeof acct === \"object\", \"prepAccount must be passed an authorization function or an account object\");\n    invariant$1(opts.role != null, \"Account must have a role\");\n    var ACCOUNT = JSON.parse(ACCT);\n    var role = opts.role;\n    var tempId = uuid();\n    if (acct.authorization && isFn$3(acct.authorization)) acct = {\n      resolve: acct.authorization\n    };\n    if (!acct.authorization && isFn$3(acct)) acct = {\n      resolve: acct\n    };\n    var resolve = acct.resolve;\n    if (resolve) acct.resolve = function (acct) {\n      for (var _len = arguments.length, rest = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        rest[_key - 1] = arguments[_key];\n      }\n      return [resolve, prepAccountKeyId].reduce( /*#__PURE__*/function () {\n        var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(d, fn) {\n          return _regeneratorRuntime().wrap(function _callee$(_context) {\n            while (1) switch (_context.prev = _context.next) {\n              case 0:\n                _context.t0 = fn;\n                _context.t1 = void 0;\n                _context.next = 4;\n                return d;\n              case 4:\n                _context.t2 = _context.sent;\n                _context.t3 = [_context.t2].concat(rest);\n                return _context.abrupt(\"return\", _context.t0.apply.call(_context.t0, _context.t1, _context.t3));\n              case 7:\n              case \"end\":\n                return _context.stop();\n            }\n          }, _callee);\n        }));\n        return function (_x, _x2) {\n          return _ref2.apply(this, arguments);\n        };\n      }(), acct);\n    };\n    acct = prepAccountKeyId(acct);\n    ix.accounts[tempId] = _objectSpread(_objectSpread(_objectSpread({}, ACCOUNT), {}, {\n      tempId: tempId\n    }, acct), {}, {\n      role: _objectSpread(_objectSpread(_objectSpread({}, ACCOUNT.role), typeof acct.role === \"object\" ? acct.role : {}), {}, _defineProperty({}, role, true))\n    });\n    if (role === AUTHORIZER) {\n      ix.authorizations.push(tempId);\n    } else if (role === PAYER) {\n      ix.payer.push(tempId);\n    } else {\n      ix[role] = tempId;\n    }\n    return ix;\n  };\n};\nvar makeArgument = function makeArgument(arg) {\n  return function (ix) {\n    var tempId = uuid();\n    ix.message.arguments.push(tempId);\n    ix.arguments[tempId] = JSON.parse(ARG);\n    ix.arguments[tempId].tempId = tempId;\n    ix.arguments[tempId].value = arg.value;\n    ix.arguments[tempId].asArgument = arg.asArgument;\n    ix.arguments[tempId].xform = arg.xform;\n    ix.arguments[tempId].resolve = arg.resolve;\n    ix.arguments[tempId].resolveArgument = isFn$3(arg.resolveArgument) ? arg.resolveArgument.bind(arg) : arg.resolveArgument;\n    return Ok(ix);\n  };\n};\nvar makeUnknown /*                 */ = makeIx(UNKNOWN);\nvar makeScript /*                  */ = makeIx(SCRIPT);\nvar makeTransaction /*             */ = makeIx(TRANSACTION);\nvar makeGetTransactionStatus /*    */ = makeIx(GET_TRANSACTION_STATUS);\nvar makeGetTransaction /*          */ = makeIx(GET_TRANSACTION);\nvar makeGetAccount /*              */ = makeIx(GET_ACCOUNT);\nvar makeGetEvents /*               */ = makeIx(GET_EVENTS);\nvar makePing /*                    */ = makeIx(PING);\nvar makeGetBlock /*                */ = makeIx(GET_BLOCK);\nvar makeGetBlockHeader /*          */ = makeIx(GET_BLOCK_HEADER);\nvar makeGetCollection /*           */ = makeIx(GET_COLLECTION);\nvar makeGetNetworkParameters /*    */ = makeIx(GET_NETWORK_PARAMETERS);\nvar is = function is(wat) {\n  return function (ix) {\n    return ix.tag === wat;\n  };\n};\nvar isUnknown /*                 */ = is(UNKNOWN);\nvar isScript /*                  */ = is(SCRIPT);\nvar isTransaction /*             */ = is(TRANSACTION);\nvar isGetTransactionStatus /*    */ = is(GET_TRANSACTION_STATUS);\nvar isGetTransaction /*          */ = is(GET_TRANSACTION);\nvar isGetAccount /*              */ = is(GET_ACCOUNT);\nvar isGetEvents /*               */ = is(GET_EVENTS);\nvar isPing /*                    */ = is(PING);\nvar isGetBlock /*                */ = is(GET_BLOCK);\nvar isGetBlockHeader /*          */ = is(GET_BLOCK_HEADER);\nvar isGetCollection /*           */ = is(GET_COLLECTION);\nvar isGetNetworkParameters /*    */ = is(GET_NETWORK_PARAMETERS);\nvar isOk /*  */ = function isOk /*  */(ix) {\n  return ix.status === OK;\n};\nvar isBad /* */ = function isBad /* */(ix) {\n  return ix.status === BAD;\n};\nvar why /*   */ = function why /*   */(ix) {\n  return ix.reason;\n};\nvar isAccount /*  */ = function isAccount /*  */(account) {\n  return account.kind === ACCOUNT;\n};\nvar isParam /*    */ = function isParam /*    */(param) {\n  return param.kind === PARAM;\n};\nvar isArgument /* */ = function isArgument /* */(argument) {\n  return argument.kind === ARGUMENT;\n};\nvar hardMode = function hardMode(ix) {\n  for (var _i = 0, _Object$keys = Object.keys(ix); _i < _Object$keys.length; _i++) {\n    var key = _Object$keys[_i];\n    if (!KEYS.has(key)) throw new Error(\"\\\"\".concat(key, \"\\\" is an invalid root level Interaction property.\"));\n  }\n  return ix;\n};\nvar recPipe = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(ix) {\n    var fns,\n      _fns,\n      hd,\n      rest,\n      cur,\n      _args2 = arguments;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          fns = _args2.length > 1 && _args2[1] !== undefined ? _args2[1] : [];\n          _context2.prev = 1;\n          _context2.t0 = hardMode;\n          _context2.next = 5;\n          return ix;\n        case 5:\n          _context2.t1 = _context2.sent;\n          ix = (0, _context2.t0)(_context2.t1);\n          if (!isBad(ix)) {\n            _context2.next = 9;\n            break;\n          }\n          throw new Error(\"Interaction Error: \".concat(ix.reason));\n        case 9:\n          if (fns.length) {\n            _context2.next = 11;\n            break;\n          }\n          return _context2.abrupt(\"return\", ix);\n        case 11:\n          _fns = _toArray(fns), hd = _fns[0], rest = _fns.slice(1);\n          _context2.next = 14;\n          return hd;\n        case 14:\n          cur = _context2.sent;\n          if (!isFn$3(cur)) {\n            _context2.next = 17;\n            break;\n          }\n          return _context2.abrupt(\"return\", recPipe(cur(ix), rest));\n        case 17:\n          if (!(isNull(cur) || !cur)) {\n            _context2.next = 19;\n            break;\n          }\n          return _context2.abrupt(\"return\", recPipe(ix, rest));\n        case 19:\n          if (!isInteraction(cur)) {\n            _context2.next = 21;\n            break;\n          }\n          return _context2.abrupt(\"return\", recPipe(cur, rest));\n        case 21:\n          throw new Error(\"Invalid Interaction Composition\");\n        case 24:\n          _context2.prev = 24;\n          _context2.t2 = _context2[\"catch\"](1);\n          throw _context2.t2;\n        case 27:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2, null, [[1, 24]]);\n  }));\n  return function recPipe(_x3) {\n    return _ref3.apply(this, arguments);\n  };\n}();\nvar pipe = function pipe() {\n  for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n    args[_key2] = arguments[_key2];\n  }\n  var arg1 = args[0],\n    arg2 = args[1];\n  if (isArray$1(arg1) && arg2 == null) return function (d) {\n    return pipe(d, arg1);\n  };\n  return recPipe(arg1, arg2);\n};\nvar identity$1 = function identity$1(v) {\n  return v;\n};\nvar get = function get(ix, key, fallback) {\n  return ix.assigns[key] == null ? fallback : ix.assigns[key];\n};\nvar put = function put(key, value) {\n  return function (ix) {\n    ix.assigns[key] = value;\n    return Ok(ix);\n  };\n};\nvar update = function update(key) {\n  var fn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : identity$1;\n  return function (ix) {\n    ix.assigns[key] = fn(ix.assigns[key], ix);\n    return Ok(ix);\n  };\n};\nvar destroy = function destroy(key) {\n  return function (ix) {\n    delete ix.assigns[key];\n    return Ok(ix);\n  };\n};\nvar ixModule = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  UNKNOWN: UNKNOWN,\n  SCRIPT: SCRIPT,\n  TRANSACTION: TRANSACTION,\n  GET_TRANSACTION_STATUS: GET_TRANSACTION_STATUS,\n  GET_ACCOUNT: GET_ACCOUNT,\n  GET_EVENTS: GET_EVENTS,\n  PING: PING,\n  GET_TRANSACTION: GET_TRANSACTION,\n  GET_BLOCK: GET_BLOCK,\n  GET_BLOCK_HEADER: GET_BLOCK_HEADER,\n  GET_COLLECTION: GET_COLLECTION,\n  GET_NETWORK_PARAMETERS: GET_NETWORK_PARAMETERS,\n  BAD: BAD,\n  OK: OK,\n  ACCOUNT: ACCOUNT,\n  PARAM: PARAM,\n  ARGUMENT: ARGUMENT,\n  AUTHORIZER: AUTHORIZER,\n  PAYER: PAYER,\n  PROPOSER: PROPOSER,\n  interaction: interaction,\n  uuid: uuid,\n  isNumber: isNumber$1,\n  isArray: isArray$1,\n  isObj: isObj,\n  isNull: isNull,\n  isFn: isFn$3,\n  isInteraction: isInteraction,\n  Ok: Ok,\n  Bad: Bad,\n  prepAccount: prepAccount,\n  makeArgument: makeArgument,\n  makeUnknown: makeUnknown,\n  makeScript: makeScript,\n  makeTransaction: makeTransaction,\n  makeGetTransactionStatus: makeGetTransactionStatus,\n  makeGetTransaction: makeGetTransaction,\n  makeGetAccount: makeGetAccount,\n  makeGetEvents: makeGetEvents,\n  makePing: makePing,\n  makeGetBlock: makeGetBlock,\n  makeGetBlockHeader: makeGetBlockHeader,\n  makeGetCollection: makeGetCollection,\n  makeGetNetworkParameters: makeGetNetworkParameters,\n  isUnknown: isUnknown,\n  isScript: isScript,\n  isTransaction: isTransaction,\n  isGetTransactionStatus: isGetTransactionStatus,\n  isGetTransaction: isGetTransaction,\n  isGetAccount: isGetAccount,\n  isGetEvents: isGetEvents,\n  isPing: isPing,\n  isGetBlock: isGetBlock,\n  isGetBlockHeader: isGetBlockHeader,\n  isGetCollection: isGetCollection,\n  isGetNetworkParameters: isGetNetworkParameters,\n  isOk: isOk,\n  isBad: isBad,\n  why: why,\n  isAccount: isAccount,\n  isParam: isParam,\n  isArgument: isArgument,\n  pipe: pipe,\n  get: get,\n  put: put,\n  update: update,\n  destroy: destroy\n});\nfunction build() {\n  var fns = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  return pipe(interaction(), fns);\n}\nvar DEFAULT_RESPONSE = \"{\\n    \\\"tag\\\":null,\\n    \\\"transaction\\\":null,\\n    \\\"transactionStatus\\\":null,\\n    \\\"transactionId\\\":null,\\n    \\\"encodedData\\\":null,\\n    \\\"events\\\":null,\\n    \\\"account\\\":null,\\n    \\\"block\\\":null,\\n    \\\"blockHeader\\\":null,\\n    \\\"latestBlock\\\":null,\\n    \\\"collection\\\":null,\\n    \\\"networkParameters\\\":null\\n}\";\nvar response = function response() {\n  return JSON.parse(DEFAULT_RESPONSE);\n};\n\n/**\n * @description - A builder function that returns the interaction to get the latest block\n * @param {boolean} [isSealed] - Whether or not the block should be sealed\n * @returns {object} - An interaction object\n */\nfunction getBlock() {\n  var isSealed = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n  return pipe([makeGetBlock, function (ix) {\n    ix.block.isSealed = isSealed;\n    return Ok(ix);\n  }]);\n}\n\n/**\n * @description - A builder function that returns the interaction to get an account by address\n * @param {string} addr - The address of the account to getq\n * @returns {object} - An interaction object\n */\nfunction getAccount(addr) {\n  return pipe([makeGetAccount, function (ix) {\n    ix.account.addr = sansPrefix(addr);\n    return Ok(ix);\n  }]);\n}\nvar latestBlockDeprecationNotice = function latestBlockDeprecationNotice() {\n  log.deprecate({\n    pkg: \"@onflow/decode\",\n    subject: \"Operating upon data of the latestBlock field of the response object\",\n    transition: \"https://github.com/onflow/flow-js-sdk/blob/master/packages/decode/WARNINGS.md#0001-Deprecating-latestBlock-field\"\n  });\n};\nvar decodeImplicit = /*#__PURE__*/function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(i) {\n    return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          return _context3.abrupt(\"return\", i);\n        case 1:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3);\n  }));\n  return function decodeImplicit(_x4) {\n    return _ref4.apply(this, arguments);\n  };\n}();\nvar decodeVoid = /*#__PURE__*/function () {\n  var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4() {\n    return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n      while (1) switch (_context4.prev = _context4.next) {\n        case 0:\n          return _context4.abrupt(\"return\", null);\n        case 1:\n        case \"end\":\n          return _context4.stop();\n      }\n    }, _callee4);\n  }));\n  return function decodeVoid() {\n    return _ref5.apply(this, arguments);\n  };\n}();\nvar decodeType = /*#__PURE__*/function () {\n  var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(type) {\n    return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n      while (1) switch (_context5.prev = _context5.next) {\n        case 0:\n          return _context5.abrupt(\"return\", type.staticType);\n        case 1:\n        case \"end\":\n          return _context5.stop();\n      }\n    }, _callee5);\n  }));\n  return function decodeType(_x5) {\n    return _ref6.apply(this, arguments);\n  };\n}();\nvar decodePath = /*#__PURE__*/function () {\n  var _ref7 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6(path) {\n    return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n      while (1) switch (_context6.prev = _context6.next) {\n        case 0:\n          return _context6.abrupt(\"return\", {\n            domain: path.domain,\n            identifier: path.identifier\n          });\n        case 1:\n        case \"end\":\n          return _context6.stop();\n      }\n    }, _callee6);\n  }));\n  return function decodePath(_x6) {\n    return _ref7.apply(this, arguments);\n  };\n}();\nvar decodeCapability = /*#__PURE__*/function () {\n  var _ref8 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee7(cap) {\n    return _regeneratorRuntime().wrap(function _callee7$(_context7) {\n      while (1) switch (_context7.prev = _context7.next) {\n        case 0:\n          return _context7.abrupt(\"return\", {\n            path: cap.path,\n            address: cap.address,\n            borrowType: cap.borrowType\n          });\n        case 1:\n        case \"end\":\n          return _context7.stop();\n      }\n    }, _callee7);\n  }));\n  return function decodeCapability(_x7) {\n    return _ref8.apply(this, arguments);\n  };\n}();\nvar decodeOptional = /*#__PURE__*/function () {\n  var _ref9 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee8(optional, decoders, stack) {\n    return _regeneratorRuntime().wrap(function _callee8$(_context8) {\n      while (1) switch (_context8.prev = _context8.next) {\n        case 0:\n          if (!optional) {\n            _context8.next = 6;\n            break;\n          }\n          _context8.next = 3;\n          return recurseDecode(optional, decoders, stack);\n        case 3:\n          _context8.t0 = _context8.sent;\n          _context8.next = 7;\n          break;\n        case 6:\n          _context8.t0 = null;\n        case 7:\n          return _context8.abrupt(\"return\", _context8.t0);\n        case 8:\n        case \"end\":\n          return _context8.stop();\n      }\n    }, _callee8);\n  }));\n  return function decodeOptional(_x8, _x9, _x10) {\n    return _ref9.apply(this, arguments);\n  };\n}();\nvar decodeReference = /*#__PURE__*/function () {\n  var _ref10 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee9(v) {\n    return _regeneratorRuntime().wrap(function _callee9$(_context9) {\n      while (1) switch (_context9.prev = _context9.next) {\n        case 0:\n          return _context9.abrupt(\"return\", {\n            address: v.address,\n            type: v.type\n          });\n        case 1:\n        case \"end\":\n          return _context9.stop();\n      }\n    }, _callee9);\n  }));\n  return function decodeReference(_x11) {\n    return _ref10.apply(this, arguments);\n  };\n}();\nvar decodeArray = /*#__PURE__*/function () {\n  var _ref11 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee11(array, decoders, stack) {\n    return _regeneratorRuntime().wrap(function _callee11$(_context11) {\n      while (1) switch (_context11.prev = _context11.next) {\n        case 0:\n          _context11.next = 2;\n          return Promise.all(array.map(function (v) {\n            return new Promise( /*#__PURE__*/function () {\n              var _ref12 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee10(res) {\n                return _regeneratorRuntime().wrap(function _callee10$(_context10) {\n                  while (1) switch (_context10.prev = _context10.next) {\n                    case 0:\n                      _context10.t0 = res;\n                      _context10.next = 3;\n                      return recurseDecode(v, decoders, [].concat(_toConsumableArray(stack), [v.type]));\n                    case 3:\n                      _context10.t1 = _context10.sent;\n                      return _context10.abrupt(\"return\", (0, _context10.t0)(_context10.t1));\n                    case 5:\n                    case \"end\":\n                      return _context10.stop();\n                  }\n                }, _callee10);\n              }));\n              return function (_x15) {\n                return _ref12.apply(this, arguments);\n              };\n            }());\n          }));\n        case 2:\n          return _context11.abrupt(\"return\", _context11.sent);\n        case 3:\n        case \"end\":\n          return _context11.stop();\n      }\n    }, _callee11);\n  }));\n  return function decodeArray(_x12, _x13, _x14) {\n    return _ref11.apply(this, arguments);\n  };\n}();\nvar decodeDictionary = /*#__PURE__*/function () {\n  var _ref13 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee13(dictionary, decoders, stack) {\n    return _regeneratorRuntime().wrap(function _callee13$(_context13) {\n      while (1) switch (_context13.prev = _context13.next) {\n        case 0:\n          _context13.next = 2;\n          return dictionary.reduce( /*#__PURE__*/function () {\n            var _ref14 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee12(acc, v) {\n              return _regeneratorRuntime().wrap(function _callee12$(_context12) {\n                while (1) switch (_context12.prev = _context12.next) {\n                  case 0:\n                    _context12.next = 2;\n                    return acc;\n                  case 2:\n                    acc = _context12.sent;\n                    _context12.next = 5;\n                    return recurseDecode(v.key, decoders, [].concat(_toConsumableArray(stack), [v.key]));\n                  case 5:\n                    _context12.t0 = _context12.sent;\n                    _context12.next = 8;\n                    return recurseDecode(v.value, decoders, [].concat(_toConsumableArray(stack), [v.key]));\n                  case 8:\n                    acc[_context12.t0] = _context12.sent;\n                    return _context12.abrupt(\"return\", acc);\n                  case 10:\n                  case \"end\":\n                    return _context12.stop();\n                }\n              }, _callee12);\n            }));\n            return function (_x19, _x20) {\n              return _ref14.apply(this, arguments);\n            };\n          }(), Promise.resolve({}));\n        case 2:\n          return _context13.abrupt(\"return\", _context13.sent);\n        case 3:\n        case \"end\":\n          return _context13.stop();\n      }\n    }, _callee13);\n  }));\n  return function decodeDictionary(_x16, _x17, _x18) {\n    return _ref13.apply(this, arguments);\n  };\n}();\nvar decodeComposite = /*#__PURE__*/function () {\n  var _ref15 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee15(composite, decoders, stack) {\n    var decoded, decoder;\n    return _regeneratorRuntime().wrap(function _callee15$(_context15) {\n      while (1) switch (_context15.prev = _context15.next) {\n        case 0:\n          _context15.next = 2;\n          return composite.fields.reduce( /*#__PURE__*/function () {\n            var _ref16 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee14(acc, v) {\n              return _regeneratorRuntime().wrap(function _callee14$(_context14) {\n                while (1) switch (_context14.prev = _context14.next) {\n                  case 0:\n                    _context14.next = 2;\n                    return acc;\n                  case 2:\n                    acc = _context14.sent;\n                    _context14.next = 5;\n                    return recurseDecode(v.value, decoders, [].concat(_toConsumableArray(stack), [v.name]));\n                  case 5:\n                    acc[v.name] = _context14.sent;\n                    return _context14.abrupt(\"return\", acc);\n                  case 7:\n                  case \"end\":\n                    return _context14.stop();\n                }\n              }, _callee14);\n            }));\n            return function (_x24, _x25) {\n              return _ref16.apply(this, arguments);\n            };\n          }(), Promise.resolve({}));\n        case 2:\n          decoded = _context15.sent;\n          decoder = composite.id && decoderLookup(decoders, composite.id);\n          if (!decoder) {\n            _context15.next = 10;\n            break;\n          }\n          _context15.next = 7;\n          return decoder(decoded);\n        case 7:\n          _context15.t0 = _context15.sent;\n          _context15.next = 11;\n          break;\n        case 10:\n          _context15.t0 = decoded;\n        case 11:\n          return _context15.abrupt(\"return\", _context15.t0);\n        case 12:\n        case \"end\":\n          return _context15.stop();\n      }\n    }, _callee15);\n  }));\n  return function decodeComposite(_x21, _x22, _x23) {\n    return _ref15.apply(this, arguments);\n  };\n}();\nvar defaultDecoders = {\n  UInt: decodeImplicit,\n  Int: decodeImplicit,\n  UInt8: decodeImplicit,\n  Int8: decodeImplicit,\n  UInt16: decodeImplicit,\n  Int16: decodeImplicit,\n  UInt32: decodeImplicit,\n  Int32: decodeImplicit,\n  UInt64: decodeImplicit,\n  Int64: decodeImplicit,\n  UInt128: decodeImplicit,\n  Int128: decodeImplicit,\n  UInt256: decodeImplicit,\n  Int256: decodeImplicit,\n  Word8: decodeImplicit,\n  Word16: decodeImplicit,\n  Word32: decodeImplicit,\n  Word64: decodeImplicit,\n  UFix64: decodeImplicit,\n  Fix64: decodeImplicit,\n  String: decodeImplicit,\n  Character: decodeImplicit,\n  Bool: decodeImplicit,\n  Address: decodeImplicit,\n  Void: decodeVoid,\n  Optional: decodeOptional,\n  Reference: decodeReference,\n  Array: decodeArray,\n  Dictionary: decodeDictionary,\n  Event: decodeComposite,\n  Resource: decodeComposite,\n  Struct: decodeComposite,\n  Enum: decodeComposite,\n  Type: decodeType,\n  Path: decodePath,\n  Capability: decodeCapability\n};\nvar decoderLookup = function decoderLookup(decoders, lookup) {\n  var found = Object.keys(decoders).find(function (decoder) {\n    if (/^\\/.*\\/$/.test(decoder)) {\n      var reg = new RegExp(decoder.substring(1, decoder.length - 1));\n      return reg.test(lookup);\n    }\n    return decoder === lookup;\n  });\n  return lookup && found && decoders[found];\n};\nvar recurseDecode = /*#__PURE__*/function () {\n  var _ref17 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee16(decodeInstructions, decoders, stack) {\n    var decoder;\n    return _regeneratorRuntime().wrap(function _callee16$(_context16) {\n      while (1) switch (_context16.prev = _context16.next) {\n        case 0:\n          decoder = decoderLookup(decoders, decodeInstructions.type);\n          if (decoder) {\n            _context16.next = 3;\n            break;\n          }\n          throw new Error(\"Undefined Decoder Error: \".concat(decodeInstructions.type, \"@\").concat(stack.join(\".\")));\n        case 3:\n          _context16.next = 5;\n          return decoder(decodeInstructions.value, decoders, stack);\n        case 5:\n          return _context16.abrupt(\"return\", _context16.sent);\n        case 6:\n        case \"end\":\n          return _context16.stop();\n      }\n    }, _callee16);\n  }));\n  return function recurseDecode(_x26, _x27, _x28) {\n    return _ref17.apply(this, arguments);\n  };\n}();\n\n/**\n * @description - Decodes a response from Flow into JSON\n * @param {*} decodeInstructions - The response object from Flow\n * @param {object} customDecoders - An object of custom decoders\n * @param {Array<*>} stack - The stack of the current decoding\n * @returns {Promise<*>} - The decoded response\n */\nvar decode$1 = /*#__PURE__*/function () {\n  var _ref18 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee17(decodeInstructions) {\n    var customDecoders,\n      stack,\n      filteredDecoders,\n      decoders,\n      _args17 = arguments;\n    return _regeneratorRuntime().wrap(function _callee17$(_context17) {\n      while (1) switch (_context17.prev = _context17.next) {\n        case 0:\n          customDecoders = _args17.length > 1 && _args17[1] !== undefined ? _args17[1] : {};\n          stack = _args17.length > 2 && _args17[2] !== undefined ? _args17[2] : []; // Filter out all default decoders which are overridden by a custom decoder regex\n          filteredDecoders = Object.keys(defaultDecoders).filter(function (decoder) {\n            return !Object.keys(customDecoders).find(function (customDecoder) {\n              return new RegExp(customDecoder).test(decoder);\n            });\n          }).reduce(function (decoders, decoderKey) {\n            decoders[decoderKey] = defaultDecoders[decoderKey];\n            return decoders;\n          }, customDecoders);\n          decoders = _objectSpread(_objectSpread({}, filteredDecoders), customDecoders);\n          return _context17.abrupt(\"return\", recurseDecode(decodeInstructions, decoders, stack));\n        case 5:\n        case \"end\":\n          return _context17.stop();\n      }\n    }, _callee17);\n  }));\n  return function decode$1(_x29) {\n    return _ref18.apply(this, arguments);\n  };\n}();\nvar decodeResponse = /*#__PURE__*/function () {\n  var _ref19 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee20(response) {\n    var customDecoders,\n      chainIdMap,\n      _args20 = arguments;\n    return _regeneratorRuntime().wrap(function _callee20$(_context20) {\n      while (1) switch (_context20.prev = _context20.next) {\n        case 0:\n          customDecoders = _args20.length > 1 && _args20[1] !== undefined ? _args20[1] : {};\n          if (!response.encodedData) {\n            _context20.next = 5;\n            break;\n          }\n          return _context20.abrupt(\"return\", decode$1(response.encodedData, customDecoders));\n        case 5:\n          if (!response.transactionStatus) {\n            _context20.next = 16;\n            break;\n          }\n          _context20.t0 = _objectSpread;\n          _context20.t1 = _objectSpread({}, response.transactionStatus);\n          _context20.t2 = {};\n          _context20.next = 11;\n          return Promise.all(response.transactionStatus.events.map( /*#__PURE__*/function () {\n            var _decodeEvents = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee18(e) {\n              return _regeneratorRuntime().wrap(function _callee18$(_context18) {\n                while (1) switch (_context18.prev = _context18.next) {\n                  case 0:\n                    _context18.t0 = e.type;\n                    _context18.t1 = e.transactionId;\n                    _context18.t2 = e.transactionIndex;\n                    _context18.t3 = e.eventIndex;\n                    _context18.next = 6;\n                    return decode$1(e.payload, customDecoders);\n                  case 6:\n                    _context18.t4 = _context18.sent;\n                    return _context18.abrupt(\"return\", {\n                      type: _context18.t0,\n                      transactionId: _context18.t1,\n                      transactionIndex: _context18.t2,\n                      eventIndex: _context18.t3,\n                      data: _context18.t4\n                    });\n                  case 8:\n                  case \"end\":\n                    return _context18.stop();\n                }\n              }, _callee18);\n            }));\n            function decodeEvents(_x31) {\n              return _decodeEvents.apply(this, arguments);\n            }\n            return decodeEvents;\n          }()));\n        case 11:\n          _context20.t3 = _context20.sent;\n          _context20.t4 = {\n            events: _context20.t3\n          };\n          return _context20.abrupt(\"return\", (0, _context20.t0)(_context20.t1, _context20.t2, _context20.t4));\n        case 16:\n          if (!response.transaction) {\n            _context20.next = 20;\n            break;\n          }\n          return _context20.abrupt(\"return\", response.transaction);\n        case 20:\n          if (!response.events) {\n            _context20.next = 26;\n            break;\n          }\n          _context20.next = 23;\n          return Promise.all(response.events.map( /*#__PURE__*/function () {\n            var _decodeEvents2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee19(e) {\n              return _regeneratorRuntime().wrap(function _callee19$(_context19) {\n                while (1) switch (_context19.prev = _context19.next) {\n                  case 0:\n                    _context19.t0 = e.blockId;\n                    _context19.t1 = e.blockHeight;\n                    _context19.t2 = e.blockTimestamp;\n                    _context19.t3 = e.type;\n                    _context19.t4 = e.transactionId;\n                    _context19.t5 = e.transactionIndex;\n                    _context19.t6 = e.eventIndex;\n                    _context19.next = 9;\n                    return decode$1(e.payload, customDecoders);\n                  case 9:\n                    _context19.t7 = _context19.sent;\n                    return _context19.abrupt(\"return\", {\n                      blockId: _context19.t0,\n                      blockHeight: _context19.t1,\n                      blockTimestamp: _context19.t2,\n                      type: _context19.t3,\n                      transactionId: _context19.t4,\n                      transactionIndex: _context19.t5,\n                      eventIndex: _context19.t6,\n                      data: _context19.t7\n                    });\n                  case 11:\n                  case \"end\":\n                    return _context19.stop();\n                }\n              }, _callee19);\n            }));\n            function decodeEvents(_x32) {\n              return _decodeEvents2.apply(this, arguments);\n            }\n            return decodeEvents;\n          }()));\n        case 23:\n          return _context20.abrupt(\"return\", _context20.sent);\n        case 26:\n          if (!response.account) {\n            _context20.next = 30;\n            break;\n          }\n          return _context20.abrupt(\"return\", response.account);\n        case 30:\n          if (!response.block) {\n            _context20.next = 34;\n            break;\n          }\n          return _context20.abrupt(\"return\", response.block);\n        case 34:\n          if (!response.blockHeader) {\n            _context20.next = 38;\n            break;\n          }\n          return _context20.abrupt(\"return\", response.blockHeader);\n        case 38:\n          if (!response.latestBlock) {\n            _context20.next = 43;\n            break;\n          }\n          latestBlockDeprecationNotice();\n          return _context20.abrupt(\"return\", response.latestBlock);\n        case 43:\n          if (!response.transactionId) {\n            _context20.next = 47;\n            break;\n          }\n          return _context20.abrupt(\"return\", response.transactionId);\n        case 47:\n          if (!response.collection) {\n            _context20.next = 51;\n            break;\n          }\n          return _context20.abrupt(\"return\", response.collection);\n        case 51:\n          if (!response.networkParameters) {\n            _context20.next = 54;\n            break;\n          }\n          chainIdMap = {\n            \"flow-testnet\": \"testnet\",\n            \"flow-mainnet\": \"mainnet\",\n            \"flow-emulator\": \"local\"\n          };\n          return _context20.abrupt(\"return\", {\n            chainId: chainIdMap[response.networkParameters.chainId]\n          });\n        case 54:\n          return _context20.abrupt(\"return\", null);\n        case 55:\n        case \"end\":\n          return _context20.stop();\n      }\n    }, _callee20);\n  }));\n  return function decodeResponse(_x30) {\n    return _ref19.apply(this, arguments);\n  };\n}();\nvar isFn$2 = function isFn$2(v) {\n  return typeof v === \"function\";\n};\nvar isString$1 = function isString$1(v) {\n  return typeof v === \"string\";\n};\nvar oldIdentifierPatternFn = function oldIdentifierPatternFn() {\n  return /\\b(0x\\w+)\\b/g;\n};\nfunction isOldIdentifierSyntax(cadence) {\n  return oldIdentifierPatternFn().test(cadence);\n}\nvar newIdentifierPatternFn = function newIdentifierPatternFn() {\n  return /import\\s+\"(\\w+)\"/g;\n};\nfunction isNewIdentifierSyntax(cadence) {\n  return newIdentifierPatternFn().test(cadence);\n}\nfunction getContractIdentifierSyntaxMatches(cadence) {\n  return cadence.matchAll(newIdentifierPatternFn());\n}\nfunction resolveCadence(_x33) {\n  return _resolveCadence.apply(this, arguments);\n}\nfunction _resolveCadence() {\n  _resolveCadence = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee27(ix) {\n    var cadence, _iterator2, _step2, _step2$value, fullMatch, contractName, address;\n    return _regeneratorRuntime().wrap(function _callee27$(_context27) {\n      while (1) switch (_context27.prev = _context27.next) {\n        case 0:\n          if (!(!isTransaction(ix) && !isScript(ix))) {\n            _context27.next = 2;\n            break;\n          }\n          return _context27.abrupt(\"return\", ix);\n        case 2:\n          cadence = get(ix, \"ix.cadence\");\n          invariant$1(isFn$2(cadence) || isString$1(cadence), \"Cadence needs to be a function or a string.\");\n          if (!isFn$2(cadence)) {\n            _context27.next = 8;\n            break;\n          }\n          _context27.next = 7;\n          return cadence({});\n        case 7:\n          cadence = _context27.sent;\n        case 8:\n          invariant$1(isString$1(cadence), \"Cadence needs to be a string at this point.\");\n          invariant$1(!isOldIdentifierSyntax(cadence) || !isNewIdentifierSyntax(cadence), \"Both account identifier and contract identifier syntax not simultaneously supported.\");\n          if (!isOldIdentifierSyntax(cadence)) {\n            _context27.next = 14;\n            break;\n          }\n          _context27.next = 13;\n          return config().where(/^0x/).then(function (d) {\n            return Object.entries(d).reduce(function (cadence, _ref) {\n              var _ref26 = _slicedToArray(_ref, 2),\n                key = _ref26[0],\n                value = _ref26[1];\n              var regex = new RegExp(\"(\\\\b\" + key + \"\\\\b)\", \"g\");\n              return cadence.replace(regex, value);\n            }, cadence);\n          });\n        case 13:\n          cadence = _context27.sent;\n        case 14:\n          if (!isNewIdentifierSyntax(cadence)) {\n            _context27.next = 34;\n            break;\n          }\n          _iterator2 = _createForOfIteratorHelper(getContractIdentifierSyntaxMatches(cadence));\n          _context27.prev = 16;\n          _iterator2.s();\n        case 18:\n          if ((_step2 = _iterator2.n()).done) {\n            _context27.next = 26;\n            break;\n          }\n          _step2$value = _slicedToArray(_step2.value, 2), fullMatch = _step2$value[0], contractName = _step2$value[1];\n          _context27.next = 22;\n          return config().get(\"system.contracts.\".concat(contractName));\n        case 22:\n          address = _context27.sent;\n          if (address) {\n            cadence = cadence.replace(fullMatch, \"import \".concat(contractName, \" from \").concat(withPrefix(address)));\n          } else {\n            logger.log({\n              title: \"Contract Placeholder not found\",\n              message: \"Cannot find a value for contract placeholder \".concat(contractName, \". Please add to your flow.json or explicitly add it to the config 'contracts.*' namespace.\"),\n              level: logger.LEVELS.warn\n            });\n          }\n        case 24:\n          _context27.next = 18;\n          break;\n        case 26:\n          _context27.next = 31;\n          break;\n        case 28:\n          _context27.prev = 28;\n          _context27.t0 = _context27[\"catch\"](16);\n          _iterator2.e(_context27.t0);\n        case 31:\n          _context27.prev = 31;\n          _iterator2.f();\n          return _context27.finish(31);\n        case 34:\n          // We need to move this over in any case.\n          ix.message.cadence = cadence;\n          return _context27.abrupt(\"return\", ix);\n        case 36:\n        case \"end\":\n          return _context27.stop();\n      }\n    }, _callee27, null, [[16, 28, 31, 34]]);\n  }));\n  return _resolveCadence.apply(this, arguments);\n}\nvar isFn$1 = function isFn$1(v) {\n  return typeof v === \"function\";\n};\nfunction cast(arg) {\n  // prettier-ignore\n  invariant$1(typeof arg.xform != null, \"No type specified for argument: \".concat(arg.value));\n  if (isFn$1(arg.xform)) return arg.xform(arg.value);\n  if (isFn$1(arg.xform.asArgument)) return arg.xform.asArgument(arg.value);\n\n  // prettier-ignore\n  invariant$1(false, \"Invalid Argument\", arg);\n}\nfunction handleArgResolution(_x34) {\n  return _handleArgResolution.apply(this, arguments);\n}\nfunction _handleArgResolution() {\n  _handleArgResolution = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee28(arg) {\n    var depth,\n      resolvedArg,\n      _args28 = arguments;\n    return _regeneratorRuntime().wrap(function _callee28$(_context28) {\n      while (1) switch (_context28.prev = _context28.next) {\n        case 0:\n          depth = _args28.length > 1 && _args28[1] !== undefined ? _args28[1] : 3;\n          invariant$1(depth > 0, \"Argument Resolve Recursion Limit Exceeded for Arg: \".concat(arg.tempId));\n          if (!isFn$1(arg.resolveArgument)) {\n            _context28.next = 9;\n            break;\n          }\n          _context28.next = 5;\n          return arg.resolveArgument();\n        case 5:\n          resolvedArg = _context28.sent;\n          return _context28.abrupt(\"return\", handleArgResolution(resolvedArg, depth - 1));\n        case 9:\n          return _context28.abrupt(\"return\", arg);\n        case 10:\n        case \"end\":\n          return _context28.stop();\n      }\n    }, _callee28);\n  }));\n  return _handleArgResolution.apply(this, arguments);\n}\nfunction resolveArguments(_x35) {\n  return _resolveArguments.apply(this, arguments);\n}\nfunction _resolveArguments() {\n  _resolveArguments = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee29(ix) {\n    var _i2, _Object$entries, _Object$entries$_i, id, _arg, res;\n    return _regeneratorRuntime().wrap(function _callee29$(_context29) {\n      while (1) switch (_context29.prev = _context29.next) {\n        case 0:\n          if (!(isTransaction(ix) || isScript(ix))) {\n            _context29.next = 11;\n            break;\n          }\n          _i2 = 0, _Object$entries = Object.entries(ix.arguments);\n        case 2:\n          if (!(_i2 < _Object$entries.length)) {\n            _context29.next = 11;\n            break;\n          }\n          _Object$entries$_i = _slicedToArray(_Object$entries[_i2], 2), id = _Object$entries$_i[0], _arg = _Object$entries$_i[1];\n          _context29.next = 6;\n          return handleArgResolution(_arg);\n        case 6:\n          res = _context29.sent;\n          ix.arguments[id].asArgument = cast(res);\n        case 8:\n          _i2++;\n          _context29.next = 2;\n          break;\n        case 11:\n          return _context29.abrupt(\"return\", ix);\n        case 12:\n        case \"end\":\n          return _context29.stop();\n      }\n    }, _callee29);\n  }));\n  return _resolveArguments.apply(this, arguments);\n}\nvar encodeTransactionPayload = function encodeTransactionPayload(tx) {\n  return prependTransactionDomainTag(rlpEncode(preparePayload(tx)));\n};\nvar encodeTransactionEnvelope = function encodeTransactionEnvelope(tx) {\n  return prependTransactionDomainTag(rlpEncode(prepareEnvelope(tx)));\n};\nvar encodeTxIdFromVoucher = function encodeTxIdFromVoucher(voucher) {\n  return sha3_256(rlpEncode(prepareVoucher(voucher)));\n};\nvar rightPaddedHexBuffer = function rightPaddedHexBuffer(value, pad) {\n  return Buffer.from(value.padEnd(pad * 2, 0), \"hex\");\n};\nvar leftPaddedHexBuffer = function leftPaddedHexBuffer(value, pad) {\n  return Buffer.from(value.padStart(pad * 2, 0), \"hex\");\n};\nvar TRANSACTION_DOMAIN_TAG = rightPaddedHexBuffer(Buffer.from(\"FLOW-V0.0-transaction\").toString(\"hex\"), 32).toString(\"hex\");\nvar prependTransactionDomainTag = function prependTransactionDomainTag(tx) {\n  return TRANSACTION_DOMAIN_TAG + tx;\n};\nvar addressBuffer = function addressBuffer(addr) {\n  return leftPaddedHexBuffer(addr, 8);\n};\nvar blockBuffer = function blockBuffer(block) {\n  return leftPaddedHexBuffer(block, 32);\n};\nvar argumentToString = function argumentToString(arg) {\n  return Buffer.from(JSON.stringify(arg), \"utf8\");\n};\nvar scriptBuffer = function scriptBuffer(script) {\n  return Buffer.from(script, \"utf8\");\n};\nvar signatureBuffer = function signatureBuffer(signature) {\n  return Buffer.from(signature, \"hex\");\n};\nvar rlpEncode = function rlpEncode(v) {\n  return encode(v).toString(\"hex\");\n};\nvar sha3_256 = function sha3_256(msg) {\n  var sha = new SHA3(256);\n  sha.update(Buffer.from(msg, \"hex\"));\n  return sha.digest().toString(\"hex\");\n};\nvar preparePayload = function preparePayload(tx) {\n  validatePayload(tx);\n  return [scriptBuffer(tx.cadence), tx.arguments.map(argumentToString), blockBuffer(tx.refBlock), tx.computeLimit, addressBuffer(sansPrefix(tx.proposalKey.address)), tx.proposalKey.keyId, tx.proposalKey.sequenceNum, addressBuffer(sansPrefix(tx.payer)), tx.authorizers.map(function (authorizer) {\n    return addressBuffer(sansPrefix(authorizer));\n  })];\n};\nvar prepareEnvelope = function prepareEnvelope(tx) {\n  validateEnvelope(tx);\n  return [preparePayload(tx), preparePayloadSignatures(tx)];\n};\nvar preparePayloadSignatures = function preparePayloadSignatures(tx) {\n  var signers = collectSigners(tx);\n  return tx.payloadSigs.map(function (sig) {\n    return {\n      signerIndex: signers.get(sig.address),\n      keyId: sig.keyId,\n      sig: sig.sig\n    };\n  }).sort(function (a, b) {\n    if (a.signerIndex > b.signerIndex) return 1;\n    if (a.signerIndex < b.signerIndex) return -1;\n    if (a.keyId > b.keyId) return 1;\n    if (a.keyId < b.keyId) return -1;\n  }).map(function (sig) {\n    return [sig.signerIndex, sig.keyId, signatureBuffer(sig.sig)];\n  });\n};\nvar collectSigners = function collectSigners(tx) {\n  var signers = new Map();\n  var i = 0;\n  var addSigner = function addSigner(addr) {\n    if (!signers.has(addr)) {\n      signers.set(addr, i);\n      i++;\n    }\n  };\n  addSigner(tx.proposalKey.address);\n  addSigner(tx.payer);\n  tx.authorizers.forEach(addSigner);\n  return signers;\n};\nvar prepareVoucher = function prepareVoucher(voucher) {\n  validateVoucher(voucher);\n  var signers = collectSigners(voucher);\n  var prepareSigs = function prepareSigs(sigs) {\n    return sigs.map(function (_ref) {\n      var address = _ref.address,\n        keyId = _ref.keyId,\n        sig = _ref.sig;\n      return {\n        signerIndex: signers.get(address),\n        keyId: keyId,\n        sig: sig\n      };\n    }).sort(function (a, b) {\n      if (a.signerIndex > b.signerIndex) return 1;\n      if (a.signerIndex < b.signerIndex) return -1;\n      if (a.keyId > b.keyId) return 1;\n      if (a.keyId < b.keyId) return -1;\n    }).map(function (sig) {\n      return [sig.signerIndex, sig.keyId, signatureBuffer(sig.sig)];\n    });\n  };\n  return [[scriptBuffer(voucher.cadence), voucher.arguments.map(argumentToString), blockBuffer(voucher.refBlock), voucher.computeLimit, addressBuffer(sansPrefix(voucher.proposalKey.address)), voucher.proposalKey.keyId, voucher.proposalKey.sequenceNum, addressBuffer(sansPrefix(voucher.payer)), voucher.authorizers.map(function (authorizer) {\n    return addressBuffer(sansPrefix(authorizer));\n  })], prepareSigs(voucher.payloadSigs), prepareSigs(voucher.envelopeSigs)];\n};\nvar validatePayload = function validatePayload(tx) {\n  payloadFields.forEach(function (field) {\n    return checkField(tx, field);\n  });\n  proposalKeyFields.forEach(function (field) {\n    return checkField(tx.proposalKey, field, \"proposalKey\");\n  });\n};\nvar validateEnvelope = function validateEnvelope(tx) {\n  payloadSigsFields.forEach(function (field) {\n    return checkField(tx, field);\n  });\n  tx.payloadSigs.forEach(function (sig, index) {\n    payloadSigFields.forEach(function (field) {\n      return checkField(sig, field, \"payloadSigs\", index);\n    });\n  });\n};\nvar validateVoucher = function validateVoucher(voucher) {\n  payloadFields.forEach(function (field) {\n    return checkField(voucher, field);\n  });\n  proposalKeyFields.forEach(function (field) {\n    return checkField(voucher.proposalKey, field, \"proposalKey\");\n  });\n  payloadSigsFields.forEach(function (field) {\n    return checkField(voucher, field);\n  });\n  voucher.payloadSigs.forEach(function (sig, index) {\n    payloadSigFields.forEach(function (field) {\n      return checkField(sig, field, \"payloadSigs\", index);\n    });\n  });\n  envelopeSigsFields.forEach(function (field) {\n    return checkField(voucher, field);\n  });\n  voucher.envelopeSigs.forEach(function (sig, index) {\n    envelopeSigFields.forEach(function (field) {\n      return checkField(sig, field, \"envelopeSigs\", index);\n    });\n  });\n};\nvar isNumber = function isNumber(v) {\n  return typeof v === \"number\";\n};\nvar isString = function isString(v) {\n  return typeof v === \"string\";\n};\nvar isObject = function isObject(v) {\n  return v !== null && typeof v === \"object\";\n};\nvar isArray = function isArray(v) {\n  return isObject(v) && v instanceof Array;\n};\nvar payloadFields = [{\n  name: \"cadence\",\n  check: isString\n}, {\n  name: \"arguments\",\n  check: isArray\n}, {\n  name: \"refBlock\",\n  check: isString,\n  defaultVal: \"0\"\n}, {\n  name: \"computeLimit\",\n  check: isNumber\n}, {\n  name: \"proposalKey\",\n  check: isObject\n}, {\n  name: \"payer\",\n  check: isString\n}, {\n  name: \"authorizers\",\n  check: isArray\n}];\nvar proposalKeyFields = [{\n  name: \"address\",\n  check: isString\n}, {\n  name: \"keyId\",\n  check: isNumber\n}, {\n  name: \"sequenceNum\",\n  check: isNumber\n}];\nvar payloadSigsFields = [{\n  name: \"payloadSigs\",\n  check: isArray\n}];\nvar payloadSigFields = [{\n  name: \"address\",\n  check: isString\n}, {\n  name: \"keyId\",\n  check: isNumber\n}, {\n  name: \"sig\",\n  check: isString\n}];\nvar envelopeSigsFields = [{\n  name: \"envelopeSigs\",\n  check: isArray\n}];\nvar envelopeSigFields = [{\n  name: \"address\",\n  check: isString\n}, {\n  name: \"keyId\",\n  check: isNumber\n}, {\n  name: \"sig\",\n  check: isString\n}];\nvar checkField = function checkField(obj, field, base, index) {\n  var name = field.name,\n    check = field.check,\n    defaultVal = field.defaultVal;\n  if (obj[name] == null && defaultVal != null) obj[name] = defaultVal;\n  if (obj[name] == null) throw missingFieldError(name, base, index);\n  if (!check(obj[name])) throw invalidFieldError(name, base, index);\n};\nvar printFieldName = function printFieldName(field, base, index) {\n  if (!!base) return index == null ? \"\".concat(base, \".\").concat(field) : \"\".concat(base, \".\").concat(index, \".\").concat(field);\n  return field;\n};\nvar missingFieldError = function missingFieldError(field, base, index) {\n  return new Error(\"Missing field \".concat(printFieldName(field, base, index)));\n};\nvar invalidFieldError = function invalidFieldError(field, base, index) {\n  return new Error(\"Invalid field \".concat(printFieldName(field, base, index)));\n};\nfunction findInsideSigners(ix) {\n  // Inside Signers Are: (authorizers + proposer) - payer\n  var inside = new Set(ix.authorizations);\n  inside.add(ix.proposer);\n  if (Array.isArray(ix.payer)) {\n    ix.payer.forEach(function (p) {\n      return inside.delete(p);\n    });\n  } else {\n    inside.delete(ix.payer);\n  }\n  return Array.from(inside);\n}\nfunction findOutsideSigners(ix) {\n  // Outside Signers Are: (payer)\n  var outside = new Set(Array.isArray(ix.payer) ? ix.payer : [ix.payer]);\n  return Array.from(outside);\n}\nvar createSignableVoucher = function createSignableVoucher(ix) {\n  var buildAuthorizers = function buildAuthorizers() {\n    var authorizations = ix.authorizations.map(function (cid) {\n      return withPrefix(ix.accounts[cid].addr);\n    }).reduce(function (prev, current) {\n      return prev.find(function (item) {\n        return item === current;\n      }) ? prev : [].concat(_toConsumableArray(prev), [current]);\n    }, []);\n    return authorizations[0] ? authorizations : [];\n  };\n  var buildInsideSigners = function buildInsideSigners() {\n    return findInsideSigners(ix).map(function (id) {\n      return {\n        address: withPrefix(ix.accounts[id].addr),\n        keyId: ix.accounts[id].keyId,\n        sig: ix.accounts[id].signature\n      };\n    });\n  };\n  var buildOutsideSigners = function buildOutsideSigners() {\n    return findOutsideSigners(ix).map(function (id) {\n      return {\n        address: withPrefix(ix.accounts[id].addr),\n        keyId: ix.accounts[id].keyId,\n        sig: ix.accounts[id].signature\n      };\n    });\n  };\n  return {\n    cadence: ix.message.cadence,\n    refBlock: ix.message.refBlock || null,\n    computeLimit: ix.message.computeLimit,\n    arguments: ix.message.arguments.map(function (id) {\n      return ix.arguments[id].asArgument;\n    }),\n    proposalKey: {\n      address: withPrefix(ix.accounts[ix.proposer].addr),\n      keyId: ix.accounts[ix.proposer].keyId,\n      sequenceNum: ix.accounts[ix.proposer].sequenceNum\n    },\n    payer: withPrefix(ix.accounts[Array.isArray(ix.payer) ? ix.payer[0] : ix.payer].addr),\n    authorizers: buildAuthorizers(),\n    payloadSigs: buildInsideSigners(),\n    envelopeSigs: buildOutsideSigners()\n  };\n};\nvar voucherToTxId = function voucherToTxId(voucher) {\n  return encodeTxIdFromVoucher(voucher);\n};\nvar idof$1 = function idof$1(acct) {\n  return \"\".concat(withPrefix(acct.addr), \"-\").concat(acct.keyId);\n};\nvar isFn = function isFn(v) {\n  return typeof v === \"function\";\n};\nfunction buildPreSignable(acct, ix) {\n  try {\n    return {\n      f_type: \"PreSignable\",\n      f_vsn: \"1.0.1\",\n      roles: acct.role,\n      cadence: ix.message.cadence,\n      args: ix.message.arguments.map(function (d) {\n        return ix.arguments[d].asArgument;\n      }),\n      data: {},\n      interaction: ix,\n      voucher: createSignableVoucher(ix)\n    };\n  } catch (error) {\n    console.error(\"buildPreSignable\", error);\n    throw error;\n  }\n}\nfunction collectAccounts(_x36, _x37, _x38) {\n  return _collectAccounts.apply(this, arguments);\n}\nfunction _collectAccounts() {\n  _collectAccounts = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee30(ix, accounts, last) {\n    var depth,\n      authorizations,\n      _iterator3,\n      _step3,\n      _loop,\n      old,\n      _args31 = arguments;\n    return _regeneratorRuntime().wrap(function _callee30$(_context31) {\n      while (1) switch (_context31.prev = _context31.next) {\n        case 0:\n          depth = _args31.length > 3 && _args31[3] !== undefined ? _args31[3] : 3;\n          invariant$1(depth, \"Account Resolve Recursion Limit Exceeded\", {\n            ix: ix,\n            accounts: accounts\n          });\n          authorizations = [];\n          _iterator3 = _createForOfIteratorHelper(accounts);\n          _context31.prev = 4;\n          _loop = /*#__PURE__*/_regeneratorRuntime().mark(function _loop() {\n            var ax, resolve, dupList, payerAccts, multiAccts;\n            return _regeneratorRuntime().wrap(function _loop$(_context30) {\n              while (1) switch (_context30.prev = _context30.next) {\n                case 0:\n                  ax = _step3.value;\n                  resolve = ax.resolve;\n                  ax.resolve = null;\n                  old = last || ax;\n                  if (!isFn(resolve)) {\n                    _context30.next = 8;\n                    break;\n                  }\n                  _context30.next = 7;\n                  return resolve(ax, buildPreSignable(ax, ix));\n                case 7:\n                  ax = _context30.sent;\n                case 8:\n                  if (!Array.isArray(ax)) {\n                    _context30.next = 13;\n                    break;\n                  }\n                  _context30.next = 11;\n                  return collectAccounts(ix, ax, old, depth - 1);\n                case 11:\n                  _context30.next = 30;\n                  break;\n                case 13:\n                  if (ax.addr) {\n                    ax.addr = sansPrefix(ax.addr);\n                  }\n                  if (ax.addr != null && ax.keyId != null) {\n                    ax.tempId = idof$1(ax);\n                  }\n                  ix.accounts[ax.tempId] = ix.accounts[ax.tempId] || ax;\n                  ix.accounts[ax.tempId].role.proposer = ix.accounts[ax.tempId].role.proposer || ax.role.proposer;\n                  ix.accounts[ax.tempId].role.payer = ix.accounts[ax.tempId].role.payer || ax.role.payer;\n                  ix.accounts[ax.tempId].role.authorizer = ix.accounts[ax.tempId].role.authorizer || ax.role.authorizer;\n                  if (ix.accounts[ax.tempId].role.proposer && ix.proposer === old.tempId) {\n                    ix.proposer = ax.tempId;\n                  }\n                  if (!ix.accounts[ax.tempId].role.payer) {\n                    _context30.next = 29;\n                    break;\n                  }\n                  if (Array.isArray(ix.payer)) {\n                    ix.payer = Array.from(new Set([].concat(_toConsumableArray(ix.payer), [ax.tempId]).map(function (d) {\n                      return d === old.tempId ? ax.tempId : d;\n                    })));\n                  } else {\n                    ix.payer = Array.from(new Set([ix.payer, ax.tempId].map(function (d) {\n                      return d === old.tempId ? ax.tempId : d;\n                    })));\n                  }\n                  if (!(ix.payer.length > 1)) {\n                    _context30.next = 29;\n                    break;\n                  }\n                  // remove payer dups based on addr and keyId\n                  dupList = [];\n                  payerAccts = [];\n                  ix.payer = ix.payer.reduce(function (g, tempId) {\n                    var addr = ix.accounts[tempId].addr;\n                    var key = idof$1(ix.accounts[tempId]);\n                    payerAccts.push(addr);\n                    if (dupList.includes(key)) return g;\n                    dupList.push(key);\n                    return [].concat(_toConsumableArray(g), [tempId]);\n                  }, []);\n                  multiAccts = Array.from(new Set(payerAccts));\n                  if (!(multiAccts.length > 1)) {\n                    _context30.next = 29;\n                    break;\n                  }\n                  throw new Error(\"Payer can not be different accounts\");\n                case 29:\n                  if (ix.accounts[ax.tempId].role.authorizer) {\n                    if (last) {\n                      // do group replacement\n                      authorizations = Array.from(new Set([].concat(_toConsumableArray(authorizations), [ax.tempId])));\n                    } else {\n                      // do 1-1 replacement\n                      ix.authorizations = ix.authorizations.map(function (d) {\n                        return d === old.tempId ? ax.tempId : d;\n                      });\n                    }\n                  }\n                case 30:\n                  if (old.tempId != ax.tempId) delete ix.accounts[old.tempId];\n                case 31:\n                case \"end\":\n                  return _context30.stop();\n              }\n            }, _loop);\n          });\n          _iterator3.s();\n        case 7:\n          if ((_step3 = _iterator3.n()).done) {\n            _context31.next = 11;\n            break;\n          }\n          return _context31.delegateYield(_loop(), \"t0\", 9);\n        case 9:\n          _context31.next = 7;\n          break;\n        case 11:\n          _context31.next = 16;\n          break;\n        case 13:\n          _context31.prev = 13;\n          _context31.t1 = _context31[\"catch\"](4);\n          _iterator3.e(_context31.t1);\n        case 16:\n          _context31.prev = 16;\n          _iterator3.f();\n          return _context31.finish(16);\n        case 19:\n          if (last) {\n            // complete (flatmap) group replacement\n            ix.authorizations = ix.authorizations.map(function (d) {\n              return d === last.tempId ? authorizations : d;\n            }).reduce(function (prev, curr) {\n              return Array.isArray(curr) ? [].concat(_toConsumableArray(prev), _toConsumableArray(curr)) : [].concat(_toConsumableArray(prev), [curr]);\n            }, []);\n          }\n        case 20:\n        case \"end\":\n          return _context31.stop();\n      }\n    }, _callee30, null, [[4, 13, 16, 19]]);\n  }));\n  return _collectAccounts.apply(this, arguments);\n}\nfunction resolveAccounts(_x39) {\n  return _resolveAccounts.apply(this, arguments);\n}\nfunction _resolveAccounts() {\n  _resolveAccounts = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee31(ix) {\n    return _regeneratorRuntime().wrap(function _callee31$(_context32) {\n      while (1) switch (_context32.prev = _context32.next) {\n        case 0:\n          if (!isTransaction(ix)) {\n            _context32.next = 13;\n            break;\n          }\n          if (!Array.isArray(ix.payer)) {\n            log.deprecate({\n              pkg: \"FCL\",\n              subject: '\"ix.payer\" must be an array. Support for ix.payer as a singular',\n              message: \"See changelog for more info.\"\n            });\n          }\n          _context32.prev = 2;\n          _context32.next = 5;\n          return collectAccounts(ix, Object.values(ix.accounts));\n        case 5:\n          _context32.next = 7;\n          return collectAccounts(ix, Object.values(ix.accounts));\n        case 7:\n          _context32.next = 13;\n          break;\n        case 9:\n          _context32.prev = 9;\n          _context32.t0 = _context32[\"catch\"](2);\n          console.error(\"=== SAD PANDA ===\\n\\n\", _context32.t0, \"\\n\\n=== SAD PANDA ===\");\n          throw _context32.t0;\n        case 13:\n          return _context32.abrupt(\"return\", ix);\n        case 14:\n        case \"end\":\n          return _context32.stop();\n      }\n    }, _callee31, null, [[2, 9]]);\n  }));\n  return _resolveAccounts.apply(this, arguments);\n}\nfunction resolveSignatures(_x40) {\n  return _resolveSignatures.apply(this, arguments);\n}\nfunction _resolveSignatures() {\n  _resolveSignatures = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee32(ix) {\n    var insideSigners, insidePayload, outsideSigners, outsidePayload;\n    return _regeneratorRuntime().wrap(function _callee32$(_context33) {\n      while (1) switch (_context33.prev = _context33.next) {\n        case 0:\n          if (!isTransaction(ix)) {\n            _context33.next = 16;\n            break;\n          }\n          _context33.prev = 1;\n          insideSigners = findInsideSigners(ix);\n          insidePayload = encodeTransactionPayload(prepForEncoding(ix));\n          _context33.next = 6;\n          return Promise.all(insideSigners.map(fetchSignature(ix, insidePayload)));\n        case 6:\n          outsideSigners = findOutsideSigners(ix);\n          outsidePayload = encodeTransactionEnvelope(_objectSpread(_objectSpread({}, prepForEncoding(ix)), {}, {\n            payloadSigs: insideSigners.map(function (id) {\n              return {\n                address: ix.accounts[id].addr,\n                keyId: ix.accounts[id].keyId,\n                sig: ix.accounts[id].signature\n              };\n            })\n          }));\n          _context33.next = 10;\n          return Promise.all(outsideSigners.map(fetchSignature(ix, outsidePayload)));\n        case 10:\n          _context33.next = 16;\n          break;\n        case 12:\n          _context33.prev = 12;\n          _context33.t0 = _context33[\"catch\"](1);\n          console.error(\"Signatures\", _context33.t0, {\n            ix: ix\n          });\n          throw _context33.t0;\n        case 16:\n          return _context33.abrupt(\"return\", ix);\n        case 17:\n        case \"end\":\n          return _context33.stop();\n      }\n    }, _callee32, null, [[1, 12]]);\n  }));\n  return _resolveSignatures.apply(this, arguments);\n}\nfunction fetchSignature(ix, payload) {\n  return /*#__PURE__*/function () {\n    var _innerFetchSignature = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee21(id) {\n      var acct, _yield$acct$signingFu, signature;\n      return _regeneratorRuntime().wrap(function _callee21$(_context21) {\n        while (1) switch (_context21.prev = _context21.next) {\n          case 0:\n            acct = ix.accounts[id];\n            if (!(acct.signature != null)) {\n              _context21.next = 3;\n              break;\n            }\n            return _context21.abrupt(\"return\");\n          case 3:\n            _context21.next = 5;\n            return acct.signingFunction(buildSignable(acct, payload, ix));\n          case 5:\n            _yield$acct$signingFu = _context21.sent;\n            signature = _yield$acct$signingFu.signature;\n            ix.accounts[id].signature = signature;\n          case 8:\n          case \"end\":\n            return _context21.stop();\n        }\n      }, _callee21);\n    }));\n    function innerFetchSignature(_x41) {\n      return _innerFetchSignature.apply(this, arguments);\n    }\n    return innerFetchSignature;\n  }();\n}\nfunction buildSignable(acct, message, ix) {\n  try {\n    return {\n      f_type: \"Signable\",\n      f_vsn: \"1.0.1\",\n      message: message,\n      addr: sansPrefix(acct.addr),\n      keyId: acct.keyId,\n      roles: acct.role,\n      cadence: ix.message.cadence,\n      args: ix.message.arguments.map(function (d) {\n        return ix.arguments[d].asArgument;\n      }),\n      data: {},\n      interaction: ix,\n      voucher: createSignableVoucher(ix)\n    };\n  } catch (error) {\n    console.error(\"buildSignable\", error);\n    throw error;\n  }\n}\nfunction prepForEncoding(ix) {\n  var payerAddress = sansPrefix((Array.isArray(ix.payer) ? ix.accounts[ix.payer[0]] : ix.accounts[ix.payer]).addr);\n  return {\n    cadence: ix.message.cadence,\n    refBlock: ix.message.refBlock || null,\n    computeLimit: ix.message.computeLimit,\n    arguments: ix.message.arguments.map(function (id) {\n      return ix.arguments[id].asArgument;\n    }),\n    proposalKey: {\n      address: sansPrefix(ix.accounts[ix.proposer].addr),\n      keyId: ix.accounts[ix.proposer].keyId,\n      sequenceNum: ix.accounts[ix.proposer].sequenceNum\n    },\n    payer: payerAddress,\n    authorizers: ix.authorizations.map(function (cid) {\n      return sansPrefix(ix.accounts[cid].addr);\n    }).reduce(function (prev, current) {\n      return prev.find(function (item) {\n        return item === current;\n      }) ? prev : [].concat(_toConsumableArray(prev), [current]);\n    }, [])\n  };\n}\nfunction resolveValidators(_x42) {\n  return _resolveValidators.apply(this, arguments);\n}\nfunction _resolveValidators() {\n  _resolveValidators = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee33(ix) {\n    var validators;\n    return _regeneratorRuntime().wrap(function _callee33$(_context34) {\n      while (1) switch (_context34.prev = _context34.next) {\n        case 0:\n          validators = get(ix, \"ix.validators\", []);\n          return _context34.abrupt(\"return\", pipe(ix, validators.map(function (cb) {\n            return function (ix) {\n              return cb(ix, {\n                Ok: Ok,\n                Bad: Bad\n              });\n            };\n          })));\n        case 2:\n        case \"end\":\n          return _context34.stop();\n      }\n    }, _callee33);\n  }));\n  return _resolveValidators.apply(this, arguments);\n}\nfunction resolveFinalNormalization(_x43) {\n  return _resolveFinalNormalization.apply(this, arguments);\n}\nfunction _resolveFinalNormalization() {\n  _resolveFinalNormalization = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee34(ix) {\n    var _i3, _Object$keys2, key;\n    return _regeneratorRuntime().wrap(function _callee34$(_context35) {\n      while (1) switch (_context35.prev = _context35.next) {\n        case 0:\n          for (_i3 = 0, _Object$keys2 = Object.keys(ix.accounts); _i3 < _Object$keys2.length; _i3++) {\n            key = _Object$keys2[_i3];\n            ix.accounts[key].addr = sansPrefix(ix.accounts[key].addr);\n          }\n          return _context35.abrupt(\"return\", ix);\n        case 2:\n        case \"end\":\n          return _context35.stop();\n      }\n    }, _callee34);\n  }));\n  return _resolveFinalNormalization.apply(this, arguments);\n}\nfunction resolveVoucherIntercept(_x44) {\n  return _resolveVoucherIntercept.apply(this, arguments);\n}\nfunction _resolveVoucherIntercept() {\n  _resolveVoucherIntercept = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee35(ix) {\n    var fn;\n    return _regeneratorRuntime().wrap(function _callee35$(_context36) {\n      while (1) switch (_context36.prev = _context36.next) {\n        case 0:\n          fn = get(ix, \"ix.voucher-intercept\");\n          if (!isFn$3(fn)) {\n            _context36.next = 4;\n            break;\n          }\n          _context36.next = 4;\n          return fn(createSignableVoucher(ix));\n        case 4:\n          return _context36.abrupt(\"return\", ix);\n        case 5:\n        case \"end\":\n          return _context36.stop();\n      }\n    }, _callee35);\n  }));\n  return _resolveVoucherIntercept.apply(this, arguments);\n}\nvar DEFAULT_COMPUTE_LIMIT = 100;\nfunction resolveComputeLimit(_x45) {\n  return _resolveComputeLimit.apply(this, arguments);\n}\nfunction _resolveComputeLimit() {\n  _resolveComputeLimit = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee36(ix) {\n    return _regeneratorRuntime().wrap(function _callee36$(_context37) {\n      while (1) switch (_context37.prev = _context37.next) {\n        case 0:\n          if (!isTransaction(ix)) {\n            _context37.next = 8;\n            break;\n          }\n          _context37.t0 = ix.message.computeLimit;\n          if (_context37.t0) {\n            _context37.next = 6;\n            break;\n          }\n          _context37.next = 5;\n          return config.get(\"fcl.limit\");\n        case 5:\n          _context37.t0 = _context37.sent;\n        case 6:\n          ix.message.computeLimit = _context37.t0;\n          if (!ix.message.computeLimit) {\n            logger.log.deprecate({\n              pkg: \"FCL/SDK\",\n              subject: \"The built-in default compute limit (DEFAULT_COMPUTE_LIMIT=10)\",\n              transition: \"https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0009-deprecate-default-compute-limit\"\n            });\n            ix.message.computeLimit = DEFAULT_COMPUTE_LIMIT;\n          }\n        case 8:\n          return _context37.abrupt(\"return\", ix);\n        case 9:\n        case \"end\":\n          return _context37.stop();\n      }\n    }, _callee36);\n  }));\n  return _resolveComputeLimit.apply(this, arguments);\n}\nvar noop = function noop(v) {\n  return v;\n};\nvar debug = function debug(key) {\n  var fn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n  return /*#__PURE__*/function () {\n    var _ref20 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee22(ix) {\n      var accts, log;\n      return _regeneratorRuntime().wrap(function _callee22$(_context22) {\n        while (1) switch (_context22.prev = _context22.next) {\n          case 0:\n            accts = function accts(ix) {\n              return [\"\\nAccounts:\", {\n                proposer: ix.proposer,\n                authorizations: ix.authorizations,\n                payer: ix.payer\n              }, \"\\n\\nDetails:\", ix.accounts].filter(Boolean);\n            };\n            log = function log() {\n              var _console;\n              for (var _len = arguments.length, msg = new Array(_len), _key = 0; _key < _len; _key++) {\n                msg[_key] = arguments[_key];\n              }\n              (_console = console).log.apply(_console, [\"debug[\".concat(key, \"] ---\\n\")].concat(msg, [\"\\n\\n\\n---\"]));\n            };\n            _context22.next = 4;\n            return config.get(\"debug.\".concat(key));\n          case 4:\n            if (!_context22.sent) {\n              _context22.next = 7;\n              break;\n            }\n            _context22.next = 7;\n            return fn(ix, log, accts);\n          case 7:\n            return _context22.abrupt(\"return\", ix);\n          case 8:\n          case \"end\":\n            return _context22.stop();\n        }\n      }, _callee22);\n    }));\n    return function (_x46) {\n      return _ref20.apply(this, arguments);\n    };\n  }();\n};\nvar resolve = pipe([resolveCadence, debug(\"cadence\", function (ix, log) {\n  return log(ix.message.cadence);\n}), resolveComputeLimit, debug(\"compute limit\", function (ix, log) {\n  return log(ix.message.computeLimit);\n}), resolveArguments, debug(\"arguments\", function (ix, log) {\n  return log(ix.message.arguments, ix.message);\n}), resolveAccounts, debug(\"accounts\", function (ix, log, accts) {\n  return log.apply(void 0, _toConsumableArray(accts(ix)));\n}), /* special */execFetchRef, /* special */execFetchSequenceNumber, resolveSignatures, debug(\"signatures\", function (ix, log, accts) {\n  return log.apply(void 0, _toConsumableArray(accts(ix)));\n}), resolveFinalNormalization, resolveValidators, resolveVoucherIntercept, debug(\"resolved\", function (ix, log) {\n  return log(ix);\n})]);\nfunction execFetchRef(_x47) {\n  return _execFetchRef.apply(this, arguments);\n}\nfunction _execFetchRef() {\n  _execFetchRef = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee37(ix) {\n    var node, sendFn;\n    return _regeneratorRuntime().wrap(function _callee37$(_context38) {\n      while (1) switch (_context38.prev = _context38.next) {\n        case 0:\n          if (!(isTransaction(ix) && ix.message.refBlock == null)) {\n            _context38.next = 11;\n            break;\n          }\n          _context38.next = 3;\n          return config().get(\"accessNode.api\");\n        case 3:\n          node = _context38.sent;\n          _context38.next = 6;\n          return config.first([\"sdk.transport\", \"sdk.send\"], send$1);\n        case 6:\n          sendFn = _context38.sent;\n          invariant$1(sendFn, \"Required value for sdk.transport is not defined in config. See: \".concat(\"https://github.com/onflow/fcl-js/blob/master/packages/sdk/CHANGELOG.md#0057-alpha1----2022-01-21\"));\n          _context38.next = 10;\n          return sendFn(build([getBlock()]), {\n            config: config,\n            response: response,\n            Buffer: Buffer,\n            ix: ixModule\n          }, {\n            node: node\n          }).then(decodeResponse);\n        case 10:\n          ix.message.refBlock = _context38.sent.id;\n        case 11:\n          return _context38.abrupt(\"return\", ix);\n        case 12:\n        case \"end\":\n          return _context38.stop();\n      }\n    }, _callee37);\n  }));\n  return _execFetchRef.apply(this, arguments);\n}\nfunction execFetchSequenceNumber(_x48) {\n  return _execFetchSequenceNumber.apply(this, arguments);\n}\nfunction _execFetchSequenceNumber() {\n  _execFetchSequenceNumber = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee38(ix) {\n    var acct, node, sendFn;\n    return _regeneratorRuntime().wrap(function _callee38$(_context39) {\n      while (1) switch (_context39.prev = _context39.next) {\n        case 0:\n          if (!isTransaction(ix)) {\n            _context39.next = 20;\n            break;\n          }\n          acct = Object.values(ix.accounts).find(function (a) {\n            return a.role.proposer;\n          });\n          invariant$1(acct, \"Transactions require a proposer\");\n          if (!(acct.sequenceNum == null)) {\n            _context39.next = 20;\n            break;\n          }\n          _context39.next = 6;\n          return config().get(\"accessNode.api\");\n        case 6:\n          node = _context39.sent;\n          _context39.next = 9;\n          return config.first([\"sdk.transport\", \"sdk.send\"], send$1);\n        case 9:\n          sendFn = _context39.sent;\n          invariant$1(sendFn, \"Required value for sdk.transport is not defined in config. See: \".concat(\"https://github.com/onflow/fcl-js/blob/master/packages/sdk/CHANGELOG.md#0057-alpha1----2022-01-21\"));\n          _context39.t0 = sendFn;\n          _context39.next = 14;\n          return build([getAccount(acct.addr)]);\n        case 14:\n          _context39.t1 = _context39.sent;\n          _context39.t2 = {\n            config: config,\n            response: response,\n            Buffer: Buffer,\n            ix: ixModule\n          };\n          _context39.t3 = {\n            node: node\n          };\n          _context39.next = 19;\n          return (0, _context39.t0)(_context39.t1, _context39.t2, _context39.t3).then(decodeResponse).then(function (acct) {\n            return acct.keys;\n          }).then(function (keys) {\n            return keys.find(function (key) {\n              return key.index === acct.keyId;\n            });\n          }).then(function (key) {\n            return key.sequenceNumber;\n          });\n        case 19:\n          ix.accounts[acct.tempId].sequenceNum = _context39.sent;\n        case 20:\n          return _context39.abrupt(\"return\", ix);\n        case 21:\n        case \"end\":\n          return _context39.stop();\n      }\n    }, _callee38);\n  }));\n  return _execFetchSequenceNumber.apply(this, arguments);\n}\nfunction invariant() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n  if (args.length > 1) {\n    var predicate = args[0],\n      message = args[1];\n    return invariant(function (ix, _ref) {\n      var Ok = _ref.Ok,\n        Bad = _ref.Bad;\n      return predicate ? Ok(ix) : Bad(ix, message);\n    });\n  }\n  var fn = args[0];\n  return function (ix) {\n    return fn(ix, {\n      Ok: Ok,\n      Bad: Bad\n    });\n  };\n}\n\n/**\n * @description - Sends arbitrary scripts, transactions, and requests to Flow\n * @param {Array.<Function>} args - An array of functions that take interaction and return interaction\n * @param {object} opts - Optional parameters\n * @returns {Promise<*>} - A promise that resolves to a response\n */\nvar send = /*#__PURE__*/function () {\n  var _ref21 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee23() {\n    var args,\n      opts,\n      sendFn,\n      resolveFn,\n      _args23 = arguments;\n    return _regeneratorRuntime().wrap(function _callee23$(_context23) {\n      while (1) switch (_context23.prev = _context23.next) {\n        case 0:\n          args = _args23.length > 0 && _args23[0] !== undefined ? _args23[0] : [];\n          opts = _args23.length > 1 && _args23[1] !== undefined ? _args23[1] : {};\n          _context23.next = 4;\n          return config.first([\"sdk.transport\", \"sdk.send\"], opts.send || send$1);\n        case 4:\n          sendFn = _context23.sent;\n          invariant(sendFn, \"Required value for sdk.transport is not defined in config. See: \".concat(\"https://github.com/onflow/fcl-js/blob/master/packages/sdk/CHANGELOG.md#0057-alpha1----2022-01-21\"));\n          _context23.next = 8;\n          return config.first([\"sdk.resolve\"], opts.resolve || resolve);\n        case 8:\n          resolveFn = _context23.sent;\n          _context23.t0 = opts.node;\n          if (_context23.t0) {\n            _context23.next = 14;\n            break;\n          }\n          _context23.next = 13;\n          return config().get(\"accessNode.api\");\n        case 13:\n          _context23.t0 = _context23.sent;\n        case 14:\n          opts.node = _context23.t0;\n          if (Array.isArray(args)) args = pipe(interaction(), args);\n          _context23.t1 = sendFn;\n          _context23.next = 19;\n          return resolveFn(args);\n        case 19:\n          _context23.t2 = _context23.sent;\n          _context23.t3 = {\n            config: config,\n            response: response,\n            ix: ixModule,\n            Buffer: Buffer\n          };\n          _context23.t4 = opts;\n          return _context23.abrupt(\"return\", (0, _context23.t1)(_context23.t2, _context23.t3, _context23.t4));\n        case 23:\n        case \"end\":\n          return _context23.stop();\n      }\n    }, _callee23);\n  }));\n  return function send() {\n    return _ref21.apply(this, arguments);\n  };\n}();\nfunction decode(_x49) {\n  return _decode.apply(this, arguments);\n}\nfunction _decode() {\n  _decode = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee39(response) {\n    var decodersFromConfig, decoders;\n    return _regeneratorRuntime().wrap(function _callee39$(_context40) {\n      while (1) switch (_context40.prev = _context40.next) {\n        case 0:\n          _context40.next = 2;\n          return config().where(/^decoder\\./);\n        case 2:\n          decodersFromConfig = _context40.sent;\n          decoders = Object.entries(decodersFromConfig).map(function (_ref) {\n            var _ref27 = _slicedToArray(_ref, 2),\n              pattern = _ref27[0],\n              xform = _ref27[1];\n            pattern = \"/\".concat(pattern.replace(/^decoder\\./, \"\"), \"$/\");\n            return [pattern, xform];\n          });\n          return _context40.abrupt(\"return\", decodeResponse(response, Object.fromEntries(decoders)));\n        case 5:\n        case \"end\":\n          return _context40.stop();\n      }\n    }, _callee39);\n  }));\n  return _decode.apply(this, arguments);\n}\nvar findPayloadSigners = function findPayloadSigners(voucher) {\n  // Payload Signers Are: (authorizers + proposer) - payer\n  var payload = new Set(voucher.authorizers);\n  payload.add(voucher.proposalKey.address);\n  payload.delete(voucher.payer);\n  return Array.from(payload).map(withPrefix);\n};\nvar findEnvelopeSigners = function findEnvelopeSigners(voucher) {\n  // Envelope Signers Are: (payer)\n  var envelope = new Set([voucher.payer]);\n  return Array.from(envelope).map(withPrefix);\n};\nvar UnableToDetermineMessageEncodingTypeForSignerAddress = /*#__PURE__*/function (_Error) {\n  _inherits(UnableToDetermineMessageEncodingTypeForSignerAddress, _Error);\n  var _super = _createSuper(UnableToDetermineMessageEncodingTypeForSignerAddress);\n  function UnableToDetermineMessageEncodingTypeForSignerAddress(signerAddress) {\n    var _this;\n    _classCallCheck(this, UnableToDetermineMessageEncodingTypeForSignerAddress);\n    var msg = \"\\n        Encode Message From Signable Error: Unable to determine message encoding for signer addresss: \".concat(signerAddress, \". \\n        Please ensure the address: \").concat(signerAddress, \" is intended to sign the given transaction as specified by the transaction signable.\\n      \").trim();\n    _this = _super.call(this, msg);\n    _this.name = \"Unable To Determine Message Encoding For Signer Addresss\";\n    return _this;\n  }\n  return _createClass(UnableToDetermineMessageEncodingTypeForSignerAddress);\n}( /*#__PURE__*/_wrapNativeSuper(Error));\nvar encodeMessageFromSignable = function encodeMessageFromSignable(signable, signerAddress) {\n  var payloadSigners = findPayloadSigners(signable.voucher);\n  var envelopeSigners = findEnvelopeSigners(signable.voucher);\n  var isPayloadSigner = payloadSigners.includes(withPrefix(signerAddress));\n  var isEnvelopeSigner = envelopeSigners.includes(withPrefix(signerAddress));\n  if (!isPayloadSigner && !isEnvelopeSigner) {\n    throw new UnableToDetermineMessageEncodingTypeForSignerAddress(signerAddress);\n  }\n  var message = {\n    cadence: signable.voucher.cadence,\n    refBlock: signable.voucher.refBlock,\n    computeLimit: signable.voucher.computeLimit,\n    arguments: signable.voucher.arguments,\n    proposalKey: _objectSpread(_objectSpread({}, signable.voucher.proposalKey), {}, {\n      address: sansPrefix(signable.voucher.proposalKey.address)\n    }),\n    payer: sansPrefix(signable.voucher.payer),\n    authorizers: signable.voucher.authorizers.map(sansPrefix),\n    payloadSigs: signable.voucher.payloadSigs.map(function (ps) {\n      return _objectSpread(_objectSpread({}, ps), {}, {\n        address: sansPrefix(ps.address)\n      });\n    })\n  };\n  return isPayloadSigner ? encodeTransactionPayload(message) : encodeTransactionEnvelope(message);\n};\nfunction validator(cb) {\n  return update(\"ix.validators\", function (validators) {\n    return Array.isArray(validators) ? validators.push(cb) : [cb];\n  });\n}\n\n/**\n * @description - A builder function that returns a partial interaction to a block at a specific height\n * @param {number} height - The height of the block to get\n * @returns {object} - A partial interaction object\n */\nfunction atBlockHeight(height) {\n  return pipe([function (ix) {\n    ix.block.height = height;\n    return ix;\n  }, validator(function (ix) {\n    if (typeof ix.block.isSealed === \"boolean\") throw new Error(\"Unable to specify both block height and isSealed.\");\n    if (ix.block.id) throw new Error(\"Unable to specify both block height and block id.\");\n    return ix;\n  })]);\n}\nfunction atBlockId(id) {\n  return pipe([function (ix) {\n    ix.block.id = id;\n    return Ok(ix);\n  }, validator(function (ix, _ref) {\n    var Ok = _ref.Ok,\n      Bad = _ref.Bad;\n    if (isGetAccount(ix)) return Bad(ix, \"Unable to specify a block id with a Get Account interaction.\");\n    if (typeof ix.block.isSealed === \"boolean\") return Bad(ix, \"Unable to specify both block id and isSealed.\");\n    if (ix.block.height) return Bad(ix, \"Unable to specify both block id and block height.\");\n    return Ok(ix);\n  })]);\n}\n\n/**\n * @typedef {import(\"@onflow/typedefs\").Account} Account\n */\n\n/**\n * @description  Returns the details of an account from their public address\n * @param {string} address - Address of the account\n * @param {object} [queryOptions] - Query parameters\n * @param {number} [queryOptions.height] - Block height to query\n * @param {string} [queryOptions.id] - Block ID to query\n * @param {object} [opts] - Optional parameters\n * @returns {Promise<Account>} - A promise that resolves to an account response\n */\nfunction account(address) {\n  var _ref22 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n    height = _ref22.height,\n    id = _ref22.id;\n  var opts = arguments.length > 2 ? arguments[2] : undefined;\n  invariant$1(!(id && height), \"Method: account -- Cannot pass \\\"id\\\" and \\\"height\\\" simultaneously\");\n\n  // Get account by ID\n  if (id) return send([getAccount(address), atBlockId(id)], opts).then(decodeResponse);\n\n  // Get account by height\n  if (height) return send([getAccount(address), atBlockHeight(height)], opts).then(decodeResponse);\n  return send([getAccount(address)], opts).then(decodeResponse);\n}\n\n/**\n * @typedef {import(\"@onflow/typedefs\").Block} Block\n */\n\n/**\n * @description Returns the latest block (optionally sealed or not), by id, or by height\n * @param {object} [queryOptions] - Query parameters\n * @param {boolean} [queryOptions.sealed=false] - Whether to query for a sealed block\n * @param {number} [queryOptions.height] - Block height to query\n * @param {string} [queryOptions.id] - Block ID to query\n * @param {object} [opts] - Optional parameters\n * @returns {Promise<Block>} - A promise that resolves to a block response\n */\nfunction block() {\n  var _ref23 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n    _ref23$sealed = _ref23.sealed,\n    sealed = _ref23$sealed === void 0 ? false : _ref23$sealed,\n    id = _ref23.id,\n    height = _ref23.height;\n  var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  invariant$1(!(sealed && id || sealed && height), \"Method: block -- Cannot pass \\\"sealed\\\" with \\\"id\\\" or \\\"height\\\"\");\n  invariant$1(!(id && height), \"Method: block -- Cannot pass \\\"id\\\" and \\\"height\\\" simultaneously\");\n\n  // Get block by ID\n  if (id) return send([getBlock(), atBlockId(id)], opts).then(decodeResponse);\n\n  // Get block by height\n  if (height) return send([getBlock(), atBlockHeight(height)], opts).then(decodeResponse);\n\n  // Get latest block\n  return send([getBlock(sealed)], opts).then(decodeResponse);\n}\nfunction authorizations() {\n  var ax = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  return pipe(ax.map(function (authz) {\n    return prepAccount(authz, {\n      role: AUTHORIZER\n    });\n  }));\n}\nfunction authorization(addr, signingFunction, keyId, sequenceNum) {\n  return {\n    addr: addr,\n    signingFunction: signingFunction,\n    keyId: keyId,\n    sequenceNum: sequenceNum\n  };\n}\nfunction getEvents(eventType, start, end) {\n  if (typeof start !== \"undefined\" || typeof end !== \"undefined\") {\n    logger.log.deprecate({\n      pkg: \"FCL/SDK\",\n      subject: \"Passing a start and end into getEvents\",\n      transition: \"https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0005-deprecate-start-end-get-events-builder\"\n    });\n  }\n  return pipe([makeGetEvents, function (ix) {\n    ix.events.eventType = eventType;\n    ix.events.start = start;\n    ix.events.end = end;\n    return Ok(ix);\n  }]);\n}\n\n/**\n * @description - A builder function that returns all instances of a particular event (by name) within a height range\n * NOTE:\n * - The block range provided must be from the current spork.\n * - The block range provided must be 250 blocks or lower per request.\n * @param {string} eventName - The name of the event to get\n * @param {number} fromBlockHeight - The height of the block to start looking for events (inclusive)\n * @param {number} toBlockHeight - The height of the block to stop looking for events (inclusive)\n * @returns {object} - An interaction object\n */\nfunction getEventsAtBlockHeightRange(eventName, fromBlockHeight, toBlockHeight) {\n  return pipe([makeGetEvents, function (ix) {\n    ix.events.eventType = eventName;\n    ix.events.start = fromBlockHeight;\n    ix.events.end = toBlockHeight;\n    return Ok(ix);\n  }]);\n}\n\n/**\n * @description - A builder function that returns all instances of a particular event (by name) within a set of blocks, specified by block ids\n * NOTE:\n * - The block range provided must be from the current spork.\n * @param {string} eventName - The name of the event to get\n * @param {number[]} blockIds - The ids of the blocks to look for events\n * @returns {object} - An interaction object\n */\nfunction getEventsAtBlockIds(eventName) {\n  var blockIds = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  return pipe([makeGetEvents, function (ix) {\n    ix.events.eventType = eventName;\n    ix.events.blockIds = blockIds;\n    return Ok(ix);\n  }]);\n}\n\n/**\n * @description - A builder function that returns the interaction to get a block header\n * @param {boolean} [isSealed] - Whether or not the block should be sealed\n * @returns {object} - An interaction object\n */\nfunction getBlockHeader() {\n  var isSealed = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n  return pipe([makeGetBlockHeader, function (ix) {\n    ix.block.isSealed = isSealed;\n    return Ok(ix);\n  }]);\n}\n\n/**\n * @description - A builder function that returns all a collection containing a list of transaction ids by its collection id\n * NOTE:\n * - The block range provided must be from the current spork. All events emitted during past sporks is current unavailable.\n * @param {string} [id] - The id of the collection to get\n * @returns {object} - An interaction object\n */\nfunction getCollection() {\n  var id = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n  return pipe([makeGetCollection, function (ix) {\n    ix.collection.id = id;\n    return ix;\n  }]);\n}\n\n/**\n * @description - A builder function that returns the status of transaction\n * NOTE: The transactionID provided must be from the current spork.\n * @param {string} transactionId - The id of the transaction to get status\n * @returns {object} - An interaction object\n */\nfunction getTransactionStatus(transactionId) {\n  return pipe([makeGetTransactionStatus, function (ix) {\n    ix.transaction.id = transactionId;\n    return Ok(ix);\n  }]);\n}\n\n/**\n * @description - A builder function that returns a transaction\n * NOTE: The transactionID provided must be from the current spork.\n * @param {string} transactionId - The id of the transaction to get\n * @returns {object} - An interaction object\n */\nfunction getTransaction(transactionId) {\n  return pipe([makeGetTransaction, function (ix) {\n    ix.transaction.id = transactionId;\n    return Ok(ix);\n  }]);\n}\nfunction getNetworkParameters() {\n  return pipe([makeGetNetworkParameters, function (ix) {\n    return Ok(ix);\n  }]);\n}\nfunction limit(computeLimit) {\n  return function (ix) {\n    ix.message.computeLimit = computeLimit;\n    return ix;\n  };\n}\n\n/**\n * @description - A utility builder to be used with other builders to pass in arguments with a value and supported type\n * @param {Array.<*>} ax - An array of arguments\n * @returns {object} - An interaction object\n */\nfunction args() {\n  var ax = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  return pipe(ax.map(makeArgument));\n}\n\n/**\n * @description - A utility builder to be used with fcl.args[...] to create FCL supported arguments for interactions\n * @param {any} value - The value of the argument\n * @param {Function} xform - A function to transform the value\n * @returns {object} - An argument object\n */\nfunction arg(value, xform) {\n  return {\n    value: value,\n    xform: xform\n  };\n}\nfunction proposer(_x50) {\n  return _proposer.apply(this, arguments);\n}\nfunction _proposer() {\n  _proposer = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee40(authz) {\n    return _regeneratorRuntime().wrap(function _callee40$(_context41) {\n      while (1) switch (_context41.prev = _context41.next) {\n        case 0:\n          return _context41.abrupt(\"return\", prepAccount(authz, {\n            role: PROPOSER\n          }));\n        case 1:\n        case \"end\":\n          return _context41.stop();\n      }\n    }, _callee40);\n  }));\n  return _proposer.apply(this, arguments);\n}\nfunction payer(_x51) {\n  return _payer.apply(this, arguments);\n}\nfunction _payer() {\n  _payer = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee41(authz) {\n    return _regeneratorRuntime().wrap(function _callee41$(_context42) {\n      while (1) switch (_context42.prev = _context42.next) {\n        case 0:\n          return _context42.abrupt(\"return\", prepAccount(authz, {\n            role: PAYER\n          }));\n        case 1:\n        case \"end\":\n          return _context42.stop();\n      }\n    }, _callee41);\n  }));\n  return _payer.apply(this, arguments);\n}\nfunction ping() {\n  return makePing;\n}\nfunction ref(refBlock) {\n  return pipe([function (ix) {\n    ix.message.refBlock = refBlock;\n    return Ok(ix);\n  }]);\n}\nfunction script() {\n  return pipe([makeScript, put(\"ix.cadence\", template.apply(void 0, arguments))]);\n}\nvar DEFAULT_SCRIPT_ACCOUNTS = [];\nvar DEFUALT_REF = null;\n\n/**\n * @description - A template builder to use a Cadence transaction for an interaction\n * @param {...*} args - The arguments to pass\n * @returns {object} - An interaction object\n */\nfunction transaction() {\n  return pipe([makeTransaction, put(\"ix.cadence\", template.apply(void 0, arguments)), function (ix) {\n    ix.message.refBlock = ix.message.refBlock || DEFUALT_REF;\n    ix.authorizations = ix.authorizations || DEFAULT_SCRIPT_ACCOUNTS;\n    return Ok(ix);\n  }]);\n}\nfunction voucherIntercept(fn) {\n  return put(\"ix.voucher-intercept\", fn);\n}\nvar resolveProposerSequenceNumber = function resolveProposerSequenceNumber(_ref) {\n  var node = _ref.node;\n  return /*#__PURE__*/function () {\n    var _ref24 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee24(ix) {\n      var sendFn, response$1, decoded;\n      return _regeneratorRuntime().wrap(function _callee24$(_context24) {\n        while (1) switch (_context24.prev = _context24.next) {\n          case 0:\n            if (isTransaction(ix)) {\n              _context24.next = 2;\n              break;\n            }\n            return _context24.abrupt(\"return\", Ok(ix));\n          case 2:\n            if (!ix.accounts[ix.proposer].sequenceNum) {\n              _context24.next = 4;\n              break;\n            }\n            return _context24.abrupt(\"return\", Ok(ix));\n          case 4:\n            _context24.next = 6;\n            return config.first([\"sdk.transport\", \"sdk.send\"], send$1);\n          case 6:\n            sendFn = _context24.sent;\n            invariant$1(sendFn, \"Required value for sdk.transport is not defined in config. See: \".concat(\"https://github.com/onflow/fcl-js/blob/master/packages/sdk/CHANGELOG.md#0057-alpha1----2022-01-21\"));\n            _context24.t0 = sendFn;\n            _context24.next = 11;\n            return build([getAccount(ix.accounts[ix.proposer].addr)]);\n          case 11:\n            _context24.t1 = _context24.sent;\n            _context24.t2 = {\n              config: config,\n              response: response,\n              Buffer: Buffer,\n              ix: ixModule\n            };\n            _context24.t3 = {\n              node: node\n            };\n            _context24.next = 16;\n            return (0, _context24.t0)(_context24.t1, _context24.t2, _context24.t3);\n          case 16:\n            response$1 = _context24.sent;\n            _context24.next = 19;\n            return decodeResponse(response$1);\n          case 19:\n            decoded = _context24.sent;\n            ix.accounts[ix.proposer].sequenceNum = decoded.keys[ix.accounts[ix.proposer].keyId].sequenceNumber;\n            return _context24.abrupt(\"return\", Ok(ix));\n          case 22:\n          case \"end\":\n            return _context24.stop();\n        }\n      }, _callee24);\n    }));\n    return function (_x52) {\n      return _ref24.apply(this, arguments);\n    };\n  }();\n};\nfunction getRefId(_x53) {\n  return _getRefId.apply(this, arguments);\n}\nfunction _getRefId() {\n  _getRefId = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee42(opts) {\n    var node, sendFn, ix;\n    return _regeneratorRuntime().wrap(function _callee42$(_context43) {\n      while (1) switch (_context43.prev = _context43.next) {\n        case 0:\n          _context43.next = 2;\n          return config().get(\"accessNode.api\");\n        case 2:\n          node = _context43.sent;\n          _context43.next = 5;\n          return config.first([\"sdk.transport\", \"sdk.send\"], send$1);\n        case 5:\n          sendFn = _context43.sent;\n          invariant$1(sendFn, \"Required value for sdk.transport is not defined in config. See: \".concat(\"https://github.com/onflow/fcl-js/blob/master/packages/sdk/CHANGELOG.md#0057-alpha1----2022-01-21\"));\n          _context43.next = 9;\n          return pipe(interaction(), [getBlock()]);\n        case 9:\n          ix = _context43.sent;\n          _context43.next = 12;\n          return sendFn(ix, {\n            config: config,\n            response: response,\n            Buffer: Buffer,\n            ix: ixModule\n          }, {\n            node: node\n          });\n        case 12:\n          ix = _context43.sent;\n          _context43.next = 15;\n          return decodeResponse(ix);\n        case 15:\n          ix = _context43.sent;\n          return _context43.abrupt(\"return\", ix.id);\n        case 17:\n        case \"end\":\n          return _context43.stop();\n      }\n    }, _callee42);\n  }));\n  return _getRefId.apply(this, arguments);\n}\nfunction resolveRefBlockId(opts) {\n  return /*#__PURE__*/function () {\n    var _ref25 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee25(ix) {\n      return _regeneratorRuntime().wrap(function _callee25$(_context25) {\n        while (1) switch (_context25.prev = _context25.next) {\n          case 0:\n            if (isTransaction(ix)) {\n              _context25.next = 2;\n              break;\n            }\n            return _context25.abrupt(\"return\", Ok(ix));\n          case 2:\n            if (!ix.message.refBlock) {\n              _context25.next = 4;\n              break;\n            }\n            return _context25.abrupt(\"return\", Ok(ix));\n          case 4:\n            _context25.next = 6;\n            return getRefId();\n          case 6:\n            ix.message.refBlock = _context25.sent;\n            return _context25.abrupt(\"return\", Ok(ix));\n          case 8:\n          case \"end\":\n            return _context25.stop();\n        }\n      }, _callee25);\n    }));\n    return function (_x54) {\n      return _ref25.apply(this, arguments);\n    };\n  }();\n}\nfunction mockAccountResponse(ix) {\n  var numberOfKeys = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 5;\n  // prettier-ignore\n  invariant$1(ix.account, \"mockAccountResponse(ix) -- ix.account is missing\", ix);\n  // prettier-ignore\n  invariant$1(ix.account.addr, \"mockAccountResponse(ix) -- ix.account.addr is missing\", ix);\n  var address = ix.account.addr;\n  return {\n    account: {\n      addr: address,\n      keys: Array.from({\n        length: numberOfKeys\n      }, function (_, i) {\n        return {\n          index: i,\n          sequenceNumber: 42\n        };\n      })\n    }\n  };\n}\nfunction mockGetBlockResponse(ix) {\n  return {\n    tag: \"GET_BLOCK\",\n    block: {\n      id: \"32\"\n    }\n  };\n}\nvar identity = function identity(v) {\n  return v;\n};\nfunction mockSend() {\n  var fallback = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : identity;\n  return /*#__PURE__*/function () {\n    var _execSend = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee26(ix) {\n      return _regeneratorRuntime().wrap(function _callee26$(_context26) {\n        while (1) switch (_context26.prev = _context26.next) {\n          case 0:\n            _context26.next = 2;\n            return ix;\n          case 2:\n            ix = _context26.sent;\n            _context26.t0 = true;\n            _context26.next = _context26.t0 === isGetAccount(ix) ? 6 : _context26.t0 === isGetBlock(ix) ? 7 : 8;\n            break;\n          case 6:\n            return _context26.abrupt(\"return\", mockAccountResponse(ix));\n          case 7:\n            return _context26.abrupt(\"return\", mockGetBlockResponse());\n          case 8:\n            return _context26.abrupt(\"return\", fallback(ix));\n          case 9:\n          case \"end\":\n            return _context26.stop();\n        }\n      }, _callee26);\n    }));\n    function execSend(_x55) {\n      return _execSend.apply(this, arguments);\n    }\n    return execSend;\n  }();\n}\nvar idof = function idof(acct) {\n  return \"\".concat(withPrefix(acct.addr), \"-\").concat(acct.keyId);\n};\nfunction sig(opts) {\n  return [\"SIGNATURE\", opts.addr, opts.keyId].join(\".\");\n}\nfunction authzFn() {\n  var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  return function (account) {\n    var acct = _objectSpread(_objectSpread(_objectSpread({}, account), opts), {}, {\n      signingFunction: opts.signingFunction || account.signingFunction || fallbackSigningFunction\n    });\n    return acct;\n    function fallbackSigningFunction(signable) {\n      return {\n        addr: acct.addr,\n        keyId: acct.keyId,\n        signature: sig(acct)\n      };\n    }\n  };\n}\nfunction authzResolve() {\n  var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  return function (account) {\n    var tempId = opts.tempId,\n      rest = _objectWithoutProperties(opts, _excluded);\n    return _objectSpread(_objectSpread({}, account), {}, {\n      tempId: tempId || \"WITH_RESOLVE\",\n      resolve: authzFn(rest)\n    });\n  };\n}\nvar ROLE = {\n  proposer: false,\n  authorizer: false,\n  payer: false\n};\nfunction authzResolveMany() {\n  var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  return function (account) {\n    var tempId = opts.tempId || \"AUTHZ_RESOLVE_MANY\";\n    return _objectSpread(_objectSpread({}, account), {}, {\n      tempId: tempId,\n      resolve: function resolve() {\n        return [opts.proposer && authzFn(opts.proposer)({\n          role: _objectSpread(_objectSpread({}, ROLE), {}, {\n            proposer: true\n          })\n        })].concat(_toConsumableArray(opts.authorizations.map(authzFn).map(function (d) {\n          return d({\n            role: _objectSpread(_objectSpread({}, ROLE), {}, {\n              authorizer: true\n            })\n          });\n        })), [opts.payer && authzFn(opts.payer)({\n          role: _objectSpread(_objectSpread({}, ROLE), {}, {\n            payer: true\n          })\n        })]).filter(Boolean);\n      }\n    });\n  };\n}\nvar run = function run() {\n  var fns = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  return build([ref(\"123\")].concat(_toConsumableArray(fns))).then(resolve);\n};\nvar index = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  mockSend: mockSend,\n  authzFn: authzFn,\n  authzResolve: authzResolve,\n  authzResolveMany: authzResolveMany,\n  sig: sig,\n  idof: idof,\n  run: run\n});\nvar VERSION = \"1.2.0\";\n\n// Deprecated\nvar params = function params(_params) {\n  return logger.log.deprecate({\n    pkg: \"FCL/SDK\",\n    message: \"The params builder has been removed from the Flow JS-SDK/FCL.\",\n    transition: \"https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0001-deprecate-params\",\n    level: logger.LEVELS.error\n  });\n};\nvar param = function param(params) {\n  return logger.log.deprecate({\n    pkg: \"FCL/SDK\",\n    message: \"The param builder has been removed from the Flow JS-SDK/FCL.\",\n    transition: \"https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0001-deprecate-params\",\n    level: logger.LEVELS.error\n  });\n};\nexport { index as TestUtils, VERSION, account, arg, args, atBlockHeight, atBlockId, authorization, authorizations, block, build, createSignableVoucher, decode, destroy, encodeMessageFromSignable, encodeTransactionEnvelope, encodeTransactionPayload, encodeTxIdFromVoucher, get, getAccount, getBlock, getBlockHeader, getCollection, getEvents, getEventsAtBlockHeightRange, getEventsAtBlockIds, getNetworkParameters, getTransaction, getTransactionStatus, interaction, invariant, isBad, isGetAccount, isGetBlock, isGetBlockHeader, isGetCollection, isGetEvents, isGetNetworkParameters, isGetTransaction, isGetTransactionStatus, isOk, isPing, isScript, isTransaction, isUnknown, limit, param, params, payer, ping, pipe, proposer, put, ref, resolve, resolveAccounts, resolveArguments, resolveCadence, resolveFinalNormalization, resolveProposerSequenceNumber, resolveRefBlockId, resolveSignatures, resolveValidators, resolveVoucherIntercept, response, script, send, transaction, update, validator, voucherIntercept, voucherToTxId, why };","map":{"version":3,"names":["UNKNOWN","SCRIPT","TRANSACTION","GET_TRANSACTION_STATUS","GET_ACCOUNT","GET_EVENTS","PING","GET_TRANSACTION","GET_BLOCK","GET_BLOCK_HEADER","GET_COLLECTION","GET_NETWORK_PARAMETERS","BAD","OK","ACCOUNT","PARAM","ARGUMENT","AUTHORIZER","PAYER","PROPOSER","ACCT","concat","ARG","IX","KEYS","Set","Object","keys","JSON","parse","interaction","CHARS","split","randChar","Math","random","length","uuid","Array","from","join","isNumber$1","isNumber","d","isArray$1","isArray","isObj","isNull","isFn$3","isFn","isInteraction","ix","_iterator","_createForOfIteratorHelper","_step","s","n","done","key","value","hasOwnProperty","err","e","f","Ok","status","Bad","reason","makeIx","wat","tag","prepAccountKeyId","acct","keyId","invariant$1","isNaN","parseInt","_objectSpread","prepAccount","opts","arguments","undefined","role","tempId","authorization","resolve","_len","rest","_key","reduce","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","fn","wrap","_callee$","_context","prev","next","t0","t1","t2","sent","t3","abrupt","apply","call","stop","_x","_x2","accounts","_defineProperty","authorizations","push","payer","makeArgument","arg","message","asArgument","xform","resolveArgument","bind","makeUnknown","makeScript","makeTransaction","makeGetTransactionStatus","makeGetTransaction","makeGetAccount","makeGetEvents","makePing","makeGetBlock","makeGetBlockHeader","makeGetCollection","makeGetNetworkParameters","is","isUnknown","isScript","isTransaction","isGetTransactionStatus","isGetTransaction","isGetAccount","isGetEvents","isPing","isGetBlock","isGetBlockHeader","isGetCollection","isGetNetworkParameters","isOk","isBad","why","isAccount","account","kind","isParam","param","isArgument","argument","hardMode","_i","_Object$keys","has","Error","recPipe","_ref3","_callee2","fns","_fns","hd","cur","_args2","_callee2$","_context2","_toArray","slice","_x3","pipe","_len2","args","_key2","arg1","arg2","identity$1","identity","v","get","fallback","assigns","put","update","destroy","build","DEFAULT_RESPONSE","response","getBlock","isSealed","block","getAccount","addr","sansPrefix","latestBlockDeprecationNotice","log","deprecate","pkg","subject","transition","decodeImplicit","_ref4","_callee3","i","_callee3$","_context3","_x4","decodeVoid","_ref5","_callee4","_callee4$","_context4","decodeType","_ref6","_callee5","type","_callee5$","_context5","staticType","_x5","decodePath","_ref7","_callee6","path","_callee6$","_context6","domain","identifier","_x6","decodeCapability","_ref8","_callee7","cap","_callee7$","_context7","address","borrowType","_x7","decodeOptional","_ref9","_callee8","optional","decoders","stack","_callee8$","_context8","recurseDecode","_x8","_x9","_x10","decodeReference","_ref10","_callee9","_callee9$","_context9","_x11","decodeArray","_ref11","_callee11","array","_callee11$","_context11","Promise","all","map","_ref12","_callee10","res","_callee10$","_context10","_toConsumableArray","_x15","_x12","_x13","_x14","decodeDictionary","_ref13","_callee13","dictionary","_callee13$","_context13","_ref14","_callee12","acc","_callee12$","_context12","_x19","_x20","_x16","_x17","_x18","decodeComposite","_ref15","_callee15","composite","decoded","decoder","_callee15$","_context15","fields","_ref16","_callee14","_callee14$","_context14","name","_x24","_x25","id","decoderLookup","_x21","_x22","_x23","defaultDecoders","UInt","Int","UInt8","Int8","UInt16","Int16","UInt32","Int32","UInt64","Int64","UInt128","Int128","UInt256","Int256","Word8","Word16","Word32","Word64","UFix64","Fix64","String","Character","Bool","Address","Void","Optional","Reference","Dictionary","Event","Resource","Struct","Enum","Type","Path","Capability","lookup","found","find","test","reg","RegExp","substring","_ref17","_callee16","decodeInstructions","_callee16$","_context16","_x26","_x27","_x28","decode$1","_ref18","_callee17","customDecoders","filteredDecoders","_args17","_callee17$","_context17","filter","customDecoder","decoderKey","decode","_x29","decodeResponse","_ref19","_callee20","chainIdMap","_args20","_callee20$","_context20","encodedData","transactionStatus","events","_decodeEvents","_callee18","_callee18$","_context18","transactionId","transactionIndex","eventIndex","payload","t4","data","decodeEvents","_x31","transaction","_decodeEvents2","_callee19","_callee19$","_context19","blockId","blockHeight","blockTimestamp","t5","t6","t7","_x32","blockHeader","latestBlock","collection","networkParameters","chainId","_x30","isFn$2","isString$1","isString","oldIdentifierPatternFn","isOldIdentifierSyntax","cadence","newIdentifierPatternFn","isNewIdentifierSyntax","getContractIdentifierSyntaxMatches","matchAll","resolveCadence","_x33","_resolveCadence","_callee27","_iterator2","_step2","_step2$value","fullMatch","contractName","_callee27$","_context27","config","where","then","entries","_ref","_ref26","_slicedToArray","regex","replace","withPrefix","logger","title","level","LEVELS","warn","finish","isFn$1","cast","handleArgResolution","_x34","_handleArgResolution","_callee28","depth","resolvedArg","_args28","_callee28$","_context28","resolveArguments","_x35","_resolveArguments","_callee29","_i2","_Object$entries","_Object$entries$_i","_arg","_callee29$","_context29","encodeTransactionPayload","tx","prependTransactionDomainTag","rlpEncode","preparePayload","encodeTransactionEnvelope","prepareEnvelope","encodeTxIdFromVoucher","voucher","sha3_256","prepareVoucher","rightPaddedHexBuffer","pad","Buffer","padEnd","leftPaddedHexBuffer","padStart","TRANSACTION_DOMAIN_TAG","toString","addressBuffer","blockBuffer","argumentToString","stringify","scriptBuffer","script","signatureBuffer","signature","encode","msg","sha","SHA3","digest","validatePayload","refBlock","computeLimit","proposalKey","sequenceNum","authorizers","authorizer","validateEnvelope","preparePayloadSignatures","signers","collectSigners","payloadSigs","sig","signerIndex","sort","a","b","Map","addSigner","set","forEach","validateVoucher","prepareSigs","sigs","envelopeSigs","payloadFields","field","checkField","proposalKeyFields","payloadSigsFields","index","payloadSigFields","envelopeSigsFields","envelopeSigFields","isObject","check","defaultVal","obj","base","missingFieldError","invalidFieldError","printFieldName","findInsideSigners","inside","add","proposer","p","delete","findOutsideSigners","outside","createSignableVoucher","buildAuthorizers","cid","current","item","buildInsideSigners","buildOutsideSigners","voucherToTxId","idof$1","idof","buildPreSignable","f_type","f_vsn","roles","error","console","collectAccounts","_x36","_x37","_x38","_collectAccounts","_callee30","last","_iterator3","_step3","_loop","old","_args31","_callee30$","_context31","ax","dupList","payerAccts","multiAccts","_loop$","_context30","g","includes","delegateYield","curr","resolveAccounts","_x39","_resolveAccounts","_callee31","_callee31$","_context32","values","resolveSignatures","_x40","_resolveSignatures","_callee32","insideSigners","insidePayload","outsideSigners","outsidePayload","_callee32$","_context33","prepForEncoding","fetchSignature","_innerFetchSignature","_callee21","_yield$acct$signingFu","_callee21$","_context21","signingFunction","buildSignable","innerFetchSignature","_x41","payerAddress","resolveValidators","_x42","_resolveValidators","_callee33","validators","_callee33$","_context34","cb","resolveFinalNormalization","_x43","_resolveFinalNormalization","_callee34","_i3","_Object$keys2","_callee34$","_context35","resolveVoucherIntercept","_x44","_resolveVoucherIntercept","_callee35","_callee35$","_context36","DEFAULT_COMPUTE_LIMIT","resolveComputeLimit","_x45","_resolveComputeLimit","_callee36","_callee36$","_context37","noop","debug","_ref20","_callee22","accts","_callee22$","_context22","Boolean","_console","_x46","execFetchRef","execFetchSequenceNumber","_x47","_execFetchRef","_callee37","node","sendFn","_callee37$","_context38","first","send$1","ixModule","_x48","_execFetchSequenceNumber","_callee38","_callee38$","_context39","sequenceNumber","invariant","predicate","send","_ref21","_callee23","resolveFn","_args23","_callee23$","_context23","_x49","_decode","_callee39","decodersFromConfig","_callee39$","_context40","_ref27","pattern","fromEntries","findPayloadSigners","findEnvelopeSigners","envelope","UnableToDetermineMessageEncodingTypeForSignerAddress","_Error","_inherits","_super","_createSuper","signerAddress","_this","_classCallCheck","trim","_createClass","_wrapNativeSuper","encodeMessageFromSignable","signable","payloadSigners","envelopeSigners","isPayloadSigner","isEnvelopeSigner","ps","validator","atBlockHeight","height","atBlockId","_ref22","_ref23","_ref23$sealed","sealed","authz","getEvents","eventType","start","end","getEventsAtBlockHeightRange","eventName","fromBlockHeight","toBlockHeight","getEventsAtBlockIds","blockIds","getBlockHeader","getCollection","getTransactionStatus","getTransaction","getNetworkParameters","limit","_x50","_proposer","_callee40","_callee40$","_context41","_x51","_payer","_callee41","_callee41$","_context42","ping","ref","template","DEFAULT_SCRIPT_ACCOUNTS","DEFUALT_REF","voucherIntercept","resolveProposerSequenceNumber","_ref24","_callee24","response$1","_callee24$","_context24","_x52","getRefId","_x53","_getRefId","_callee42","_callee42$","_context43","resolveRefBlockId","_ref25","_callee25","_callee25$","_context25","_x54","mockAccountResponse","numberOfKeys","_","mockGetBlockResponse","mockSend","_execSend","_callee26","_callee26$","_context26","execSend","_x55","authzFn","fallbackSigningFunction","authzResolve","_objectWithoutProperties","_excluded","ROLE","authzResolveMany","run","VERSION","params"],"sources":["/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/sdk/src/interaction/interaction.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/sdk/src/build/build.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/sdk/src/response/response.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/sdk/src/build/build-get-block.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/sdk/src/build/build-get-account.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/sdk/src/decode/decode.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/sdk/src/resolve/resolve-cadence.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/sdk/src/resolve/resolve-arguments.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/sdk/src/encode/encode.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/sdk/src/resolve/voucher.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/sdk/src/resolve/resolve-accounts.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/sdk/src/resolve/resolve-signatures.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/sdk/src/resolve/resolve-validators.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/sdk/src/resolve/resolve-final-normalization.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/sdk/src/resolve/resolve-voucher-intercept.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/sdk/src/resolve/resolve-compute-limit.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/sdk/src/resolve/resolve.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/sdk/src/build/build-invariant.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/sdk/src/send/send.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/sdk/src/decode/sdk-decode.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/sdk/src/wallet-utils/encode-signable.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/sdk/src/build/build-validator.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/sdk/src/build/build-at-block-height.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/sdk/src/build/build-at-block-id.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/sdk/src/account/account.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/sdk/src/block/block.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/sdk/src/build/build-authorizations.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/sdk/src/build/build-get-events.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/sdk/src/build/build-get-events-at-block-height-range.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/sdk/src/build/build-get-events-at-block-ids.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/sdk/src/build/build-get-block-header.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/sdk/src/build/build-get-collection.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/sdk/src/build/build-get-transaction-status.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/sdk/src/build/build-get-transaction.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/sdk/src/build/build-get-network-parameters.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/sdk/src/build/build-limit.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/sdk/src/build/build-arguments.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/sdk/src/build/build-proposer.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/sdk/src/build/build-payer.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/sdk/src/build/build-ping.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/sdk/src/build/build-ref.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/sdk/src/build/build-script.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/sdk/src/build/build-transaction.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/sdk/src/build/build-voucher-intercept.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/sdk/src/resolve/resolve-proposer-sequence-number.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/sdk/src/resolve/resolve-ref-block-id.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/sdk/src/test-utils/mock-send.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/sdk/src/test-utils/authz-fn.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/sdk/src/test-utils/run.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/sdk/src/VERSION.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/sdk/src/sdk.js"],"sourcesContent":["import {invariant} from \"@onflow/util-invariant\"\n\nexport const UNKNOWN /*                       */ = \"UNKNOWN\"\nexport const SCRIPT /*                        */ = \"SCRIPT\"\nexport const TRANSACTION /*                   */ = \"TRANSACTION\"\nexport const GET_TRANSACTION_STATUS /*        */ = \"GET_TRANSACTION_STATUS\"\nexport const GET_ACCOUNT /*                   */ = \"GET_ACCOUNT\"\nexport const GET_EVENTS /*                    */ = \"GET_EVENTS\"\nexport const PING /*                          */ = \"PING\"\nexport const GET_TRANSACTION /*               */ = \"GET_TRANSACTION\"\nexport const GET_BLOCK /*                     */ = \"GET_BLOCK\"\nexport const GET_BLOCK_HEADER /*              */ = \"GET_BLOCK_HEADER\"\nexport const GET_COLLECTION /*                */ = \"GET_COLLECTION\"\nexport const GET_NETWORK_PARAMETERS /*        */ = \"GET_NETWORK_PARAMETERS\"\n\nexport const BAD /* */ = \"BAD\"\nexport const OK /*  */ = \"OK\"\n\nexport const ACCOUNT /*  */ = \"ACCOUNT\"\nexport const PARAM /*    */ = \"PARAM\"\nexport const ARGUMENT /* */ = \"ARGUMENT\"\n\nexport const AUTHORIZER /* */ = \"authorizer\"\nexport const PAYER /*      */ = \"payer\"\nexport const PROPOSER /*   */ = \"proposer\"\n\nconst ACCT = `{\n  \"kind\":\"${ACCOUNT}\",\n  \"tempId\":null,\n  \"addr\":null,\n  \"keyId\":null,\n  \"sequenceNum\":null,\n  \"signature\":null,\n  \"signingFunction\":null,\n  \"resolve\":null,\n  \"role\": {\n    \"proposer\":false,\n    \"authorizer\":false,\n    \"payer\":false,\n    \"param\":false\n  }\n}`\n\nconst PRM = `{\n  \"kind\":\"${PARAM}\",\n  \"tempId\":null,\n  \"key\":null,\n  \"value\":null,\n  \"asParam\":null,\n  \"xform\":null,\n  \"resolve\": null\n}`\n\nconst ARG = `{\n  \"kind\":\"${ARGUMENT}\",\n  \"tempId\":null,\n  \"value\":null,\n  \"asArgument\":null,\n  \"xform\":null,\n  \"resolve\": null,\n  \"resolveArgument\": null\n}`\n\nconst IX = `{\n  \"tag\":\"${UNKNOWN}\",\n  \"assigns\":{},\n  \"status\":\"${OK}\",\n  \"reason\":null,\n  \"accounts\":{},\n  \"params\":{},\n  \"arguments\":{},\n  \"message\": {\n    \"cadence\":null,\n    \"refBlock\":null,\n    \"computeLimit\":null,\n    \"proposer\":null,\n    \"payer\":null,\n    \"authorizations\":[],\n    \"params\":[],\n    \"arguments\":[]\n  },\n  \"proposer\":null,\n  \"authorizations\":[],\n  \"payer\":[],\n  \"events\": {\n    \"eventType\":null,\n    \"start\":null,\n    \"end\":null,\n    \"blockIds\":[]\n  },\n  \"transaction\": {\n    \"id\":null\n  },\n  \"block\": {\n    \"id\":null,\n    \"height\":null,\n    \"isSealed\":null\n  },\n  \"account\": {\n    \"addr\":null\n  },\n  \"collection\": {\n    \"id\":null\n  }\n}`\n\nconst KEYS = new Set(Object.keys(JSON.parse(IX)))\n\nexport const interaction = () => JSON.parse(IX)\n\nconst CHARS = \"abcdefghijklmnopqrstuvwxyz0123456789\".split(\"\")\nconst randChar = () => CHARS[~~(Math.random() * CHARS.length)]\nexport const uuid = () => Array.from({length: 10}, randChar).join(\"\")\nexport const isNumber = d => typeof d === \"number\"\nexport const isArray = d => Array.isArray(d)\nexport const isObj = d => d !== null && typeof d === \"object\"\nexport const isNull = d => d == null\nexport const isFn = d => typeof d === \"function\"\n\nexport const isInteraction = ix => {\n  if (!isObj(ix) || isNull(ix) || isNumber(ix)) return false\n  for (let key of KEYS) if (!ix.hasOwnProperty(key)) return false\n  return true\n}\n\nexport const Ok = ix => {\n  ix.status = OK\n  return ix\n}\n\nexport const Bad = (ix, reason) => {\n  ix.status = BAD\n  ix.reason = reason\n  return ix\n}\n\nconst makeIx = wat => ix => {\n  ix.tag = wat\n  return Ok(ix)\n}\n\nconst prepAccountKeyId = acct => {\n  if (acct.keyId == null) return acct\n\n  invariant(!isNaN(parseInt(acct.keyId)), \"account.keyId must be an integer\")\n  return {\n    ...acct,\n    keyId: parseInt(acct.keyId),\n  }\n}\n\nexport const prepAccount = (acct, opts = {}) => ix => {\n  invariant(\n    typeof acct === \"function\" || typeof acct === \"object\",\n    \"prepAccount must be passed an authorization function or an account object\"\n  )\n  invariant(opts.role != null, \"Account must have a role\")\n\n  const ACCOUNT = JSON.parse(ACCT)\n  const role = opts.role\n  const tempId = uuid()\n\n  if (acct.authorization && isFn(acct.authorization))\n    acct = {resolve: acct.authorization}\n  if (!acct.authorization && isFn(acct)) acct = {resolve: acct}\n\n  const resolve = acct.resolve\n  if (resolve)\n    acct.resolve = (acct, ...rest) =>\n      [resolve, prepAccountKeyId].reduce(\n        async (d, fn) => fn(await d, ...rest),\n        acct\n      )\n  acct = prepAccountKeyId(acct)\n\n  ix.accounts[tempId] = {\n    ...ACCOUNT,\n    tempId,\n    ...acct,\n    role: {\n      ...ACCOUNT.role,\n      ...(typeof acct.role === \"object\" ? acct.role : {}),\n      [role]: true,\n    },\n  }\n\n  if (role === AUTHORIZER) {\n    ix.authorizations.push(tempId)\n  } else if (role === PAYER) {\n    ix.payer.push(tempId)\n  } else {\n    ix[role] = tempId\n  }\n\n  return ix\n}\n\nexport const makeArgument = arg => ix => {\n  let tempId = uuid()\n  ix.message.arguments.push(tempId)\n\n  ix.arguments[tempId] = JSON.parse(ARG)\n  ix.arguments[tempId].tempId = tempId\n  ix.arguments[tempId].value = arg.value\n  ix.arguments[tempId].asArgument = arg.asArgument\n  ix.arguments[tempId].xform = arg.xform\n  ix.arguments[tempId].resolve = arg.resolve\n  ix.arguments[tempId].resolveArgument = isFn(arg.resolveArgument)\n    ? arg.resolveArgument.bind(arg)\n    : arg.resolveArgument\n\n  return Ok(ix)\n}\n\nexport const makeUnknown /*                 */ = makeIx(UNKNOWN)\nexport const makeScript /*                  */ = makeIx(SCRIPT)\nexport const makeTransaction /*             */ = makeIx(TRANSACTION)\nexport const makeGetTransactionStatus /*    */ = makeIx(GET_TRANSACTION_STATUS)\nexport const makeGetTransaction /*          */ = makeIx(GET_TRANSACTION)\nexport const makeGetAccount /*              */ = makeIx(GET_ACCOUNT)\nexport const makeGetEvents /*               */ = makeIx(GET_EVENTS)\nexport const makePing /*                    */ = makeIx(PING)\nexport const makeGetBlock /*                */ = makeIx(GET_BLOCK)\nexport const makeGetBlockHeader /*          */ = makeIx(GET_BLOCK_HEADER)\nexport const makeGetCollection /*           */ = makeIx(GET_COLLECTION)\nexport const makeGetNetworkParameters /*    */ = makeIx(GET_NETWORK_PARAMETERS)\n\nconst is = wat => ix => ix.tag === wat\n\nexport const isUnknown /*                 */ = is(UNKNOWN)\nexport const isScript /*                  */ = is(SCRIPT)\nexport const isTransaction /*             */ = is(TRANSACTION)\nexport const isGetTransactionStatus /*    */ = is(GET_TRANSACTION_STATUS)\nexport const isGetTransaction /*          */ = is(GET_TRANSACTION)\nexport const isGetAccount /*              */ = is(GET_ACCOUNT)\nexport const isGetEvents /*               */ = is(GET_EVENTS)\nexport const isPing /*                    */ = is(PING)\nexport const isGetBlock /*                */ = is(GET_BLOCK)\nexport const isGetBlockHeader /*          */ = is(GET_BLOCK_HEADER)\nexport const isGetCollection /*           */ = is(GET_COLLECTION)\nexport const isGetNetworkParameters /*    */ = is(GET_NETWORK_PARAMETERS)\n\nexport const isOk /*  */ = ix => ix.status === OK\nexport const isBad /* */ = ix => ix.status === BAD\nexport const why /*   */ = ix => ix.reason\n\nexport const isAccount /*  */ = account => account.kind === ACCOUNT\nexport const isParam /*    */ = param => param.kind === PARAM\nexport const isArgument /* */ = argument => argument.kind === ARGUMENT\n\nconst hardMode = ix => {\n  for (let key of Object.keys(ix)) {\n    if (!KEYS.has(key))\n      throw new Error(`\"${key}\" is an invalid root level Interaction property.`)\n  }\n  return ix\n}\n\nconst recPipe = async (ix, fns = []) => {\n  try {\n    ix = hardMode(await ix)\n    if (isBad(ix)) throw new Error(`Interaction Error: ${ix.reason}`)\n    if (!fns.length) return ix\n    const [hd, ...rest] = fns\n    const cur = await hd\n    if (isFn(cur)) return recPipe(cur(ix), rest)\n    if (isNull(cur) || !cur) return recPipe(ix, rest)\n    if (isInteraction(cur)) return recPipe(cur, rest)\n    throw new Error(\"Invalid Interaction Composition\")\n  } catch (e) {\n    throw e\n  }\n}\n\nexport const pipe = (...args) => {\n  const [arg1, arg2] = args\n  if (isArray(arg1) && arg2 == null) return d => pipe(d, arg1)\n  return recPipe(arg1, arg2)\n}\n\nconst identity = v => v\n\nexport const get = (ix, key, fallback) => {\n  return ix.assigns[key] == null ? fallback : ix.assigns[key]\n}\n\nexport const put = (key, value) => ix => {\n  ix.assigns[key] = value\n  return Ok(ix)\n}\n\nexport const update = (key, fn = identity) => ix => {\n  ix.assigns[key] = fn(ix.assigns[key], ix)\n  return Ok(ix)\n}\n\nexport const destroy = key => ix => {\n  delete ix.assigns[key]\n  return Ok(ix)\n}\n","import {pipe, interaction} from \"../interaction/interaction.js\"\n\nexport function build(fns = []) {\n  return pipe(interaction(), fns)\n}\n","const DEFAULT_RESPONSE = `{\n    \"tag\":null,\n    \"transaction\":null,\n    \"transactionStatus\":null,\n    \"transactionId\":null,\n    \"encodedData\":null,\n    \"events\":null,\n    \"account\":null,\n    \"block\":null,\n    \"blockHeader\":null,\n    \"latestBlock\":null,\n    \"collection\":null,\n    \"networkParameters\":null\n}`\n\nexport const response = () => JSON.parse(DEFAULT_RESPONSE)\n","import {pipe, Ok, makeGetBlock} from \"../interaction/interaction.js\"\n\n/**\n * @description - A builder function that returns the interaction to get the latest block\n * @param {boolean} [isSealed] - Whether or not the block should be sealed\n * @returns {object} - An interaction object\n */\nexport function getBlock(isSealed = null) {\n  return pipe([\n    makeGetBlock,\n    ix => {\n      ix.block.isSealed = isSealed\n      return Ok(ix)\n    },\n  ])\n}\n","import {pipe, makeGetAccount, Ok} from \"../interaction/interaction.js\"\nimport {sansPrefix} from \"@onflow/util-address\"\n\n/**\n * @description - A builder function that returns the interaction to get an account by address\n * @param {string} addr - The address of the account to getq\n * @returns {object} - An interaction object\n */\nexport function getAccount(addr) {\n  return pipe([\n    makeGetAccount,\n    ix => {\n      ix.account.addr = sansPrefix(addr)\n      return Ok(ix)\n    },\n  ])\n}\n","import {log, LEVELS} from \"@onflow/util-logger\"\n\nconst latestBlockDeprecationNotice = () => {\n  log.deprecate({\n    pkg: \"@onflow/decode\",\n    subject:\n      \"Operating upon data of the latestBlock field of the response object\",\n    transition:\n      \"https://github.com/onflow/flow-js-sdk/blob/master/packages/decode/WARNINGS.md#0001-Deprecating-latestBlock-field\",\n  })\n}\n\nconst decodeNumber = async (num, _, stack) => {\n  try {\n    return Number(num)\n  } catch (e) {\n    throw new Error(`Decode Number Error : ${stack.join(\".\")}`)\n  }\n}\n\nconst decodeImplicit = async i => i\n\nconst decodeVoid = async () => null\n\nconst decodeType = async type => {\n  return type.staticType\n}\n\nconst decodePath = async path => {\n  return {\n    domain: path.domain,\n    identifier: path.identifier,\n  }\n}\n\nconst decodeCapability = async cap => {\n  return {\n    path: cap.path,\n    address: cap.address,\n    borrowType: cap.borrowType,\n  }\n}\n\nconst decodeOptional = async (optional, decoders, stack) =>\n  optional ? await recurseDecode(optional, decoders, stack) : null\n\nconst decodeReference = async v => ({address: v.address, type: v.type})\n\nconst decodeArray = async (array, decoders, stack) =>\n  await Promise.all(\n    array.map(\n      v =>\n        new Promise(async res =>\n          res(await recurseDecode(v, decoders, [...stack, v.type]))\n        )\n    )\n  )\n\nconst decodeDictionary = async (dictionary, decoders, stack) =>\n  await dictionary.reduce(async (acc, v) => {\n    acc = await acc\n    acc[await recurseDecode(v.key, decoders, [...stack, v.key])] =\n      await recurseDecode(v.value, decoders, [...stack, v.key])\n    return acc\n  }, Promise.resolve({}))\n\nconst decodeComposite = async (composite, decoders, stack) => {\n  const decoded = await composite.fields.reduce(async (acc, v) => {\n    acc = await acc\n    acc[v.name] = await recurseDecode(v.value, decoders, [...stack, v.name])\n    return acc\n  }, Promise.resolve({}))\n  const decoder = composite.id && decoderLookup(decoders, composite.id)\n  return decoder ? await decoder(decoded) : decoded\n}\n\nconst defaultDecoders = {\n  UInt: decodeImplicit,\n  Int: decodeImplicit,\n  UInt8: decodeImplicit,\n  Int8: decodeImplicit,\n  UInt16: decodeImplicit,\n  Int16: decodeImplicit,\n  UInt32: decodeImplicit,\n  Int32: decodeImplicit,\n  UInt64: decodeImplicit,\n  Int64: decodeImplicit,\n  UInt128: decodeImplicit,\n  Int128: decodeImplicit,\n  UInt256: decodeImplicit,\n  Int256: decodeImplicit,\n  Word8: decodeImplicit,\n  Word16: decodeImplicit,\n  Word32: decodeImplicit,\n  Word64: decodeImplicit,\n  UFix64: decodeImplicit,\n  Fix64: decodeImplicit,\n  String: decodeImplicit,\n  Character: decodeImplicit,\n  Bool: decodeImplicit,\n  Address: decodeImplicit,\n  Void: decodeVoid,\n  Optional: decodeOptional,\n  Reference: decodeReference,\n  Array: decodeArray,\n  Dictionary: decodeDictionary,\n  Event: decodeComposite,\n  Resource: decodeComposite,\n  Struct: decodeComposite,\n  Enum: decodeComposite,\n  Type: decodeType,\n  Path: decodePath,\n  Capability: decodeCapability,\n}\n\nconst decoderLookup = (decoders, lookup) => {\n  const found = Object.keys(decoders).find(decoder => {\n    if (/^\\/.*\\/$/.test(decoder)) {\n      const reg = new RegExp(decoder.substring(1, decoder.length - 1))\n      return reg.test(lookup)\n    }\n    return decoder === lookup\n  })\n  return lookup && found && decoders[found]\n}\n\nconst recurseDecode = async (decodeInstructions, decoders, stack) => {\n  let decoder = decoderLookup(decoders, decodeInstructions.type)\n  if (!decoder)\n    throw new Error(\n      `Undefined Decoder Error: ${decodeInstructions.type}@${stack.join(\".\")}`\n    )\n  return await decoder(decodeInstructions.value, decoders, stack)\n}\n\n/**\n * @description - Decodes a response from Flow into JSON\n * @param {*} decodeInstructions - The response object from Flow\n * @param {object} customDecoders - An object of custom decoders\n * @param {Array<*>} stack - The stack of the current decoding\n * @returns {Promise<*>} - The decoded response\n */\nexport const decode = async (\n  decodeInstructions,\n  customDecoders = {},\n  stack = []\n) => {\n  // Filter out all default decoders which are overridden by a custom decoder regex\n  const filteredDecoders = Object.keys(defaultDecoders)\n    .filter(\n      decoder =>\n        !Object.keys(customDecoders).find(customDecoder =>\n          new RegExp(customDecoder).test(decoder)\n        )\n    )\n    .reduce((decoders, decoderKey) => {\n      decoders[decoderKey] = defaultDecoders[decoderKey]\n      return decoders\n    }, customDecoders)\n\n  const decoders = {\n    ...filteredDecoders,\n    ...customDecoders,\n  }\n  return recurseDecode(decodeInstructions, decoders, stack)\n}\n\nexport const decodeResponse = async (response, customDecoders = {}) => {\n  if (response.encodedData) {\n    return decode(response.encodedData, customDecoders)\n  } else if (response.transactionStatus) {\n    return {\n      ...response.transactionStatus,\n      events: await Promise.all(\n        response.transactionStatus.events.map(async function decodeEvents(e) {\n          return {\n            type: e.type,\n            transactionId: e.transactionId,\n            transactionIndex: e.transactionIndex,\n            eventIndex: e.eventIndex,\n            data: await decode(e.payload, customDecoders),\n          }\n        })\n      ),\n    }\n  } else if (response.transaction) {\n    return response.transaction\n  } else if (response.events) {\n    return await Promise.all(\n      response.events.map(async function decodeEvents(e) {\n        return {\n          blockId: e.blockId,\n          blockHeight: e.blockHeight,\n          blockTimestamp: e.blockTimestamp,\n          type: e.type,\n          transactionId: e.transactionId,\n          transactionIndex: e.transactionIndex,\n          eventIndex: e.eventIndex,\n          data: await decode(e.payload, customDecoders),\n        }\n      })\n    )\n  } else if (response.account) {\n    return response.account\n  } else if (response.block) {\n    return response.block\n  } else if (response.blockHeader) {\n    return response.blockHeader\n  } else if (response.latestBlock) {\n    latestBlockDeprecationNotice()\n    return response.latestBlock\n  } else if (response.transactionId) {\n    return response.transactionId\n  } else if (response.collection) {\n    return response.collection\n  } else if (response.networkParameters) {\n    const chainIdMap = {\n      \"flow-testnet\": \"testnet\",\n      \"flow-mainnet\": \"mainnet\",\n      \"flow-emulator\": \"local\",\n    }\n\n    return {\n      chainId: chainIdMap[response.networkParameters.chainId],\n    }\n  }\n\n  return null\n}\n","import {isTransaction, isScript, get} from \"../interaction/interaction.js\"\nimport {invariant} from \"@onflow/util-invariant\"\nimport {config} from \"@onflow/config\"\nimport * as logger from \"@onflow/util-logger\"\nimport {withPrefix} from \"@onflow/util-address\"\n\nconst isFn = v => typeof v === \"function\"\nconst isString = v => typeof v === \"string\"\n\nconst oldIdentifierPatternFn = () => /\\b(0x\\w+)\\b/g\nfunction isOldIdentifierSyntax(cadence) {\n  return oldIdentifierPatternFn().test(cadence)\n}\n\nconst newIdentifierPatternFn = () => /import\\s+\"(\\w+)\"/g\nfunction isNewIdentifierSyntax(cadence) {\n  return newIdentifierPatternFn().test(cadence)\n}\n\nfunction getContractIdentifierSyntaxMatches(cadence) {\n  return cadence.matchAll(newIdentifierPatternFn())\n}\n\nexport async function resolveCadence(ix) {\n  if (!isTransaction(ix) && !isScript(ix)) return ix\n\n  var cadence = get(ix, \"ix.cadence\")\n\n  invariant(\n    isFn(cadence) || isString(cadence),\n    \"Cadence needs to be a function or a string.\"\n  )\n  if (isFn(cadence)) cadence = await cadence({})\n  invariant(isString(cadence), \"Cadence needs to be a string at this point.\")\n  invariant(\n    !isOldIdentifierSyntax(cadence) || !isNewIdentifierSyntax(cadence),\n    \"Both account identifier and contract identifier syntax not simultaneously supported.\"\n  )\n  if (isOldIdentifierSyntax(cadence)) {\n    cadence = await config()\n      .where(/^0x/)\n      .then(d =>\n        Object.entries(d).reduce((cadence, [key, value]) => {\n          const regex = new RegExp(\"(\\\\b\" + key + \"\\\\b)\", \"g\")\n          return cadence.replace(regex, value)\n        }, cadence)\n      )\n  }\n\n  if (isNewIdentifierSyntax(cadence)) {\n    for (const [fullMatch, contractName] of getContractIdentifierSyntaxMatches(\n      cadence\n    )) {\n      const address = await config().get(`system.contracts.${contractName}`)\n      if (address) {\n        cadence = cadence.replace(\n          fullMatch,\n          `import ${contractName} from ${withPrefix(address)}`\n        )\n      } else {\n        logger.log({\n          title: \"Contract Placeholder not found\",\n          message: `Cannot find a value for contract placeholder ${contractName}. Please add to your flow.json or explicitly add it to the config 'contracts.*' namespace.`,\n          level: logger.LEVELS.warn,\n        })\n      }\n    }\n  }\n\n  // We need to move this over in any case.\n  ix.message.cadence = cadence\n\n  return ix\n}\n","import {invariant} from \"@onflow/util-invariant\"\nimport {isTransaction, isScript} from \"../interaction/interaction.js\"\n\nconst isFn = v => typeof v === \"function\"\n\nfunction cast(arg) {\n  // prettier-ignore\n  invariant(typeof arg.xform != null, `No type specified for argument: ${arg.value}`)\n\n  if (isFn(arg.xform)) return arg.xform(arg.value)\n  if (isFn(arg.xform.asArgument)) return arg.xform.asArgument(arg.value)\n\n  // prettier-ignore\n  invariant(false, `Invalid Argument`, arg)\n}\n\nasync function handleArgResolution(arg, depth = 3) {\n  invariant(\n    depth > 0,\n    `Argument Resolve Recursion Limit Exceeded for Arg: ${arg.tempId}`\n  )\n\n  if (isFn(arg.resolveArgument)) {\n    const resolvedArg = await arg.resolveArgument()\n    return handleArgResolution(resolvedArg, depth - 1)\n  } else {\n    return arg\n  }\n}\n\nexport async function resolveArguments(ix) {\n  if (isTransaction(ix) || isScript(ix)) {\n    for (let [id, arg] of Object.entries(ix.arguments)) {\n      const res = await handleArgResolution(arg)\n      ix.arguments[id].asArgument = cast(res)\n    }\n  }\n\n  return ix\n}\n","import {SHA3} from \"sha3\"\nimport {encode, Buffer} from \"@onflow/rlp\"\nimport {sansPrefix} from \"@onflow/util-address\"\n\nexport const encodeTransactionPayload = tx =>\n  prependTransactionDomainTag(rlpEncode(preparePayload(tx)))\nexport const encodeTransactionEnvelope = tx =>\n  prependTransactionDomainTag(rlpEncode(prepareEnvelope(tx)))\nexport const encodeTxIdFromVoucher = voucher =>\n  sha3_256(rlpEncode(prepareVoucher(voucher)))\n\nconst rightPaddedHexBuffer = (value, pad) =>\n  Buffer.from(value.padEnd(pad * 2, 0), \"hex\")\n\nconst leftPaddedHexBuffer = (value, pad) =>\n  Buffer.from(value.padStart(pad * 2, 0), \"hex\")\n\nconst TRANSACTION_DOMAIN_TAG = rightPaddedHexBuffer(\n  Buffer.from(\"FLOW-V0.0-transaction\").toString(\"hex\"),\n  32\n).toString(\"hex\")\nconst prependTransactionDomainTag = tx => TRANSACTION_DOMAIN_TAG + tx\n\nconst addressBuffer = addr => leftPaddedHexBuffer(addr, 8)\n\nconst blockBuffer = block => leftPaddedHexBuffer(block, 32)\n\nconst argumentToString = arg => Buffer.from(JSON.stringify(arg), \"utf8\")\n\nconst scriptBuffer = script => Buffer.from(script, \"utf8\")\nconst signatureBuffer = signature => Buffer.from(signature, \"hex\")\n\nconst rlpEncode = v => {\n  return encode(v).toString(\"hex\")\n}\n\nconst sha3_256 = msg => {\n  const sha = new SHA3(256)\n  sha.update(Buffer.from(msg, \"hex\"))\n  return sha.digest().toString(\"hex\")\n}\n\nconst preparePayload = tx => {\n  validatePayload(tx)\n\n  return [\n    scriptBuffer(tx.cadence),\n    tx.arguments.map(argumentToString),\n    blockBuffer(tx.refBlock),\n    tx.computeLimit,\n    addressBuffer(sansPrefix(tx.proposalKey.address)),\n    tx.proposalKey.keyId,\n    tx.proposalKey.sequenceNum,\n    addressBuffer(sansPrefix(tx.payer)),\n    tx.authorizers.map(authorizer => addressBuffer(sansPrefix(authorizer))),\n  ]\n}\n\nconst prepareEnvelope = tx => {\n  validateEnvelope(tx)\n\n  return [preparePayload(tx), preparePayloadSignatures(tx)]\n}\n\nconst preparePayloadSignatures = tx => {\n  const signers = collectSigners(tx)\n\n  return tx.payloadSigs\n    .map(sig => {\n      return {\n        signerIndex: signers.get(sig.address),\n        keyId: sig.keyId,\n        sig: sig.sig,\n      }\n    })\n    .sort((a, b) => {\n      if (a.signerIndex > b.signerIndex) return 1\n      if (a.signerIndex < b.signerIndex) return -1\n\n      if (a.keyId > b.keyId) return 1\n      if (a.keyId < b.keyId) return -1\n    })\n    .map(sig => {\n      return [sig.signerIndex, sig.keyId, signatureBuffer(sig.sig)]\n    })\n}\n\nconst collectSigners = tx => {\n  const signers = new Map()\n  let i = 0\n\n  const addSigner = addr => {\n    if (!signers.has(addr)) {\n      signers.set(addr, i)\n      i++\n    }\n  }\n\n  addSigner(tx.proposalKey.address)\n  addSigner(tx.payer)\n  tx.authorizers.forEach(addSigner)\n\n  return signers\n}\n\nconst prepareVoucher = voucher => {\n  validateVoucher(voucher)\n\n  const signers = collectSigners(voucher)\n\n  const prepareSigs = sigs => {\n    return sigs\n      .map(({address, keyId, sig}) => {\n        return {signerIndex: signers.get(address), keyId, sig}\n      })\n      .sort((a, b) => {\n        if (a.signerIndex > b.signerIndex) return 1\n        if (a.signerIndex < b.signerIndex) return -1\n        if (a.keyId > b.keyId) return 1\n        if (a.keyId < b.keyId) return -1\n      })\n      .map(sig => {\n        return [sig.signerIndex, sig.keyId, signatureBuffer(sig.sig)]\n      })\n  }\n\n  return [\n    [\n      scriptBuffer(voucher.cadence),\n      voucher.arguments.map(argumentToString),\n      blockBuffer(voucher.refBlock),\n      voucher.computeLimit,\n      addressBuffer(sansPrefix(voucher.proposalKey.address)),\n      voucher.proposalKey.keyId,\n      voucher.proposalKey.sequenceNum,\n      addressBuffer(sansPrefix(voucher.payer)),\n      voucher.authorizers.map(authorizer =>\n        addressBuffer(sansPrefix(authorizer))\n      ),\n    ],\n    prepareSigs(voucher.payloadSigs),\n    prepareSigs(voucher.envelopeSigs),\n  ]\n}\n\nconst validatePayload = tx => {\n  payloadFields.forEach(field => checkField(tx, field))\n  proposalKeyFields.forEach(field =>\n    checkField(tx.proposalKey, field, \"proposalKey\")\n  )\n}\n\nconst validateEnvelope = tx => {\n  payloadSigsFields.forEach(field => checkField(tx, field))\n  tx.payloadSigs.forEach((sig, index) => {\n    payloadSigFields.forEach(field =>\n      checkField(sig, field, \"payloadSigs\", index)\n    )\n  })\n}\n\nconst validateVoucher = voucher => {\n  payloadFields.forEach(field => checkField(voucher, field))\n  proposalKeyFields.forEach(field =>\n    checkField(voucher.proposalKey, field, \"proposalKey\")\n  )\n  payloadSigsFields.forEach(field => checkField(voucher, field))\n  voucher.payloadSigs.forEach((sig, index) => {\n    payloadSigFields.forEach(field =>\n      checkField(sig, field, \"payloadSigs\", index)\n    )\n  })\n  envelopeSigsFields.forEach(field => checkField(voucher, field))\n  voucher.envelopeSigs.forEach((sig, index) => {\n    envelopeSigFields.forEach(field =>\n      checkField(sig, field, \"envelopeSigs\", index)\n    )\n  })\n}\n\nconst isNumber = v => typeof v === \"number\"\nconst isString = v => typeof v === \"string\"\nconst isObject = v => v !== null && typeof v === \"object\"\nconst isArray = v => isObject(v) && v instanceof Array\n\nconst payloadFields = [\n  {name: \"cadence\", check: isString},\n  {name: \"arguments\", check: isArray},\n  {name: \"refBlock\", check: isString, defaultVal: \"0\"},\n  {name: \"computeLimit\", check: isNumber},\n  {name: \"proposalKey\", check: isObject},\n  {name: \"payer\", check: isString},\n  {name: \"authorizers\", check: isArray},\n]\n\nconst proposalKeyFields = [\n  {name: \"address\", check: isString},\n  {name: \"keyId\", check: isNumber},\n  {name: \"sequenceNum\", check: isNumber},\n]\n\nconst payloadSigsFields = [{name: \"payloadSigs\", check: isArray}]\n\nconst payloadSigFields = [\n  {name: \"address\", check: isString},\n  {name: \"keyId\", check: isNumber},\n  {name: \"sig\", check: isString},\n]\n\nconst envelopeSigsFields = [{name: \"envelopeSigs\", check: isArray}]\n\nconst envelopeSigFields = [\n  {name: \"address\", check: isString},\n  {name: \"keyId\", check: isNumber},\n  {name: \"sig\", check: isString},\n]\n\nconst checkField = (obj, field, base, index) => {\n  const {name, check, defaultVal} = field\n  if (obj[name] == null && defaultVal != null) obj[name] = defaultVal\n  if (obj[name] == null) throw missingFieldError(name, base, index)\n  if (!check(obj[name])) throw invalidFieldError(name, base, index)\n}\n\nconst printFieldName = (field, base, index) => {\n  if (!!base)\n    return index == null ? `${base}.${field}` : `${base}.${index}.${field}`\n  return field\n}\n\nconst missingFieldError = (field, base, index) =>\n  new Error(`Missing field ${printFieldName(field, base, index)}`)\nconst invalidFieldError = (field, base, index) =>\n  new Error(`Invalid field ${printFieldName(field, base, index)}`)\n","import {withPrefix} from \"@onflow/util-address\"\nimport {encodeTxIdFromVoucher} from \"../encode/encode.js\"\n\nexport function findInsideSigners(ix) {\n  // Inside Signers Are: (authorizers + proposer) - payer\n  let inside = new Set(ix.authorizations)\n  inside.add(ix.proposer)\n  if (Array.isArray(ix.payer)) {\n    ix.payer.forEach(p => inside.delete(p))\n  } else {\n    inside.delete(ix.payer)\n  }\n  return Array.from(inside)\n}\n\nexport function findOutsideSigners(ix) {\n  // Outside Signers Are: (payer)\n  let outside = new Set(Array.isArray(ix.payer) ? ix.payer : [ix.payer])\n  return Array.from(outside)\n}\n\nexport const createSignableVoucher = ix => {\n  const buildAuthorizers = () => {\n    const authorizations = ix.authorizations\n      .map(cid => withPrefix(ix.accounts[cid].addr))\n      .reduce((prev, current) => {\n        return prev.find(item => item === current) ? prev : [...prev, current]\n      }, [])\n    return authorizations[0] ? authorizations : []\n  }\n\n  const buildInsideSigners = () =>\n    findInsideSigners(ix).map(id => ({\n      address: withPrefix(ix.accounts[id].addr),\n      keyId: ix.accounts[id].keyId,\n      sig: ix.accounts[id].signature,\n    }))\n\n  const buildOutsideSigners = () =>\n    findOutsideSigners(ix).map(id => ({\n      address: withPrefix(ix.accounts[id].addr),\n      keyId: ix.accounts[id].keyId,\n      sig: ix.accounts[id].signature,\n    }))\n\n  return {\n    cadence: ix.message.cadence,\n    refBlock: ix.message.refBlock || null,\n    computeLimit: ix.message.computeLimit,\n    arguments: ix.message.arguments.map(id => ix.arguments[id].asArgument),\n    proposalKey: {\n      address: withPrefix(ix.accounts[ix.proposer].addr),\n      keyId: ix.accounts[ix.proposer].keyId,\n      sequenceNum: ix.accounts[ix.proposer].sequenceNum,\n    },\n    payer: withPrefix(\n      ix.accounts[Array.isArray(ix.payer) ? ix.payer[0] : ix.payer].addr\n    ),\n    authorizers: buildAuthorizers(),\n    payloadSigs: buildInsideSigners(),\n    envelopeSigs: buildOutsideSigners(),\n  }\n}\n\nexport const voucherToTxId = voucher => {\n  return encodeTxIdFromVoucher(voucher)\n}\n","import {sansPrefix, withPrefix} from \"@onflow/util-address\"\nimport {invariant} from \"@onflow/util-invariant\"\nimport {log} from \"@onflow/util-logger\"\nimport {isTransaction} from \"../interaction/interaction.js\"\nimport {createSignableVoucher} from \"./voucher.js\"\n\nconst idof = acct => `${withPrefix(acct.addr)}-${acct.keyId}`\nconst isFn = v => typeof v === \"function\"\n\nexport function buildPreSignable(acct, ix) {\n  try {\n    return {\n      f_type: \"PreSignable\",\n      f_vsn: \"1.0.1\",\n      roles: acct.role,\n      cadence: ix.message.cadence,\n      args: ix.message.arguments.map(d => ix.arguments[d].asArgument),\n      data: {},\n      interaction: ix,\n      voucher: createSignableVoucher(ix),\n    }\n  } catch (error) {\n    console.error(\"buildPreSignable\", error)\n    throw error\n  }\n}\n\nasync function collectAccounts(ix, accounts, last, depth = 3) {\n  invariant(depth, \"Account Resolve Recursion Limit Exceeded\", {ix, accounts})\n\n  let authorizations = []\n  for (let ax of accounts) {\n    let resolve = ax.resolve\n    ax.resolve = null\n    var old = last || ax\n    if (isFn(resolve)) ax = await resolve(ax, buildPreSignable(ax, ix))\n\n    if (Array.isArray(ax)) {\n      await collectAccounts(ix, ax, old, depth - 1)\n    } else {\n      if (ax.addr) {\n        ax.addr = sansPrefix(ax.addr)\n      }\n      if (ax.addr != null && ax.keyId != null) {\n        ax.tempId = idof(ax)\n      }\n      ix.accounts[ax.tempId] = ix.accounts[ax.tempId] || ax\n      ix.accounts[ax.tempId].role.proposer =\n        ix.accounts[ax.tempId].role.proposer || ax.role.proposer\n      ix.accounts[ax.tempId].role.payer =\n        ix.accounts[ax.tempId].role.payer || ax.role.payer\n      ix.accounts[ax.tempId].role.authorizer =\n        ix.accounts[ax.tempId].role.authorizer || ax.role.authorizer\n\n      if (ix.accounts[ax.tempId].role.proposer && ix.proposer === old.tempId) {\n        ix.proposer = ax.tempId\n      }\n\n      if (ix.accounts[ax.tempId].role.payer) {\n        if (Array.isArray(ix.payer)) {\n          ix.payer = Array.from(\n            new Set(\n              [...ix.payer, ax.tempId].map(d =>\n                d === old.tempId ? ax.tempId : d\n              )\n            )\n          )\n        } else {\n          ix.payer = Array.from(\n            new Set(\n              [ix.payer, ax.tempId].map(d => (d === old.tempId ? ax.tempId : d))\n            )\n          )\n        }\n        if (ix.payer.length > 1) {\n          // remove payer dups based on addr and keyId\n          const dupList = []\n          const payerAccts = []\n          ix.payer = ix.payer.reduce((g, tempId) => {\n            const {addr} = ix.accounts[tempId]\n            const key = idof(ix.accounts[tempId])\n            payerAccts.push(addr)\n            if (dupList.includes(key)) return g\n            dupList.push(key)\n            return [...g, tempId]\n          }, [])\n          const multiAccts = Array.from(new Set(payerAccts))\n          if (multiAccts.length > 1) {\n            throw new Error(\"Payer can not be different accounts\")\n          }\n        }\n      }\n\n      if (ix.accounts[ax.tempId].role.authorizer) {\n        if (last) {\n          // do group replacement\n          authorizations = Array.from(new Set([...authorizations, ax.tempId]))\n        } else {\n          // do 1-1 replacement\n          ix.authorizations = ix.authorizations.map(d =>\n            d === old.tempId ? ax.tempId : d\n          )\n        }\n      }\n    }\n    if (old.tempId != ax.tempId) delete ix.accounts[old.tempId]\n  }\n\n  if (last) {\n    // complete (flatmap) group replacement\n    ix.authorizations = ix.authorizations\n      .map(d => (d === last.tempId ? authorizations : d))\n      .reduce(\n        (prev, curr) =>\n          Array.isArray(curr) ? [...prev, ...curr] : [...prev, curr],\n        []\n      )\n  }\n}\n\nexport async function resolveAccounts(ix) {\n  if (isTransaction(ix)) {\n    if (!Array.isArray(ix.payer)) {\n      log.deprecate({\n        pkg: \"FCL\",\n        subject:\n          '\"ix.payer\" must be an array. Support for ix.payer as a singular',\n        message: \"See changelog for more info.\",\n      })\n    }\n    try {\n      await collectAccounts(ix, Object.values(ix.accounts))\n      await collectAccounts(ix, Object.values(ix.accounts))\n    } catch (error) {\n      console.error(\"=== SAD PANDA ===\\n\\n\", error, \"\\n\\n=== SAD PANDA ===\")\n      throw error\n    }\n  }\n  return ix\n}\n","import {isTransaction} from \"../interaction/interaction.js\"\nimport {sansPrefix} from \"@onflow/util-address\"\nimport {\n  encodeTransactionPayload as encodeInsideMessage,\n  encodeTransactionEnvelope as encodeOutsideMessage,\n} from \"../encode/encode.js\"\nimport {\n  createSignableVoucher,\n  findInsideSigners,\n  findOutsideSigners,\n} from \"./voucher.js\"\n\nexport async function resolveSignatures(ix) {\n  if (isTransaction(ix)) {\n    try {\n      let insideSigners = findInsideSigners(ix)\n      const insidePayload = encodeInsideMessage(prepForEncoding(ix))\n      await Promise.all(insideSigners.map(fetchSignature(ix, insidePayload)))\n\n      let outsideSigners = findOutsideSigners(ix)\n      const outsidePayload = encodeOutsideMessage({\n        ...prepForEncoding(ix),\n        payloadSigs: insideSigners.map(id => ({\n          address: ix.accounts[id].addr,\n          keyId: ix.accounts[id].keyId,\n          sig: ix.accounts[id].signature,\n        })),\n      })\n      await Promise.all(outsideSigners.map(fetchSignature(ix, outsidePayload)))\n    } catch (error) {\n      console.error(\"Signatures\", error, {ix})\n      throw error\n    }\n  }\n  return ix\n}\n\nfunction fetchSignature(ix, payload) {\n  return async function innerFetchSignature(id) {\n    const acct = ix.accounts[id]\n    if (acct.signature != null) return\n    const {signature} = await acct.signingFunction(\n      buildSignable(acct, payload, ix)\n    )\n    ix.accounts[id].signature = signature\n  }\n}\n\nexport function buildSignable(acct, message, ix) {\n  try {\n    return {\n      f_type: \"Signable\",\n      f_vsn: \"1.0.1\",\n      message,\n      addr: sansPrefix(acct.addr),\n      keyId: acct.keyId,\n      roles: acct.role,\n      cadence: ix.message.cadence,\n      args: ix.message.arguments.map(d => ix.arguments[d].asArgument),\n      data: {},\n      interaction: ix,\n      voucher: createSignableVoucher(ix),\n    }\n  } catch (error) {\n    console.error(\"buildSignable\", error)\n    throw error\n  }\n}\n\nfunction prepForEncoding(ix) {\n  const payerAddress = sansPrefix(\n    (Array.isArray(ix.payer) ? ix.accounts[ix.payer[0]] : ix.accounts[ix.payer])\n      .addr\n  )\n  return {\n    cadence: ix.message.cadence,\n    refBlock: ix.message.refBlock || null,\n    computeLimit: ix.message.computeLimit,\n    arguments: ix.message.arguments.map(id => ix.arguments[id].asArgument),\n    proposalKey: {\n      address: sansPrefix(ix.accounts[ix.proposer].addr),\n      keyId: ix.accounts[ix.proposer].keyId,\n      sequenceNum: ix.accounts[ix.proposer].sequenceNum,\n    },\n    payer: payerAddress,\n    authorizers: ix.authorizations\n      .map(cid => sansPrefix(ix.accounts[cid].addr))\n      .reduce((prev, current) => {\n        return prev.find(item => item === current) ? prev : [...prev, current]\n      }, []),\n  }\n}\n","import {get, pipe, Ok, Bad} from \"../interaction/interaction.js\"\n\nexport async function resolveValidators(ix) {\n  const validators = get(ix, \"ix.validators\", [])\n  return pipe(\n    ix,\n    validators.map(cb => ix => cb(ix, {Ok, Bad}))\n  )\n}\n","import {sansPrefix} from \"@onflow/util-address\"\n\nexport async function resolveFinalNormalization(ix) {\n  for (let key of Object.keys(ix.accounts)) {\n    ix.accounts[key].addr = sansPrefix(ix.accounts[key].addr)\n  }\n  return ix\n}\n","import {get, isFn} from \"../interaction/interaction.js\"\nimport {createSignableVoucher} from \"./voucher.js\"\n\nexport async function resolveVoucherIntercept(ix) {\n  const fn = get(ix, \"ix.voucher-intercept\")\n  if (isFn(fn)) {\n    await fn(createSignableVoucher(ix))\n  }\n  return ix\n}\n","import {isTransaction} from \"../interaction/interaction.js\"\nimport {config} from \"@onflow/config\"\nimport * as logger from \"@onflow/util-logger\"\n\nconst DEFAULT_COMPUTE_LIMIT = 100\n\nexport async function resolveComputeLimit(ix) {\n  if (isTransaction(ix)) {\n    ix.message.computeLimit =\n      ix.message.computeLimit || (await config.get(\"fcl.limit\"))\n\n    if (!ix.message.computeLimit) {\n      logger.log.deprecate({\n        pkg: \"FCL/SDK\",\n        subject:\n          \"The built-in default compute limit (DEFAULT_COMPUTE_LIMIT=10)\",\n        transition:\n          \"https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0009-deprecate-default-compute-limit\",\n      })\n      ix.message.computeLimit = DEFAULT_COMPUTE_LIMIT\n    }\n  }\n  return ix\n}\n","import {pipe, isTransaction} from \"../interaction/interaction.js\"\nimport {config} from \"@onflow/config\"\nimport {invariant} from \"@onflow/util-invariant\"\nimport {Buffer} from \"@onflow/rlp\"\nimport {send as defaultSend} from \"@onflow/transport-http\"\nimport * as ixModule from \"../interaction/interaction.js\"\nimport {response} from \"../response/response.js\"\nimport {build} from \"../build/build.js\"\nimport {getBlock} from \"../build/build-get-block.js\"\nimport {getAccount} from \"../build/build-get-account.js\"\nimport {decodeResponse as decode} from \"../decode/decode.js\"\n\nimport {resolveCadence} from \"./resolve-cadence.js\"\nimport {resolveArguments} from \"./resolve-arguments.js\"\nimport {resolveAccounts} from \"./resolve-accounts.js\"\nimport {resolveSignatures} from \"./resolve-signatures.js\"\nimport {resolveValidators} from \"./resolve-validators.js\"\nimport {resolveFinalNormalization} from \"./resolve-final-normalization.js\"\nimport {resolveVoucherIntercept} from \"./resolve-voucher-intercept.js\"\nimport {resolveComputeLimit} from \"./resolve-compute-limit.js\"\n\nconst noop = v => v\nconst debug =\n  (key, fn = noop) =>\n  async ix => {\n    const take = (obj, keys = []) => {\n      if (typeof keys === \"string\") keys = keys.split(\" \")\n      keys.reduce((acc, key) => ({...acc, [key]: obj[key]}), {})\n    }\n\n    const accts = ix =>\n      [\n        \"\\nAccounts:\",\n        {\n          proposer: ix.proposer,\n          authorizations: ix.authorizations,\n          payer: ix.payer,\n        },\n        \"\\n\\nDetails:\",\n        ix.accounts,\n      ].filter(Boolean)\n\n    const log = (...msg) => {\n      console.log(`debug[${key}] ---\\n`, ...msg, \"\\n\\n\\n---\")\n    }\n\n    if (await config.get(`debug.${key}`)) await fn(ix, log, accts)\n    return ix\n  }\n\nexport const resolve = pipe([\n  resolveCadence,\n  debug(\"cadence\", (ix, log) => log(ix.message.cadence)),\n  resolveComputeLimit,\n  debug(\"compute limit\", (ix, log) => log(ix.message.computeLimit)),\n  resolveArguments,\n  debug(\"arguments\", (ix, log) => log(ix.message.arguments, ix.message)),\n  resolveAccounts,\n  debug(\"accounts\", (ix, log, accts) => log(...accts(ix))),\n  /* special */ execFetchRef,\n  /* special */ execFetchSequenceNumber,\n  resolveSignatures,\n  debug(\"signatures\", (ix, log, accts) => log(...accts(ix))),\n  resolveFinalNormalization,\n  resolveValidators,\n  resolveVoucherIntercept,\n  debug(\"resolved\", (ix, log) => log(ix)),\n])\n\nasync function execFetchRef(ix) {\n  if (isTransaction(ix) && ix.message.refBlock == null) {\n    const node = await config().get(\"accessNode.api\")\n    const sendFn = await config.first(\n      [\"sdk.transport\", \"sdk.send\"],\n      defaultSend\n    )\n\n    invariant(\n      sendFn,\n      `Required value for sdk.transport is not defined in config. See: ${\"https://github.com/onflow/fcl-js/blob/master/packages/sdk/CHANGELOG.md#0057-alpha1----2022-01-21\"}`\n    )\n\n    ix.message.refBlock = (\n      await sendFn(\n        build([getBlock()]),\n        {config, response, Buffer, ix: ixModule},\n        {node}\n      ).then(decode)\n    ).id\n  }\n  return ix\n}\n\nasync function execFetchSequenceNumber(ix) {\n  if (isTransaction(ix)) {\n    var acct = Object.values(ix.accounts).find(a => a.role.proposer)\n    invariant(acct, `Transactions require a proposer`)\n    if (acct.sequenceNum == null) {\n      const node = await config().get(\"accessNode.api\")\n      const sendFn = await config.first(\n        [\"sdk.transport\", \"sdk.send\"],\n        defaultSend\n      )\n\n      invariant(\n        sendFn,\n        `Required value for sdk.transport is not defined in config. See: ${\"https://github.com/onflow/fcl-js/blob/master/packages/sdk/CHANGELOG.md#0057-alpha1----2022-01-21\"}`\n      )\n\n      ix.accounts[acct.tempId].sequenceNum = await sendFn(\n        await build([getAccount(acct.addr)]),\n        {config, response, Buffer, ix: ixModule},\n        {node}\n      )\n        .then(decode)\n        .then(acct => acct.keys)\n        .then(keys => keys.find(key => key.index === acct.keyId))\n        .then(key => key.sequenceNumber)\n    }\n  }\n  return ix\n}","import {Ok, Bad} from \"../interaction/interaction.js\"\n\nexport function invariant(...args) {\n  if (args.length > 1) {\n    const [predicate, message] = args\n    return invariant((ix, {Ok, Bad}) => {\n      return predicate ? Ok(ix) : Bad(ix, message)\n    })\n  }\n  const [fn] = args\n  return ix => fn(ix, {Ok, Bad})\n}\n","import {Buffer} from \"@onflow/rlp\"\nimport {send as defaultSend} from \"@onflow/transport-http\"\nimport {interaction, pipe} from \"../interaction/interaction.js\"\nimport * as ixModule from \"../interaction/interaction.js\"\nimport {invariant} from \"../build/build-invariant.js\"\nimport {response} from \"../response/response.js\"\nimport {config} from \"@onflow/config\"\nimport {resolve as defaultResolve} from \"../resolve/resolve.js\"\n\n/**\n * @description - Sends arbitrary scripts, transactions, and requests to Flow\n * @param {Array.<Function>} args - An array of functions that take interaction and return interaction\n * @param {object} opts - Optional parameters\n * @returns {Promise<*>} - A promise that resolves to a response\n */\nexport const send = async (args = [], opts = {}) => {\n  const sendFn = await config.first(\n    [\"sdk.transport\", \"sdk.send\"],\n    opts.send || defaultSend\n  )\n\n  invariant(\n    sendFn,\n    `Required value for sdk.transport is not defined in config. See: ${\"https://github.com/onflow/fcl-js/blob/master/packages/sdk/CHANGELOG.md#0057-alpha1----2022-01-21\"}`\n  )\n\n  const resolveFn = await config.first(\n    [\"sdk.resolve\"],\n    opts.resolve || defaultResolve\n  )\n\n  opts.node = opts.node || (await config().get(\"accessNode.api\"))\n\n  if (Array.isArray(args)) args = pipe(interaction(), args)\n  return sendFn(\n    await resolveFn(args),\n    {config, response, ix: ixModule, Buffer},\n    opts\n  )\n}\n","import {decodeResponse} from \"./decode.js\"\nimport {config} from \"@onflow/config\"\n\nexport async function decode(response) {\n  const decodersFromConfig = await config().where(/^decoder\\./)\n  const decoders = Object.entries(decodersFromConfig).map(\n    ([pattern, xform]) => {\n      pattern = `/${pattern.replace(/^decoder\\./, \"\")}$/`\n      return [pattern, xform]\n    }\n  )\n\n  return decodeResponse(response, Object.fromEntries(decoders))\n}\n","import {withPrefix, sansPrefix} from \"@onflow/util-address\"\nimport {\n  encodeTransactionPayload,\n  encodeTransactionEnvelope,\n} from \"../encode/encode.js\"\n\nconst findPayloadSigners = voucher => {\n  // Payload Signers Are: (authorizers + proposer) - payer\n  let payload = new Set(voucher.authorizers)\n  payload.add(voucher.proposalKey.address)\n  payload.delete(voucher.payer)\n  return Array.from(payload).map(withPrefix)\n}\n\nconst findEnvelopeSigners = voucher => {\n  // Envelope Signers Are: (payer)\n  let envelope = new Set([voucher.payer])\n  return Array.from(envelope).map(withPrefix)\n}\n\nexport class UnableToDetermineMessageEncodingTypeForSignerAddress extends Error {\n  constructor(signerAddress) {\n    const msg = `\n        Encode Message From Signable Error: Unable to determine message encoding for signer addresss: ${signerAddress}. \n        Please ensure the address: ${signerAddress} is intended to sign the given transaction as specified by the transaction signable.\n      `.trim()\n    super(msg)\n    this.name = \"Unable To Determine Message Encoding For Signer Addresss\"\n  }\n}\n\nexport const encodeMessageFromSignable = (signable, signerAddress) => {\n  let payloadSigners = findPayloadSigners(signable.voucher)\n  let envelopeSigners = findEnvelopeSigners(signable.voucher)\n\n  const isPayloadSigner = payloadSigners.includes(withPrefix(signerAddress))\n  const isEnvelopeSigner = envelopeSigners.includes(withPrefix(signerAddress))\n\n  if (!isPayloadSigner && !isEnvelopeSigner) {\n    throw new UnableToDetermineMessageEncodingTypeForSignerAddress(\n      signerAddress\n    )\n  }\n\n  const message = {\n    cadence: signable.voucher.cadence,\n    refBlock: signable.voucher.refBlock,\n    computeLimit: signable.voucher.computeLimit,\n    arguments: signable.voucher.arguments,\n    proposalKey: {\n      ...signable.voucher.proposalKey,\n      address: sansPrefix(signable.voucher.proposalKey.address),\n    },\n    payer: sansPrefix(signable.voucher.payer),\n    authorizers: signable.voucher.authorizers.map(sansPrefix),\n    payloadSigs: signable.voucher.payloadSigs.map(ps => ({\n      ...ps,\n      address: sansPrefix(ps.address),\n    })),\n  }\n\n  return isPayloadSigner\n    ? encodeTransactionPayload(message)\n    : encodeTransactionEnvelope(message)\n}\n","import {update} from \"../interaction/interaction.js\"\n\nexport function validator(cb) {\n  return update(\"ix.validators\", validators =>\n    Array.isArray(validators) ? validators.push(cb) : [cb]\n  )\n}\n","import {pipe} from \"../interaction/interaction.js\"\nimport {validator} from \"./build-validator.js\"\n\n/**\n * @description - A builder function that returns a partial interaction to a block at a specific height\n * @param {number} height - The height of the block to get\n * @returns {object} - A partial interaction object\n */\nexport function atBlockHeight(height) {\n  return pipe([\n    ix => {\n      ix.block.height = height\n      return ix\n    },\n    validator(ix => {\n      if (typeof ix.block.isSealed === \"boolean\")\n        throw new Error(\"Unable to specify both block height and isSealed.\")\n      if (ix.block.id)\n        throw new Error(\"Unable to specify both block height and block id.\")\n      return ix\n    }),\n  ])\n}\n","import {isGetAccount, pipe, Ok} from \"../interaction/interaction.js\"\nimport {validator} from \"./build-validator.js\"\n\nexport function atBlockId(id) {\n  return pipe([\n    ix => {\n      ix.block.id = id\n      return Ok(ix)\n    },\n    validator((ix, {Ok, Bad}) => {\n      if (isGetAccount(ix))\n        return Bad(\n          ix,\n          \"Unable to specify a block id with a Get Account interaction.\"\n        )\n      if (typeof ix.block.isSealed === \"boolean\")\n        return Bad(ix, \"Unable to specify both block id and isSealed.\")\n      if (ix.block.height)\n        return Bad(ix, \"Unable to specify both block id and block height.\")\n      return Ok(ix)\n    }),\n  ])\n}\n","import {atBlockHeight} from \"../build/build-at-block-height.js\"\nimport {atBlockId} from \"../build/build-at-block-id.js\"\nimport {getAccount} from \"../build/build-get-account.js\"\nimport {invariant} from \"@onflow/util-invariant\"\nimport {decodeResponse as decode} from \"../decode/decode.js\"\nimport {send} from \"../send/send.js\"\n\n/**\n * @typedef {import(\"@onflow/typedefs\").Account} Account\n */\n\n/**\n * @description  Returns the details of an account from their public address\n * @param {string} address - Address of the account\n * @param {object} [queryOptions] - Query parameters\n * @param {number} [queryOptions.height] - Block height to query\n * @param {string} [queryOptions.id] - Block ID to query\n * @param {object} [opts] - Optional parameters\n * @returns {Promise<Account>} - A promise that resolves to an account response\n */\nexport function account(address, {height, id} = {}, opts) {\n  invariant(\n    !(id && height),\n    `Method: account -- Cannot pass \"id\" and \"height\" simultaneously`\n  )\n\n  // Get account by ID\n  if (id) return send([getAccount(address), atBlockId(id)], opts).then(decode)\n\n  // Get account by height\n  if (height)\n    return send([getAccount(address), atBlockHeight(height)], opts).then(decode)\n\n  return send([getAccount(address)], opts).then(decode)\n}\n","import {send} from \"../send/send.js\"\nimport {getBlock} from \"../build/build-get-block\"\nimport {atBlockHeight} from \"../build/build-at-block-height.js\"\nimport {atBlockId} from \"../build/build-at-block-id.js\"\nimport {decodeResponse as decode} from \"../decode/decode.js\"\nimport {invariant} from \"@onflow/util-invariant\"\n\n/**\n * @typedef {import(\"@onflow/typedefs\").Block} Block\n */\n\n/**\n * @description Returns the latest block (optionally sealed or not), by id, or by height\n * @param {object} [queryOptions] - Query parameters\n * @param {boolean} [queryOptions.sealed=false] - Whether to query for a sealed block\n * @param {number} [queryOptions.height] - Block height to query\n * @param {string} [queryOptions.id] - Block ID to query\n * @param {object} [opts] - Optional parameters\n * @returns {Promise<Block>} - A promise that resolves to a block response\n */\nexport function block({sealed = false, id, height} = {}, opts = {}) {\n  invariant(\n    !((sealed && id) || (sealed && height)),\n    `Method: block -- Cannot pass \"sealed\" with \"id\" or \"height\"`\n  )\n\n  invariant(\n    !(id && height),\n    `Method: block -- Cannot pass \"id\" and \"height\" simultaneously`\n  )\n\n  // Get block by ID\n  if (id) return send([getBlock(), atBlockId(id)], opts).then(decode)\n\n  // Get block by height\n  if (height)\n    return send([getBlock(), atBlockHeight(height)], opts).then(decode)\n\n  // Get latest block\n  return send([getBlock(sealed)], opts).then(decode)\n}\n","import {pipe, prepAccount, AUTHORIZER} from \"../interaction/interaction.js\"\n\nexport function authorizations(ax = []) {\n  return pipe(\n    ax.map(authz => {\n      return prepAccount(authz, {role: AUTHORIZER})\n    })\n  )\n}\n\nexport function authorization(addr, signingFunction, keyId, sequenceNum) {\n  return {addr, signingFunction, keyId, sequenceNum}\n}\n","import {pipe, Ok, makeGetEvents} from \"../interaction/interaction.js\"\nimport * as logger from \"@onflow/util-logger\"\n\nexport function getEvents(eventType, start, end) {\n  if (typeof start !== \"undefined\" || typeof end !== \"undefined\") {\n    logger.log.deprecate({\n      pkg: \"FCL/SDK\",\n      subject: \"Passing a start and end into getEvents\",\n      transition:\n        \"https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0005-deprecate-start-end-get-events-builder\",\n    })\n  }\n\n  return pipe([\n    makeGetEvents,\n    ix => {\n      ix.events.eventType = eventType\n      ix.events.start = start\n      ix.events.end = end\n      return Ok(ix)\n    },\n  ])\n}\n","import {pipe, Ok, makeGetEvents} from \"../interaction/interaction.js\"\n\n/**\n * @description - A builder function that returns all instances of a particular event (by name) within a height range\n * NOTE:\n * - The block range provided must be from the current spork.\n * - The block range provided must be 250 blocks or lower per request.\n * @param {string} eventName - The name of the event to get\n * @param {number} fromBlockHeight - The height of the block to start looking for events (inclusive)\n * @param {number} toBlockHeight - The height of the block to stop looking for events (inclusive)\n * @returns {object} - An interaction object\n */\nexport function getEventsAtBlockHeightRange(eventName, fromBlockHeight, toBlockHeight) {\n  return pipe([\n    makeGetEvents,\n    ix => {\n      ix.events.eventType = eventName\n      ix.events.start = fromBlockHeight\n      ix.events.end = toBlockHeight\n      return Ok(ix)\n    },\n  ])\n}\n","import {pipe, Ok, makeGetEvents} from \"../interaction/interaction.js\"\n\n/**\n * @description - A builder function that returns all instances of a particular event (by name) within a set of blocks, specified by block ids\n * NOTE:\n * - The block range provided must be from the current spork.\n * @param {string} eventName - The name of the event to get\n * @param {number[]} blockIds - The ids of the blocks to look for events\n * @returns {object} - An interaction object\n */\nexport function getEventsAtBlockIds(eventName, blockIds = []) {\n  return pipe([\n    makeGetEvents,\n    ix => {\n      ix.events.eventType = eventName\n      ix.events.blockIds = blockIds\n      return Ok(ix)\n    },\n  ])\n}\n","import {pipe, Ok, makeGetBlockHeader} from \"../interaction/interaction.js\"\n\n/**\n * @description - A builder function that returns the interaction to get a block header\n * @param {boolean} [isSealed] - Whether or not the block should be sealed\n * @returns {object} - An interaction object\n */\nexport function getBlockHeader(isSealed = null) {\n  return pipe([\n    makeGetBlockHeader,\n    ix => {\n      ix.block.isSealed = isSealed\n      return Ok(ix)\n    },\n  ])\n}\n","import {pipe, makeGetCollection} from \"../interaction/interaction.js\"\n\n/**\n * @description - A builder function that returns all a collection containing a list of transaction ids by its collection id\n * NOTE:\n * - The block range provided must be from the current spork. All events emitted during past sporks is current unavailable.\n * @param {string} [id] - The id of the collection to get\n * @returns {object} - An interaction object\n */\nexport function getCollection(id = null) {\n  return pipe([\n    makeGetCollection,\n    ix => {\n      ix.collection.id = id\n      return ix\n    },\n  ])\n}\n","import {pipe, Ok, makeGetTransactionStatus} from \"../interaction/interaction.js\"\n\n/**\n * @description - A builder function that returns the status of transaction\n * NOTE: The transactionID provided must be from the current spork.\n * @param {string} transactionId - The id of the transaction to get status\n * @returns {object} - An interaction object\n */\nexport function getTransactionStatus(transactionId) {\n  return pipe([\n    makeGetTransactionStatus,\n    ix => {\n      ix.transaction.id = transactionId\n      return Ok(ix)\n    },\n  ])\n}\n","import {pipe, Ok, makeGetTransaction} from \"../interaction/interaction.js\"\n\n/**\n * @description - A builder function that returns a transaction\n * NOTE: The transactionID provided must be from the current spork.\n * @param {string} transactionId - The id of the transaction to get\n * @returns {object} - An interaction object\n */\nexport function getTransaction(transactionId) {\n  return pipe([\n    makeGetTransaction,\n    ix => {\n      ix.transaction.id = transactionId\n      return Ok(ix)\n    },\n  ])\n}\n","import {pipe, Ok, makeGetNetworkParameters} from \"../interaction/interaction.js\"\n\nexport function getNetworkParameters() {\n  return pipe([\n    makeGetNetworkParameters,\n    ix => {\n      return Ok(ix)\n    },\n  ])\n}\n","export function limit(computeLimit) {\n  return ix => {\n    ix.message.computeLimit = computeLimit\n    return ix\n  }\n}\n","import {pipe, makeArgument} from \"../interaction/interaction.js\"\n\n/**\n * @description - A utility builder to be used with other builders to pass in arguments with a value and supported type\n * @param {Array.<*>} ax - An array of arguments\n * @returns {object} - An interaction object\n */\nexport function args(ax = []) {\n  return pipe(ax.map(makeArgument))\n}\n\n/**\n * @description - A utility builder to be used with fcl.args[...] to create FCL supported arguments for interactions\n * @param {any} value - The value of the argument\n * @param {Function} xform - A function to transform the value\n * @returns {object} - An argument object\n */\nexport function arg(value, xform) {\n  return {value, xform}\n}\n","import {prepAccount, PROPOSER} from \"../interaction/interaction.js\"\n\nexport async function proposer(authz) {\n  return prepAccount(authz, {role: PROPOSER})\n}\n","import {prepAccount, PAYER} from \"../interaction/interaction.js\"\n\nexport async function payer(authz) {\n  return prepAccount(authz, {role: PAYER})\n}\n","import {makePing} from \"../interaction/interaction.js\"\n\nexport function ping() {\n  return makePing\n}\n","import {pipe, Ok} from \"../interaction/interaction.js\"\n\nexport function ref(refBlock) {\n  return pipe([\n    ix => {\n      ix.message.refBlock = refBlock\n      return Ok(ix)\n    },\n  ])\n}\n","import {pipe, Ok, put, makeScript} from \"../interaction/interaction.js\"\nimport {template} from \"@onflow/util-template\"\n\nexport function script(...args) {\n  return pipe([makeScript, put(\"ix.cadence\", template(...args))])\n}\n","import {pipe, put, Ok, makeTransaction} from \"../interaction/interaction.js\"\nimport {template} from \"@onflow/util-template\"\n\nconst DEFAULT_SCRIPT_ACCOUNTS = []\nconst DEFUALT_REF = null\n\n/**\n * @description - A template builder to use a Cadence transaction for an interaction\n * @param {...*} args - The arguments to pass\n * @returns {object} - An interaction object\n */\nexport function transaction(...args) {\n  return pipe([\n    makeTransaction,\n    put(\"ix.cadence\", template(...args)),\n    ix => {\n      ix.message.refBlock = ix.message.refBlock || DEFUALT_REF\n      ix.authorizations = ix.authorizations || DEFAULT_SCRIPT_ACCOUNTS\n      return Ok(ix)\n    },\n  ])\n}\n","import {put} from \"../interaction/interaction.js\"\n\nexport function voucherIntercept(fn) {\n  return put(\"ix.voucher-intercept\", fn)\n}\n","import {isTransaction, Ok} from \"../interaction/interaction.js\"\nimport * as ixModule from \"../interaction/interaction.js\"\nimport {response as responseModule} from \"../response/response.js\"\nimport {config} from \"@onflow/config\"\nimport {decodeResponse} from \"../decode/decode.js\"\nimport {getAccount} from \"../build/build-get-account.js\"\nimport {build} from \"../build/build.js\"\nimport {invariant} from \"@onflow/util-invariant\"\nimport {Buffer} from \"@onflow/rlp\"\nimport {send as defaultSend} from \"@onflow/transport-http\"\n\nexport const resolveProposerSequenceNumber =\n  ({node}) =>\n  async ix => {\n    if (!isTransaction(ix)) return Ok(ix)\n    if (ix.accounts[ix.proposer].sequenceNum) return Ok(ix)\n\n    const sendFn = await config.first(\n      [\"sdk.transport\", \"sdk.send\"],\n      defaultSend\n    )\n\n    invariant(\n      sendFn,\n      `Required value for sdk.transport is not defined in config. See: ${\"https://github.com/onflow/fcl-js/blob/master/packages/sdk/CHANGELOG.md#0057-alpha1----2022-01-21\"}`\n    )\n\n    const response = await sendFn(\n      await build([getAccount(ix.accounts[ix.proposer].addr)]),\n      {config, response: responseModule, Buffer, ix: ixModule},\n      {node}\n    )\n    const decoded = await decodeResponse(response)\n\n    ix.accounts[ix.proposer].sequenceNum =\n      decoded.keys[ix.accounts[ix.proposer].keyId].sequenceNumber\n\n    return Ok(ix)\n  }\n","import {\n  isTransaction,\n  Ok,\n  interaction,\n  pipe,\n} from \"../interaction/interaction.js\"\nimport * as ixModule from \"../interaction/interaction.js\"\nimport {response} from \"../response/response.js\"\nimport {config} from \"@onflow/config\"\nimport {decodeResponse} from \"../decode/decode.js\"\nimport {getBlock} from \"../build/build-get-block.js\"\nimport {invariant} from \"@onflow/util-invariant\"\nimport {Buffer} from \"@onflow/rlp\"\nimport {send as defaultSend} from \"@onflow/transport-http\"\n\nasync function getRefId(opts) {\n  const node = await config().get(\"accessNode.api\")\n  const sendFn = await config.first([\"sdk.transport\", \"sdk.send\"], defaultSend)\n\n  invariant(\n    sendFn,\n    `Required value for sdk.transport is not defined in config. See: ${\"https://github.com/onflow/fcl-js/blob/master/packages/sdk/CHANGELOG.md#0057-alpha1----2022-01-21\"}`\n  )\n\n  var ix\n  ix = await pipe(interaction(), [getBlock()])\n  ix = await sendFn(ix, {config, response, Buffer, ix: ixModule}, {node})\n  ix = await decodeResponse(ix)\n  return ix.id\n}\n\nexport function resolveRefBlockId(opts) {\n  return async ix => {\n    if (!isTransaction(ix)) return Ok(ix)\n    if (ix.message.refBlock) return Ok(ix)\n\n    ix.message.refBlock = await getRefId(opts)\n\n    return Ok(ix)\n  }\n}\n","import {invariant} from \"@onflow/util-invariant\"\nimport {isGetAccount, isGetBlock} from \"../interaction/interaction\"\n\nexport function mockAccountResponse(ix, numberOfKeys = 5) {\n  // prettier-ignore\n  invariant(ix.account, \"mockAccountResponse(ix) -- ix.account is missing\", ix)\n  // prettier-ignore\n  invariant( ix.account.addr, \"mockAccountResponse(ix) -- ix.account.addr is missing\", ix)\n\n  const address = ix.account.addr\n\n  return {\n    account: {\n      addr: address,\n      keys: Array.from({length: numberOfKeys}, (_, i) => ({\n        index: i,\n        sequenceNumber: 42,\n      })),\n    },\n  }\n}\n\nexport function mockGetBlockResponse(ix) {\n  return {\n    tag: \"GET_BLOCK\",\n    block: {\n      id: \"32\",\n    },\n  }\n}\n\nconst identity = v => v\n\nexport function mockSend(fallback = identity) {\n  return async function execSend(ix) {\n    ix = await ix\n    switch (true) {\n      case isGetAccount(ix):\n        return mockAccountResponse(ix)\n\n      case isGetBlock(ix):\n        return mockGetBlockResponse(ix)\n\n      default:\n        return fallback(ix)\n    }\n  }\n}\n","import {withPrefix} from \"@onflow/util-address\"\n\nexport const idof = acct => `${withPrefix(acct.addr)}-${acct.keyId}`\n\nexport function sig(opts) {\n  return [\"SIGNATURE\", opts.addr, opts.keyId].join(\".\")\n}\n\nexport function authzFn(opts = {}) {\n  return function (account) {\n    const acct = {\n      ...account,\n      ...opts,\n      signingFunction:\n        opts.signingFunction ||\n        account.signingFunction ||\n        fallbackSigningFunction,\n    }\n\n    return acct\n\n    function fallbackSigningFunction(signable) {\n      return {\n        addr: acct.addr,\n        keyId: acct.keyId,\n        signature: sig(acct),\n      }\n    }\n  }\n}\n\nexport function authzResolve(opts = {}) {\n  return function (account) {\n    const {tempId, ...rest} = opts\n    return {\n      ...account,\n      tempId: tempId || \"WITH_RESOLVE\",\n      resolve: authzFn(rest),\n    }\n  }\n}\n\nconst ROLE = {proposer: false, authorizer: false, payer: false}\nconst noop = () => {}\n\nexport function authzResolveMany(opts = {}) {\n  return function (account) {\n    const tempId = opts.tempId || \"AUTHZ_RESOLVE_MANY\"\n    return {\n      ...account,\n      tempId,\n      resolve: () =>\n        [\n          opts.proposer &&\n            authzFn(opts.proposer)({role: {...ROLE, proposer: true}}),\n          ...opts.authorizations\n            .map(authzFn)\n            .map(d => d({role: {...ROLE, authorizer: true}})),\n          opts.payer && authzFn(opts.payer)({role: {...ROLE, payer: true}}),\n        ].filter(Boolean),\n    }\n  }\n}\n","import {build} from \"../build/build\"\nimport {resolve} from \"../resolve/resolve\"\nimport {ref} from \"../build/build-ref\"\n\nexport const run = (fns = []) => build([ref(\"123\"), ...fns]).then(resolve)\n","export const VERSION = PACKAGE_CURRENT_VERSION || \"TESTVERSION\"\n","import * as logger from \"@onflow/util-logger\"\n// Base\nexport {build} from \"./build/build.js\"\nexport {resolve} from \"./resolve/resolve.js\"\nexport {send} from \"./send/send.js\"\nexport {decode} from \"./decode/sdk-decode.js\"\nexport {\n  encodeTransactionPayload,\n  encodeTransactionEnvelope,\n  encodeTxIdFromVoucher,\n} from \"./encode/encode\"\n// Utils\nexport {\n  interaction,\n  isOk,\n  isBad,\n  why,\n  pipe,\n  get,\n  put,\n  update,\n  destroy,\n  isUnknown,\n  isScript,\n  isTransaction,\n  isGetTransaction,\n  isGetTransactionStatus,\n  isGetAccount,\n  isGetEvents,\n  isPing,\n  isGetBlock,\n  isGetBlockHeader,\n  isGetCollection,\n  isGetNetworkParameters,\n} from \"./interaction/interaction.js\"\nexport {createSignableVoucher, voucherToTxId} from \"./resolve/voucher.js\"\nexport {encodeMessageFromSignable} from \"./wallet-utils/encode-signable.js\"\nexport {template as cadence} from \"@onflow/util-template\"\nexport {template as cdc} from \"@onflow/util-template\"\n\n// Helpers\nexport {account} from \"./account/account.js\"\nexport {block} from \"./block/block.js\"\n\n// Builders\nexport {authorizations, authorization} from \"./build/build-authorizations.js\"\nexport {atBlockHeight} from \"./build/build-at-block-height.js\"\nexport {atBlockId} from \"./build/build-at-block-id.js\"\nexport {getAccount} from \"./build/build-get-account.js\"\nexport {getEvents} from \"./build/build-get-events.js\"\nexport {getEventsAtBlockHeightRange} from \"./build/build-get-events-at-block-height-range.js\"\nexport {getEventsAtBlockIds} from \"./build/build-get-events-at-block-ids\"\nexport {getBlock} from \"./build/build-get-block.js\"\nexport {getBlockHeader} from \"./build/build-get-block-header.js\"\nexport {getCollection} from \"./build/build-get-collection\"\nexport {getTransactionStatus} from \"./build/build-get-transaction-status.js\"\nexport {getTransaction} from \"./build/build-get-transaction.js\"\nexport {getNetworkParameters} from \"./build/build-get-network-parameters.js\"\nexport {limit} from \"./build/build-limit.js\"\nexport {args, arg} from \"./build/build-arguments.js\"\nexport {proposer} from \"./build/build-proposer.js\"\nexport {payer} from \"./build/build-payer.js\"\nexport {ping} from \"./build/build-ping.js\"\nexport {ref} from \"./build/build-ref.js\"\nexport {script} from \"./build/build-script.js\"\nexport {transaction} from \"./build/build-transaction.js\"\nexport {validator} from \"./build/build-validator.js\"\nexport {invariant} from \"./build/build-invariant.js\"\nexport {voucherIntercept} from \"./build/build-voucher-intercept.js\"\n\n// Resolvers\nexport {resolveCadence} from \"./resolve/resolve-cadence.js\"\nexport {resolveFinalNormalization} from \"./resolve/resolve-final-normalization\"\nexport {resolveProposerSequenceNumber} from \"./resolve/resolve-proposer-sequence-number\"\nexport {resolveArguments} from \"./resolve/resolve-arguments.js\"\nexport {resolveAccounts} from \"./resolve/resolve-accounts.js\"\nexport {response} from \"./response/response.js\"\nexport {resolveSignatures} from \"./resolve/resolve-signatures.js\"\nexport {resolveValidators} from \"./resolve/resolve-validators.js\"\nexport {resolveRefBlockId} from \"./resolve/resolve-ref-block-id.js\"\nexport {resolveVoucherIntercept} from \"./resolve/resolve-voucher-intercept.js\"\n\nexport {config} from \"@onflow/config\"\n\n// Deprecated\nexport const params = params =>\n  logger.log.deprecate({\n    pkg: \"FCL/SDK\",\n    message: `The params builder has been removed from the Flow JS-SDK/FCL.`,\n    transition:\n      \"https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0001-deprecate-params\",\n    level: logger.LEVELS.error,\n  })\nexport const param = params =>\n  logger.log.deprecate({\n    pkg: \"FCL/SDK\",\n    message: `The param builder has been removed from the Flow JS-SDK/FCL.`,\n    transition:\n      \"https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0001-deprecate-params\",\n    level: logger.LEVELS.error,\n  })\n\nimport * as TestUtils from \"./test-utils\"\nexport {TestUtils}\n\nexport {VERSION} from \"./VERSION\""],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAEO,IAAMA,OAAO,+BAA+B,SAAS;AACrD,IAAMC,MAAM,gCAAgC,QAAQ;AACpD,IAAMC,WAAW,2BAA2B,aAAa;AACzD,IAAMC,sBAAsB,gBAAgB,wBAAwB;AACpE,IAAMC,WAAW,2BAA2B,aAAa;AACzD,IAAMC,UAAU,4BAA4B,YAAY;AACxD,IAAMC,IAAI,kCAAkC,MAAM;AAClD,IAAMC,eAAe,uBAAuB,iBAAiB;AAC7D,IAAMC,SAAS,6BAA6B,WAAW;AACvD,IAAMC,gBAAgB,sBAAsB,kBAAkB;AAC9D,IAAMC,cAAc,wBAAwB,gBAAgB;AAC5D,IAAMC,sBAAsB,gBAAgB,wBAAwB;AAEpE,IAAMC,GAAG,SAAS,KAAK;AACvB,IAAMC,EAAE,UAAU,IAAI;AAEtB,IAAMC,OAAO,UAAU,SAAS;AAChC,IAAMC,KAAK,YAAY,OAAO;AAC9B,IAAMC,QAAQ,SAAS,UAAU;AAEjC,IAAMC,UAAU,SAAS,YAAY;AACrC,IAAMC,KAAK,cAAc,OAAO;AAChC,IAAMC,QAAQ,WAAW,UAAU;AAE1C,IAAMC,IAAI,sBAAAC,MAAA,CACEP,OAAQ,yRAclB;AAYF,IAAMQ,GAAG,sBAAAD,MAAA,CACGL,QAAS,gJAOnB;AAEF,IAAMO,EAAE,qBAAAF,MAAA,CACGrB,OAAQ,6CAAAqB,MAAA,CAELR,EAAG,srBAsCf;AAEF,IAAMW,IAAI,GAAG,IAAIC,GAAG,CAACC,MAAM,CAACC,IAAI,CAACC,IAAI,CAACC,KAAK,CAACN,EAAE,CAAC,CAAC,CAAC;AAE1C,IAAMO,WAAW,GAAG,SAAdA,WAAWA,CAAA;EAAA,OAASF,IAAI,CAACC,KAAK,CAACN,EAAE;AAAA;AAE9C,IAAMQ,KAAK,GAAG,sCAAsC,CAACC,KAAK,CAAC,EAAE,CAAC;AAC9D,IAAMC,QAAQ,GAAG,SAAXA,QAAQA,CAAA;EAAA,OAASF,KAAK,CAAC,CAAC,EAAEG,IAAI,CAACC,MAAM,EAAE,GAAGJ,KAAK,CAACK,MAAM,CAAC,CAAC;AAAA;AACvD,IAAMC,IAAI,GAAG,SAAPA,IAAIA,CAAA;EAAA,OAASC,KAAK,CAACC,IAAI,CAAC;IAACH,MAAM,EAAE;EAAE,CAAC,EAAEH,QAAQ,CAAC,CAACO,IAAI,CAAC,EAAE,CAAC;AAAA;AAC9D,IAAMC,UAAQ,GAAG,SAAXA,UAAQC,CAAGC,CAAC;EAAA,OAAI,OAAOA,CAAC,KAAK,QAAQ;AAAA;AAC3C,IAAMC,SAAO,GAAG,SAAVA,SAAOC,CAAGF,CAAC;EAAA,OAAIL,KAAK,CAACO,OAAO,CAACF,CAAC,CAAC;AAAA;AACrC,IAAMG,KAAK,GAAG,SAARA,KAAKA,CAAGH,CAAC;EAAA,OAAIA,CAAC,KAAK,IAAI,IAAI,OAAOA,CAAC,KAAK,QAAQ;AAAA;AACtD,IAAMI,MAAM,GAAG,SAATA,MAAMA,CAAGJ,CAAC;EAAA,OAAIA,CAAC,IAAI,IAAI;AAAA;AAC7B,IAAMK,MAAI,GAAG,SAAPA,MAAIC,CAAGN,CAAC;EAAA,OAAI,OAAOA,CAAC,KAAK,UAAU;AAAA;AAEzC,IAAMO,aAAa,GAAG,SAAhBA,aAAaA,CAAGC,EAAE,EAAI;EACjC,IAAI,CAACL,KAAK,CAACK,EAAE,CAAC,IAAIJ,MAAM,CAACI,EAAE,CAAC,IAAIV,UAAQ,CAACU,EAAE,CAAC,EAAE,OAAO,KAAK;EAAA,IAAAC,SAAA,GAAAC,0BAAA,CAC1C7B,IAAI;IAAA8B,KAAA;EAAA;IAApB,KAAAF,SAAA,CAAAG,CAAA,MAAAD,KAAA,GAAAF,SAAA,CAAAI,CAAA,IAAAC,IAAA,GAAsB;MAAA,IAAbC,GAAG,GAAAJ,KAAA,CAAAK,KAAA;MAAU,IAAI,CAACR,EAAE,CAACS,cAAc,CAACF,GAAG,CAAC,EAAE,OAAO,KAAK;IAAA;EAAA,SAAAG,GAAA;IAAAT,SAAA,CAAAU,CAAA,CAAAD,GAAA;EAAA;IAAAT,SAAA,CAAAW,CAAA;EAAA;EAC/D,OAAO,IAAI;AACb,CAAC;AAEM,IAAMC,EAAE,GAAG,SAALA,EAAEA,CAAGb,EAAE,EAAI;EACtBA,EAAE,CAACc,MAAM,GAAGpD,EAAE;EACd,OAAOsC,EAAE;AACX,CAAC;AAEM,IAAMe,GAAG,GAAG,SAANA,GAAGA,CAAIf,EAAE,EAAEgB,MAAM,EAAK;EACjChB,EAAE,CAACc,MAAM,GAAGrD,GAAG;EACfuC,EAAE,CAACgB,MAAM,GAAGA,MAAM;EAClB,OAAOhB,EAAE;AACX,CAAC;AAED,IAAMiB,MAAM,GAAG,SAATA,MAAMA,CAAGC,GAAG;EAAA,OAAI,UAAAlB,EAAE,EAAI;IAC1BA,EAAE,CAACmB,GAAG,GAAGD,GAAG;IACZ,OAAOL,EAAE,CAACb,EAAE,CAAC;EACf,CAAC;AAAA;AAED,IAAMoB,gBAAgB,GAAG,SAAnBA,gBAAgBA,CAAGC,IAAI,EAAI;EAC/B,IAAIA,IAAI,CAACC,KAAK,IAAI,IAAI,EAAE,OAAOD,IAAI;EAEnCE,WAAS,CAAC,CAACC,KAAK,CAACC,QAAQ,CAACJ,IAAI,CAACC,KAAK,CAAC,CAAC,EAAE,kCAAkC,CAAC;EAC3E,OAAAI,aAAA,CAAAA,aAAA,KACKL,IAAI;IACPC,KAAK,EAAEG,QAAQ,CAACJ,IAAI,CAACC,KAAK;EAAA;AAE9B,CAAC;AAEM,IAAMK,WAAW,GAAG,SAAdA,WAAWA,CAAIN,IAAI;EAAA,IAAEO,IAAI,GAAAC,SAAA,CAAA5C,MAAA,QAAA4C,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAG,EAAE;EAAA,OAAK,UAAA7B,EAAE,EAAI;IACpDuB,WAAS,CACP,OAAOF,IAAI,KAAK,UAAU,IAAI,OAAOA,IAAI,KAAK,QAAQ,EACtD,2EAA2E,CAC5E;IACDE,WAAS,CAACK,IAAI,CAACG,IAAI,IAAI,IAAI,EAAE,0BAA0B,CAAC;IAExD,IAAMpE,OAAO,GAAGc,IAAI,CAACC,KAAK,CAACT,IAAI,CAAC;IAChC,IAAM8D,IAAI,GAAGH,IAAI,CAACG,IAAI;IACtB,IAAMC,MAAM,GAAG9C,IAAI,EAAE;IAErB,IAAImC,IAAI,CAACY,aAAa,IAAIpC,MAAI,CAACwB,IAAI,CAACY,aAAa,CAAC,EAChDZ,IAAI,GAAG;MAACa,OAAO,EAAEb,IAAI,CAACY;KAAc;IACtC,IAAI,CAACZ,IAAI,CAACY,aAAa,IAAIpC,MAAI,CAACwB,IAAI,CAAC,EAAEA,IAAI,GAAG;MAACa,OAAO,EAAEb;KAAK;IAE7D,IAAMa,OAAO,GAAGb,IAAI,CAACa,OAAO;IAC5B,IAAIA,OAAO,EACTb,IAAI,CAACa,OAAO,GAAG,UAACb,IAAI;MAAA,SAAAc,IAAA,GAAAN,SAAA,CAAA5C,MAAA,EAAKmD,IAAI,OAAAjD,KAAA,CAAAgD,IAAA,OAAAA,IAAA,WAAAE,IAAA,MAAAA,IAAA,GAAAF,IAAA,EAAAE,IAAA;QAAJD,IAAI,CAAAC,IAAA,QAAAR,SAAA,CAAAQ,IAAA;MAAA;MAAA,OAC3B,CAACH,OAAO,EAAEd,gBAAgB,CAAC,CAACkB,MAAM;QAAA,IAAAC,KAAA,GAAAC,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAChC,SAAAC,QAAOnD,CAAC,EAAEoD,EAAE;UAAA,OAAAH,mBAAA,GAAAI,IAAA,UAAAC,SAAAC,QAAA;YAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;cAAA;gBAAAF,QAAA,CAAAG,EAAA,GAAKN,EAAE;gBAAAG,QAAA,CAAAI,EAAA;gBAAAJ,QAAA,CAAAE,IAAA;gBAAA,OAAOzD,CAAC;cAAA;gBAAAuD,QAAA,CAAAK,EAAA,GAAAL,QAAA,CAAAM,IAAA;gBAAAN,QAAA,CAAAO,EAAA,IAAAP,QAAA,CAAAK,EAAA,EAAAlF,MAAA,CAAKkE,IAAI;gBAAA,OAAAW,QAAA,CAAAQ,MAAA,WAAAR,QAAA,CAAAG,EAAA,CAAAM,KAAA,CAAAC,IAAA,CAAAV,QAAA,CAAAG,EAAA,EAAAH,QAAA,CAAAI,EAAA,EAAAJ,QAAA,CAAAO,EAAA;cAAA;cAAA;gBAAA,OAAAP,QAAA,CAAAW,IAAA;YAAA;UAAA,GAAAf,OAAA;QAAA,CAAC;QAAA,iBAAAgB,EAAA,EAAAC,GAAA;UAAA,OAAArB,KAAA,CAAAiB,KAAA,OAAA3B,SAAA;QAAA;MAAA,KACrCR,IAAI,CACL;IAAA;IACLA,IAAI,GAAGD,gBAAgB,CAACC,IAAI,CAAC;IAE7BrB,EAAE,CAAC6D,QAAQ,CAAC7B,MAAM,CAAC,GAAAN,aAAA,CAAAA,aAAA,CAAAA,aAAA,KACd/D,OAAO;MACVqE,MAAM,EAANA;IAAM,GACHX,IAAI;MACPU,IAAI,EAAAL,aAAA,CAAAA,aAAA,CAAAA,aAAA,KACC/D,OAAO,CAACoE,IAAI,GACX,OAAOV,IAAI,CAACU,IAAI,KAAK,QAAQ,GAAGV,IAAI,CAACU,IAAI,GAAG,EAAE,OAAA+B,eAAA,KACjD/B,IAAI,EAAG;IACV,EACD;IAED,IAAIA,IAAI,KAAKjE,UAAU,EAAE;MACvBkC,EAAE,CAAC+D,cAAc,CAACC,IAAI,CAAChC,MAAM,CAAC;IAChC,CAAC,MAAM,IAAID,IAAI,KAAKhE,KAAK,EAAE;MACzBiC,EAAE,CAACiE,KAAK,CAACD,IAAI,CAAChC,MAAM,CAAC;IACvB,CAAC,MAAM;MACLhC,EAAE,CAAC+B,IAAI,CAAC,GAAGC,MAAM;IACnB;IAEA,OAAOhC,EAAE;GACV;AAAA;AAEM,IAAMkE,YAAY,GAAG,SAAfA,YAAYA,CAAGC,GAAG;EAAA,OAAI,UAAAnE,EAAE,EAAI;IACvC,IAAIgC,MAAM,GAAG9C,IAAI,EAAE;IACnBc,EAAE,CAACoE,OAAO,CAACvC,SAAS,CAACmC,IAAI,CAAChC,MAAM,CAAC;IAEjChC,EAAE,CAAC6B,SAAS,CAACG,MAAM,CAAC,GAAGvD,IAAI,CAACC,KAAK,CAACP,GAAG,CAAC;IACtC6B,EAAE,CAAC6B,SAAS,CAACG,MAAM,CAAC,CAACA,MAAM,GAAGA,MAAM;IACpChC,EAAE,CAAC6B,SAAS,CAACG,MAAM,CAAC,CAACxB,KAAK,GAAG2D,GAAG,CAAC3D,KAAK;IACtCR,EAAE,CAAC6B,SAAS,CAACG,MAAM,CAAC,CAACqC,UAAU,GAAGF,GAAG,CAACE,UAAU;IAChDrE,EAAE,CAAC6B,SAAS,CAACG,MAAM,CAAC,CAACsC,KAAK,GAAGH,GAAG,CAACG,KAAK;IACtCtE,EAAE,CAAC6B,SAAS,CAACG,MAAM,CAAC,CAACE,OAAO,GAAGiC,GAAG,CAACjC,OAAO;IAC1ClC,EAAE,CAAC6B,SAAS,CAACG,MAAM,CAAC,CAACuC,eAAe,GAAG1E,MAAI,CAACsE,GAAG,CAACI,eAAe,CAAC,GAC5DJ,GAAG,CAACI,eAAe,CAACC,IAAI,CAACL,GAAG,CAAC,GAC7BA,GAAG,CAACI,eAAe;IAEvB,OAAO1D,EAAE,CAACb,EAAE,CAAC;EACf,CAAC;AAAA;AAEM,IAAMyE,WAAW,yBAAyBxD,MAAM,CAACpE,OAAO,CAAC;AACzD,IAAM6H,UAAU,0BAA0BzD,MAAM,CAACnE,MAAM,CAAC;AACxD,IAAM6H,eAAe,qBAAqB1D,MAAM,CAAClE,WAAW,CAAC;AAC7D,IAAM6H,wBAAwB,YAAY3D,MAAM,CAACjE,sBAAsB,CAAC;AACxE,IAAM6H,kBAAkB,kBAAkB5D,MAAM,CAAC7D,eAAe,CAAC;AACjE,IAAM0H,cAAc,sBAAsB7D,MAAM,CAAChE,WAAW,CAAC;AAC7D,IAAM8H,aAAa,uBAAuB9D,MAAM,CAAC/D,UAAU,CAAC;AAC5D,IAAM8H,QAAQ,4BAA4B/D,MAAM,CAAC9D,IAAI,CAAC;AACtD,IAAM8H,YAAY,wBAAwBhE,MAAM,CAAC5D,SAAS,CAAC;AAC3D,IAAM6H,kBAAkB,kBAAkBjE,MAAM,CAAC3D,gBAAgB,CAAC;AAClE,IAAM6H,iBAAiB,mBAAmBlE,MAAM,CAAC1D,cAAc,CAAC;AAChE,IAAM6H,wBAAwB,YAAYnE,MAAM,CAACzD,sBAAsB,CAAC;AAE/E,IAAM6H,EAAE,GAAG,SAALA,EAAEA,CAAGnE,GAAG;EAAA,OAAI,UAAAlB,EAAE;IAAA,OAAIA,EAAE,CAACmB,GAAG,KAAKD,GAAG;EAAA;AAAA;IAEzBoE,SAAS,yBAAyBD,EAAE,CAACxI,OAAO;IAC5C0I,QAAQ,0BAA0BF,EAAE,CAACvI,MAAM;IAC3C0I,aAAa,qBAAqBH,EAAE,CAACtI,WAAW;IAChD0I,sBAAsB,YAAYJ,EAAE,CAACrI,sBAAsB;IAC3D0I,gBAAgB,kBAAkBL,EAAE,CAACjI,eAAe;IACpDuI,YAAY,sBAAsBN,EAAE,CAACpI,WAAW;IAChD2I,WAAW,uBAAuBP,EAAE,CAACnI,UAAU;IAC/C2I,MAAM,4BAA4BR,EAAE,CAAClI,IAAI;IACzC2I,UAAU,wBAAwBT,EAAE,CAAChI,SAAS;IAC9C0I,gBAAgB,kBAAkBV,EAAE,CAAC/H,gBAAgB;IACrD0I,eAAe,mBAAmBX,EAAE,CAAC9H,cAAc;IACnD0I,sBAAsB,YAAYZ,EAAE,CAAC7H,sBAAsB;AAEjE,IAAM0I,IAAI,UAAU,SAAdA,IAAI,OAAAA,CAAUlG,EAAE;EAAA,OAAIA,EAAE,CAACc,MAAM,KAAKpD,EAAA;AAAA;AACxC,IAAMyI,KAAK,SAAS,SAAdA,KAAK,MAAAA,CAASnG,EAAE;EAAA,OAAIA,EAAE,CAACc,MAAM,KAAKrD,GAAA;AAAA;AACxC,IAAM2I,GAAG,WAAW,SAAdA,GAAG,QAAAA,CAAWpG,EAAE;EAAA,OAAIA,EAAE,CAACgB,MAAA;AAAA;AAE7B,IAAMqF,SAAS,UAAU,SAAnBA,SAAS,OAAAA,CAAUC,OAAO;EAAA,OAAIA,OAAO,CAACC,IAAI,KAAK5I,OAAO;AAAA;AAC5D,IAAM6I,OAAO,YAAY,SAAnBA,OAAO,SAAAA,CAAYC,KAAK;EAAA,OAAIA,KAAK,CAACF,IAAI,KAAK3I,KAAK;AAAA;AACtD,IAAM8I,UAAU,SAAS,SAAnBA,UAAU,MAAAA,CAASC,QAAQ;EAAA,OAAIA,QAAQ,CAACJ,IAAI,KAAK1I,QAAQ;AAAA;AAEtE,IAAM+I,QAAQ,GAAG,SAAXA,QAAQA,CAAG5G,EAAE,EAAI;EACrB,SAAA6G,EAAA,MAAAC,YAAA,GAAgBvI,MAAM,CAACC,IAAI,CAACwB,EAAE,CAAC,EAAA6G,EAAA,GAAAC,YAAA,CAAA7H,MAAA,EAAA4H,EAAA,IAAE;IAA5B,IAAItG,GAAG,GAAAuG,YAAA,CAAAD,EAAA;IACV,IAAI,CAACxI,IAAI,CAAC0I,GAAG,CAACxG,GAAG,CAAC,EAChB,MAAM,IAAIyG,KAAK,MAAA9I,MAAA,CAAKqC,GAAI,sDAAiD,CAAC;EAC9E;EACA,OAAOP,EAAE;AACX,CAAC;AAED,IAAMiH,OAAO;EAAA,IAAAC,KAAA,GAAA1E,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAyE,SAAOnH,EAAE;IAAA,IAAAoH,GAAA;MAAAC,IAAA;MAAAC,EAAA;MAAAlF,IAAA;MAAAmF,GAAA;MAAAC,MAAA,GAAA3F,SAAA;IAAA,OAAAY,mBAAA,GAAAI,IAAA,UAAA4E,UAAAC,SAAA;MAAA,kBAAAA,SAAA,CAAA1E,IAAA,GAAA0E,SAAA,CAAAzE,IAAA;QAAA;UAAEmE,GAAG,GAAAI,MAAA,CAAAvI,MAAA,QAAAuI,MAAA,QAAA1F,SAAA,GAAA0F,MAAA,MAAG,EAAE;UAAAE,SAAA,CAAA1E,IAAA;UAAA0E,SAAA,CAAAxE,EAAA,GAE1B0D,QAAQ;UAAAc,SAAA,CAAAzE,IAAA;UAAA,OAAOjD,EAAE;QAAA;UAAA0H,SAAA,CAAAvE,EAAA,GAAAuE,SAAA,CAAArE,IAAA;UAAtBrD,EAAE,OAAA0H,SAAA,CAAAxE,EAAA,EAAAwE,SAAA,CAAAvE,EAAA;UAAA,KACEgD,KAAK,CAACnG,EAAE,CAAC;YAAA0H,SAAA,CAAAzE,IAAA;YAAA;UAAA;UAAA,MAAQ,IAAI+D,KAAK,uBAAA9I,MAAA,CAAuB8B,EAAE,CAACgB,MAAO,CAAC,CAAC;QAAA;UAAA,IAC5DoG,GAAG,CAACnI,MAAM;YAAAyI,SAAA,CAAAzE,IAAA;YAAA;UAAA;UAAA,OAAAyE,SAAA,CAAAnE,MAAA,WAASvD,EAAE;QAAA;UAAAqH,IAAA,GAAAM,QAAA,CACJP,GAAG,GAAlBE,EAAE,GAAAD,IAAA,KAAKjF,IAAI,GAAAiF,IAAA,CAAAO,KAAA;UAAAF,SAAA,CAAAzE,IAAA;UAAA,OACAqE,EAAE;QAAA;UAAdC,GAAG,GAAAG,SAAA,CAAArE,IAAA;UAAA,KACLxD,MAAI,CAAC0H,GAAG,CAAC;YAAAG,SAAA,CAAAzE,IAAA;YAAA;UAAA;UAAA,OAAAyE,SAAA,CAAAnE,MAAA,WAAS0D,OAAO,CAACM,GAAG,CAACvH,EAAE,CAAC,EAAEoC,IAAI,CAAC;QAAA;UAAA,MACxCxC,MAAM,CAAC2H,GAAG,CAAC,IAAI,CAACA,GAAG;YAAAG,SAAA,CAAAzE,IAAA;YAAA;UAAA;UAAA,OAAAyE,SAAA,CAAAnE,MAAA,WAAS0D,OAAO,CAACjH,EAAE,EAAEoC,IAAI,CAAC;QAAA;UAAA,KAC7CrC,aAAa,CAACwH,GAAG,CAAC;YAAAG,SAAA,CAAAzE,IAAA;YAAA;UAAA;UAAA,OAAAyE,SAAA,CAAAnE,MAAA,WAAS0D,OAAO,CAACM,GAAG,EAAEnF,IAAI,CAAC;QAAA;UAAA,MAC3C,IAAI4E,KAAK,CAAC,iCAAiC,CAAC;QAAA;UAAAU,SAAA,CAAA1E,IAAA;UAAA0E,SAAA,CAAAtE,EAAA,GAAAsE,SAAA;UAAA,MAAAA,SAAA,CAAAtE,EAAA;QAAA;QAAA;UAAA,OAAAsE,SAAA,CAAAhE,IAAA;MAAA;IAAA,GAAAyD,QAAA;EAAA,CAIrD;EAAA,gBAdKF,OAAOA,CAAAY,GAAA;IAAA,OAAAX,KAAA,CAAA1D,KAAA,OAAA3B,SAAA;EAAA;AAAA,GAcZ;AAEY,IAAAiG,IAAI,GAAG,SAAPA,IAAIA,CAAA,EAAgB;EAAA,SAAAC,KAAA,GAAAlG,SAAA,CAAA5C,MAAA,EAAT+I,IAAI,OAAA7I,KAAA,CAAA4I,KAAA,GAAAE,KAAA,MAAAA,KAAA,GAAAF,KAAA,EAAAE,KAAA;IAAJD,IAAI,CAAAC,KAAA,IAAApG,SAAA,CAAAoG,KAAA;EAAA;EAC1B,IAAOC,IAAI,GAAUF,IAAI;IAAZG,IAAI,GAAIH,IAAI;EACzB,IAAIvI,SAAO,CAACyI,IAAI,CAAC,IAAIC,IAAI,IAAI,IAAI,EAAE,OAAO,UAAA3I,CAAC;IAAA,OAAIsI,IAAI,CAACtI,CAAC,EAAE0I,IAAI,CAAC;EAAA;EAC5D,OAAOjB,OAAO,CAACiB,IAAI,EAAEC,IAAI,CAAC;AAC5B;AAEA,IAAMC,UAAQ,GAAG,SAAXA,UAAQC,CAAGC,CAAC;EAAA,OAAIA,CAAC;AAAA;AAEhB,IAAMC,GAAG,GAAG,SAANA,GAAGA,CAAIvI,EAAE,EAAEO,GAAG,EAAEiI,QAAQ,EAAK;EACxC,OAAOxI,EAAE,CAACyI,OAAO,CAAClI,GAAG,CAAC,IAAI,IAAI,GAAGiI,QAAQ,GAAGxI,EAAE,CAACyI,OAAO,CAAClI,GAAG,CAAC;AAC7D;AAEO,IAAMmI,GAAG,GAAG,SAANA,GAAGA,CAAInI,GAAG,EAAEC,KAAK;EAAA,OAAK,UAAAR,EAAE,EAAI;IACvCA,EAAE,CAACyI,OAAO,CAAClI,GAAG,CAAC,GAAGC,KAAK;IACvB,OAAOK,EAAE,CAACb,EAAE,CAAC;EACf;AAAA;AAEa,IAAA2I,MAAM,GAAG,SAATA,MAAMA,CAAIpI,GAAG;EAAA,IAAEqC,EAAE,GAAAf,SAAA,CAAA5C,MAAA,QAAA4C,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAGuG,UAAQ;EAAA,OAAK,UAAApI,EAAE,EAAI;IAClDA,EAAE,CAACyI,OAAO,CAAClI,GAAG,CAAC,GAAGqC,EAAE,CAAC5C,EAAE,CAACyI,OAAO,CAAClI,GAAG,CAAC,EAAEP,EAAE,CAAC;IACzC,OAAOa,EAAE,CAACb,EAAE,CAAC;GACd;AAAA;IAEY4I,OAAO,GAAG,SAAVA,OAAOA,CAAGrI,GAAG;EAAA,OAAI,UAAAP,EAAE,EAAI;IAClC,OAAOA,EAAE,CAACyI,OAAO,CAAClI,GAAG,CAAC;IACtB,OAAOM,EAAE,CAACb,EAAE,CAAC;EACf;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACzSO,SAAS6I,KAAKA,CAAA,EAAW;EAAA,IAAVzB,GAAG,GAAAvF,SAAA,CAAA5C,MAAA,QAAA4C,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAG,EAAE;EAC5B,OAAOiG,IAAI,CAACnJ,WAAW,EAAE,EAAEyI,GAAG,CAAC;AACjC;ACJA,IAAM0B,gBAAgB,kUAapB;AAEK,IAAMC,QAAQ,GAAG,SAAXA,QAAQA,CAAA;EAAA,OAAStK,IAAI,CAACC,KAAK,CAACoK,gBAAgB;AAAA;;ACbzD;AACA;AACA;AACA;AACA;AACO,SAASE,QAAQA,CAAA,EAAkB;EAAA,IAAjBC,QAAQ,GAAApH,SAAA,CAAA5C,MAAA,QAAA4C,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAG,IAAI;EACtC,OAAOiG,IAAI,CAAC,CACV7C,YAAY,EACZ,UAAAjF,EAAE,EAAI;IACJA,EAAE,CAACkJ,KAAK,CAACD,QAAQ,GAAGA,QAAQ;IAC5B,OAAOpI,EAAE,CAACb,EAAE,CAAC;EACf,CAAC,CACF,CAAC;AACJ;;ACZA;AACA;AACA;AACA;AACA;AACO,SAASmJ,UAAUA,CAACC,IAAI,EAAE;EAC/B,OAAOtB,IAAI,CAAC,CACVhD,cAAc,EACd,UAAA9E,EAAE,EAAI;IACJA,EAAE,CAACsG,OAAO,CAAC8C,IAAI,GAAGC,UAAU,CAACD,IAAI,CAAC;IAClC,OAAOvI,EAAE,CAACb,EAAE,CAAC;EACf,CAAC,CACF,CAAC;AACJ;ACdA,IAAMsJ,4BAA4B,GAAG,SAA/BA,4BAA4BA,CAAA,EAAS;EACzCC,GAAG,CAACC,SAAS,CAAC;IACZC,GAAG,EAAE,gBAAgB;IACrBC,OAAO,EACL,qEAAqE;IACvEC,UAAU,EACR;EACJ,CAAC,CAAC;AACJ,CAAC;AAUD,IAAMC,cAAc;EAAA,IAAAC,KAAA,GAAArH,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAoH,SAAMC,CAAC;IAAA,OAAAtH,mBAAA,GAAAI,IAAA,UAAAmH,UAAAC,SAAA;MAAA,kBAAAA,SAAA,CAAAjH,IAAA,GAAAiH,SAAA,CAAAhH,IAAA;QAAA;UAAA,OAAAgH,SAAA,CAAA1G,MAAA,WAAIwG,CAAC;QAAA;QAAA;UAAA,OAAAE,SAAA,CAAAvG,IAAA;MAAA;IAAA,GAAAoG,QAAA;EAAA;EAAA,gBAA7BF,cAAcA,CAAAM,GAAA;IAAA,OAAAL,KAAA,CAAArG,KAAA,OAAA3B,SAAA;EAAA;AAAA,GAAe;AAEnC,IAAMsI,UAAU;EAAA,IAAAC,KAAA,GAAA5H,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAA2H,SAAA;IAAA,OAAA5H,mBAAA,GAAAI,IAAA,UAAAyH,UAAAC,SAAA;MAAA,kBAAAA,SAAA,CAAAvH,IAAA,GAAAuH,SAAA,CAAAtH,IAAA;QAAA;UAAA,OAAAsH,SAAA,CAAAhH,MAAA,WAAY,IAAI;QAAA;QAAA;UAAA,OAAAgH,SAAA,CAAA7G,IAAA;MAAA;IAAA,GAAA2G,QAAA;EAAA;EAAA,gBAA7BF,UAAUA,CAAA;IAAA,OAAAC,KAAA,CAAA5G,KAAA,OAAA3B,SAAA;EAAA;AAAA,GAAmB;AAEnC,IAAM2I,UAAU;EAAA,IAAAC,KAAA,GAAAjI,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAgI,SAAMC,IAAI;IAAA,OAAAlI,mBAAA,GAAAI,IAAA,UAAA+H,UAAAC,SAAA;MAAA,kBAAAA,SAAA,CAAA7H,IAAA,GAAA6H,SAAA,CAAA5H,IAAA;QAAA;UAAA,OAAA4H,SAAA,CAAAtH,MAAA,WACpBoH,IAAI,CAACG,UAAU;QAAA;QAAA;UAAA,OAAAD,SAAA,CAAAnH,IAAA;MAAA;IAAA,GAAAgH,QAAA;EAAA,CACvB;EAAA,gBAFKF,UAAUA,CAAAO,GAAA;IAAA,OAAAN,KAAA,CAAAjH,KAAA,OAAA3B,SAAA;EAAA;AAAA,GAEf;AAED,IAAMmJ,UAAU;EAAA,IAAAC,KAAA,GAAAzI,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAwI,SAAMC,IAAI;IAAA,OAAA1I,mBAAA,GAAAI,IAAA,UAAAuI,UAAAC,SAAA;MAAA,kBAAAA,SAAA,CAAArI,IAAA,GAAAqI,SAAA,CAAApI,IAAA;QAAA;UAAA,OAAAoI,SAAA,CAAA9H,MAAA,WACpB;YACL+H,MAAM,EAAEH,IAAI,CAACG,MAAM;YACnBC,UAAU,EAAEJ,IAAI,CAACI;WAClB;QAAA;QAAA;UAAA,OAAAF,SAAA,CAAA3H,IAAA;MAAA;IAAA,GAAAwH,QAAA;EAAA,CACF;EAAA,gBALKF,UAAUA,CAAAQ,GAAA;IAAA,OAAAP,KAAA,CAAAzH,KAAA,OAAA3B,SAAA;EAAA;AAAA,GAKf;AAED,IAAM4J,gBAAgB;EAAA,IAAAC,KAAA,GAAAlJ,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAiJ,SAAMC,GAAG;IAAA,OAAAnJ,mBAAA,GAAAI,IAAA,UAAAgJ,UAAAC,SAAA;MAAA,kBAAAA,SAAA,CAAA9I,IAAA,GAAA8I,SAAA,CAAA7I,IAAA;QAAA;UAAA,OAAA6I,SAAA,CAAAvI,MAAA,WACzB;YACL4H,IAAI,EAAES,GAAG,CAACT,IAAI;YACdY,OAAO,EAAEH,GAAG,CAACG,OAAO;YACpBC,UAAU,EAAEJ,GAAG,CAACI;WACjB;QAAA;QAAA;UAAA,OAAAF,SAAA,CAAApI,IAAA;MAAA;IAAA,GAAAiI,QAAA;EAAA,CACF;EAAA,gBANKF,gBAAgBA,CAAAQ,GAAA;IAAA,OAAAP,KAAA,CAAAlI,KAAA,OAAA3B,SAAA;EAAA;AAAA,GAMrB;AAED,IAAMqK,cAAc;EAAA,IAAAC,KAAA,GAAA3J,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAA0J,SAAOC,QAAQ,EAAEC,QAAQ,EAAEC,KAAK;IAAA,OAAA9J,mBAAA,GAAAI,IAAA,UAAA2J,UAAAC,SAAA;MAAA,kBAAAA,SAAA,CAAAzJ,IAAA,GAAAyJ,SAAA,CAAAxJ,IAAA;QAAA;UAAA,KACrDoJ,QAAQ;YAAAI,SAAA,CAAAxJ,IAAA;YAAA;UAAA;UAAAwJ,SAAA,CAAAxJ,IAAA;UAAA,OAASyJ,aAAa,CAACL,QAAQ,EAAEC,QAAQ,EAAEC,KAAK,CAAC;QAAA;UAAAE,SAAA,CAAAvJ,EAAA,GAAAuJ,SAAA,CAAApJ,IAAA;UAAAoJ,SAAA,CAAAxJ,IAAA;UAAA;QAAA;UAAAwJ,SAAA,CAAAvJ,EAAA,GAAG,IAAI;QAAA;UAAA,OAAAuJ,SAAA,CAAAlJ,MAAA,WAAAkJ,SAAA,CAAAvJ,EAAA;QAAA;QAAA;UAAA,OAAAuJ,SAAA,CAAA/I,IAAA;MAAA;IAAA,GAAA0I,QAAA;EAAA;EAAA,gBAD5DF,cAAcA,CAAAS,GAAA,EAAAC,GAAA,EAAAC,IAAA;IAAA,OAAAV,KAAA,CAAA3I,KAAA,OAAA3B,SAAA;EAAA;AAAA,GAC8C;AAElE,IAAMiL,eAAe;EAAA,IAAAC,MAAA,GAAAvK,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAsK,SAAM1E,CAAC;IAAA,OAAA7F,mBAAA,GAAAI,IAAA,UAAAoK,UAAAC,SAAA;MAAA,kBAAAA,SAAA,CAAAlK,IAAA,GAAAkK,SAAA,CAAAjK,IAAA;QAAA;UAAA,OAAAiK,SAAA,CAAA3J,MAAA,WAAK;YAACwI,OAAO,EAAEzD,CAAC,CAACyD,OAAO;YAAEpB,IAAI,EAAErC,CAAC,CAACqC;UAAI,CAAC;QAAA;QAAA;UAAA,OAAAuC,SAAA,CAAAxJ,IAAA;MAAA;IAAA,GAAAsJ,QAAA;EAAA,CAAC;EAAA,gBAAjEF,eAAeA,CAAAK,IAAA;IAAA,OAAAJ,MAAA,CAAAvJ,KAAA,OAAA3B,SAAA;EAAA;AAAA,GAAkD;AAEvE,IAAMuL,WAAW;EAAA,IAAAC,MAAA,GAAA7K,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAA4K,UAAOC,KAAK,EAAEjB,QAAQ,EAAEC,KAAK;IAAA,OAAA9J,mBAAA,GAAAI,IAAA,UAAA2K,WAAAC,UAAA;MAAA,kBAAAA,UAAA,CAAAzK,IAAA,GAAAyK,UAAA,CAAAxK,IAAA;QAAA;UAAAwK,UAAA,CAAAxK,IAAA;UAAA,OACzCyK,OAAO,CAACC,GAAG,CACfJ,KAAK,CAACK,GAAG,CACP,UAAAtF,CAAC;YAAA,OACC,IAAIoF,OAAO;cAAA,IAAAG,MAAA,GAAArL,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAAC,SAAAoL,UAAMC,GAAG;gBAAA,OAAAtL,mBAAA,GAAAI,IAAA,UAAAmL,WAAAC,UAAA;kBAAA,kBAAAA,UAAA,CAAAjL,IAAA,GAAAiL,UAAA,CAAAhL,IAAA;oBAAA;sBAAAgL,UAAA,CAAA/K,EAAA,GACnB6K,GAAG;sBAAAE,UAAA,CAAAhL,IAAA;sBAAA,OAAOyJ,aAAa,CAACpE,CAAC,EAAEgE,QAAQ,KAAApO,MAAA,CAAAgQ,kBAAA,CAAM3B,KAAK,IAAEjE,CAAC,CAACqC,IAAI,EAAC,CAAC;oBAAA;sBAAAsD,UAAA,CAAA9K,EAAA,GAAA8K,UAAA,CAAA5K,IAAA;sBAAA,OAAA4K,UAAA,CAAA1K,MAAA,eAAA0K,UAAA,CAAA/K,EAAA,EAAA+K,UAAA,CAAA9K,EAAA;oBAAA;oBAAA;sBAAA,OAAA8K,UAAA,CAAAvK,IAAA;kBAAA;gBAAA,GAAAoK,SAAA;cAAA,CAAC;cAAA,iBAAAK,IAAA;gBAAA,OAAAN,MAAA,CAAArK,KAAA,OAAA3B,SAAA;cAAA;YAAA,IAC1D;UAAA,EACJ,CACF;QAAA;UAAA,OAAA4L,UAAA,CAAAlK,MAAA,WAAAkK,UAAA,CAAApK,IAAA;QAAA;QAAA;UAAA,OAAAoK,UAAA,CAAA/J,IAAA;MAAA;IAAA,GAAA4J,SAAA;EAAA;EAAA,gBARGF,WAAWA,CAAAgB,IAAA,EAAAC,IAAA,EAAAC,IAAA;IAAA,OAAAjB,MAAA,CAAA7J,KAAA,OAAA3B,SAAA;EAAA;AAAA,GAQd;AAEH,IAAM0M,gBAAgB;EAAA,IAAAC,MAAA,GAAAhM,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAA+L,UAAOC,UAAU,EAAEpC,QAAQ,EAAEC,KAAK;IAAA,OAAA9J,mBAAA,GAAAI,IAAA,UAAA8L,WAAAC,UAAA;MAAA,kBAAAA,UAAA,CAAA5L,IAAA,GAAA4L,UAAA,CAAA3L,IAAA;QAAA;UAAA2L,UAAA,CAAA3L,IAAA;UAAA,OACnDyL,UAAU,CAACpM,MAAM;YAAA,IAAAuM,MAAA,GAAArM,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAAC,SAAAoM,UAAOC,GAAG,EAAEzG,CAAC;cAAA,OAAA7F,mBAAA,GAAAI,IAAA,UAAAmM,WAAAC,UAAA;gBAAA,kBAAAA,UAAA,CAAAjM,IAAA,GAAAiM,UAAA,CAAAhM,IAAA;kBAAA;oBAAAgM,UAAA,CAAAhM,IAAA;oBAAA,OACvB8L,GAAG;kBAAA;oBAAfA,GAAG,GAAAE,UAAA,CAAA5L,IAAA;oBAAA4L,UAAA,CAAAhM,IAAA;oBAAA,OACOyJ,aAAa,CAACpE,CAAC,CAAC/H,GAAG,EAAE+L,QAAQ,KAAApO,MAAA,CAAAgQ,kBAAA,CAAM3B,KAAK,IAAEjE,CAAC,CAAC/H,GAAG,EAAC,CAAC;kBAAA;oBAAA0O,UAAA,CAAA/L,EAAA,GAAA+L,UAAA,CAAA5L,IAAA;oBAAA4L,UAAA,CAAAhM,IAAA;oBAAA,OACnDyJ,aAAa,CAACpE,CAAC,CAAC9H,KAAK,EAAE8L,QAAQ,KAAApO,MAAA,CAAAgQ,kBAAA,CAAM3B,KAAK,IAAEjE,CAAC,CAAC/H,GAAG,EAAC,CAAC;kBAAA;oBAD3DwO,GAAG,CAAAE,UAAA,CAAA/L,EAAA,IAAA+L,UAAA,CAAA5L,IAAA;oBAAA,OAAA4L,UAAA,CAAA1L,MAAA,WAEIwL,GAAG;kBAAA;kBAAA;oBAAA,OAAAE,UAAA,CAAAvL,IAAA;gBAAA;cAAA,GAAAoL,SAAA;YAAA,CACX;YAAA,iBAAAI,IAAA,EAAAC,IAAA;cAAA,OAAAN,MAAA,CAAArL,KAAA,OAAA3B,SAAA;YAAA;UAAA,KAAE6L,OAAO,CAACxL,OAAO,CAAC,EAAE,CAAC,CAAC;QAAA;UAAA,OAAA0M,UAAA,CAAArL,MAAA,WAAAqL,UAAA,CAAAvL,IAAA;QAAA;QAAA;UAAA,OAAAuL,UAAA,CAAAlL,IAAA;MAAA;IAAA,GAAA+K,SAAA;EAAA;EAAA,gBANnBF,gBAAgBA,CAAAa,IAAA,EAAAC,IAAA,EAAAC,IAAA;IAAA,OAAAd,MAAA,CAAAhL,KAAA,OAAA3B,SAAA;EAAA;AAAA,GAMG;AAEzB,IAAM0N,eAAe;EAAA,IAAAC,MAAA,GAAAhN,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAA+M,UAAOC,SAAS,EAAEpD,QAAQ,EAAEC,KAAK;IAAA,IAAAoD,OAAA,EAAAC,OAAA;IAAA,OAAAnN,mBAAA,GAAAI,IAAA,UAAAgN,WAAAC,UAAA;MAAA,kBAAAA,UAAA,CAAA9M,IAAA,GAAA8M,UAAA,CAAA7M,IAAA;QAAA;UAAA6M,UAAA,CAAA7M,IAAA;UAAA,OACjCyM,SAAS,CAACK,MAAM,CAACzN,MAAM;YAAA,IAAA0N,MAAA,GAAAxN,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAAC,SAAAuN,UAAOlB,GAAG,EAAEzG,CAAC;cAAA,OAAA7F,mBAAA,GAAAI,IAAA,UAAAqN,WAAAC,UAAA;gBAAA,kBAAAA,UAAA,CAAAnN,IAAA,GAAAmN,UAAA,CAAAlN,IAAA;kBAAA;oBAAAkN,UAAA,CAAAlN,IAAA;oBAAA,OAC7C8L,GAAG;kBAAA;oBAAfA,GAAG,GAAAoB,UAAA,CAAA9M,IAAA;oBAAA8M,UAAA,CAAAlN,IAAA;oBAAA,OACiByJ,aAAa,CAACpE,CAAC,CAAC9H,KAAK,EAAE8L,QAAQ,KAAApO,MAAA,CAAAgQ,kBAAA,CAAM3B,KAAK,IAAEjE,CAAC,CAAC8H,IAAI,EAAC,CAAC;kBAAA;oBAAxErB,GAAG,CAACzG,CAAC,CAAC8H,IAAI,CAAC,GAAAD,UAAA,CAAA9M,IAAA;oBAAA,OAAA8M,UAAA,CAAA5M,MAAA,WACJwL,GAAG;kBAAA;kBAAA;oBAAA,OAAAoB,UAAA,CAAAzM,IAAA;gBAAA;cAAA,GAAAuM,SAAA;YAAA,CACX;YAAA,iBAAAI,IAAA,EAAAC,IAAA;cAAA,OAAAN,MAAA,CAAAxM,KAAA,OAAA3B,SAAA;YAAA;UAAA,KAAE6L,OAAO,CAACxL,OAAO,CAAC,EAAE,CAAC,CAAC;QAAA;UAJjByN,OAAO,GAAAG,UAAA,CAAAzM,IAAA;UAKPuM,OAAO,GAAGF,SAAS,CAACa,EAAE,IAAIC,aAAa,CAAClE,QAAQ,EAAEoD,SAAS,CAACa,EAAE,CAAC;UAAA,KAC9DX,OAAO;YAAAE,UAAA,CAAA7M,IAAA;YAAA;UAAA;UAAA6M,UAAA,CAAA7M,IAAA;UAAA,OAAS2M,OAAO,CAACD,OAAO,CAAC;QAAA;UAAAG,UAAA,CAAA5M,EAAA,GAAA4M,UAAA,CAAAzM,IAAA;UAAAyM,UAAA,CAAA7M,IAAA;UAAA;QAAA;UAAA6M,UAAA,CAAA5M,EAAA,GAAGyM,OAAO;QAAA;UAAA,OAAAG,UAAA,CAAAvM,MAAA,WAAAuM,UAAA,CAAA5M,EAAA;QAAA;QAAA;UAAA,OAAA4M,UAAA,CAAApM,IAAA;MAAA;IAAA,GAAA+L,SAAA;EAAA,CAClD;EAAA,gBARKF,eAAeA,CAAAkB,IAAA,EAAAC,IAAA,EAAAC,IAAA;IAAA,OAAAnB,MAAA,CAAAhM,KAAA,OAAA3B,SAAA;EAAA;AAAA,GAQpB;AAED,IAAM+O,eAAe,GAAG;EACtBC,IAAI,EAAEjH,cAAc;EACpBkH,GAAG,EAAElH,cAAc;EACnBmH,KAAK,EAAEnH,cAAc;EACrBoH,IAAI,EAAEpH,cAAc;EACpBqH,MAAM,EAAErH,cAAc;EACtBsH,KAAK,EAAEtH,cAAc;EACrBuH,MAAM,EAAEvH,cAAc;EACtBwH,KAAK,EAAExH,cAAc;EACrByH,MAAM,EAAEzH,cAAc;EACtB0H,KAAK,EAAE1H,cAAc;EACrB2H,OAAO,EAAE3H,cAAc;EACvB4H,MAAM,EAAE5H,cAAc;EACtB6H,OAAO,EAAE7H,cAAc;EACvB8H,MAAM,EAAE9H,cAAc;EACtB+H,KAAK,EAAE/H,cAAc;EACrBgI,MAAM,EAAEhI,cAAc;EACtBiI,MAAM,EAAEjI,cAAc;EACtBkI,MAAM,EAAElI,cAAc;EACtBmI,MAAM,EAAEnI,cAAc;EACtBoI,KAAK,EAAEpI,cAAc;EACrBqI,MAAM,EAAErI,cAAc;EACtBsI,SAAS,EAAEtI,cAAc;EACzBuI,IAAI,EAAEvI,cAAc;EACpBwI,OAAO,EAAExI,cAAc;EACvByI,IAAI,EAAElI,UAAU;EAChBmI,QAAQ,EAAEpG,cAAc;EACxBqG,SAAS,EAAEzF,eAAe;EAC1B3N,KAAK,EAAEiO,WAAW;EAClBoF,UAAU,EAAEjE,gBAAgB;EAC5BkE,KAAK,EAAElD,eAAe;EACtBmD,QAAQ,EAAEnD,eAAe;EACzBoD,MAAM,EAAEpD,eAAe;EACvBqD,IAAI,EAAErD,eAAe;EACrBsD,IAAI,EAAErI,UAAU;EAChBsI,IAAI,EAAE9H,UAAU;EAChB+H,UAAU,EAAEtH;AACd,CAAC;AAED,IAAM+E,aAAa,GAAG,SAAhBA,aAAaA,CAAIlE,QAAQ,EAAE0G,MAAM,EAAK;EAC1C,IAAMC,KAAK,GAAG1U,MAAM,CAACC,IAAI,CAAC8N,QAAQ,CAAC,CAAC4G,IAAI,CAAC,UAAAtD,OAAO,EAAI;IAClD,IAAI,UAAU,CAACuD,IAAI,CAACvD,OAAO,CAAC,EAAE;MAC5B,IAAMwD,GAAG,GAAG,IAAIC,MAAM,CAACzD,OAAO,CAAC0D,SAAS,CAAC,CAAC,EAAE1D,OAAO,CAAC3Q,MAAM,GAAG,CAAC,CAAC,CAAC;MAChE,OAAOmU,GAAG,CAACD,IAAI,CAACH,MAAM,CAAC;IACzB;IACA,OAAOpD,OAAO,KAAKoD,MAAM;EAC3B,CAAC,CAAC;EACF,OAAOA,MAAM,IAAIC,KAAK,IAAI3G,QAAQ,CAAC2G,KAAK,CAAC;AAC3C,CAAC;AAED,IAAMvG,aAAa;EAAA,IAAA6G,MAAA,GAAA/Q,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAA8Q,UAAOC,kBAAkB,EAAEnH,QAAQ,EAAEC,KAAK;IAAA,IAAAqD,OAAA;IAAA,OAAAnN,mBAAA,GAAAI,IAAA,UAAA6Q,WAAAC,UAAA;MAAA,kBAAAA,UAAA,CAAA3Q,IAAA,GAAA2Q,UAAA,CAAA1Q,IAAA;QAAA;UAC1D2M,OAAO,GAAGY,aAAa,CAAClE,QAAQ,EAAEmH,kBAAkB,CAAC9I,IAAI,CAAC;UAAA,IACzDiF,OAAO;YAAA+D,UAAA,CAAA1Q,IAAA;YAAA;UAAA;UAAA,MACJ,IAAI+D,KAAK,6BAAA9I,MAAA,CACeuV,kBAAkB,CAAC9I,IAAK,OAAAzM,MAAA,CAAGqO,KAAK,CAAClN,IAAI,CAAC,GAAG,CAAE,CAAC,CACzE;QAAA;UAAAsU,UAAA,CAAA1Q,IAAA;UAAA,OACU2M,OAAO,CAAC6D,kBAAkB,CAACjT,KAAK,EAAE8L,QAAQ,EAAEC,KAAK,CAAC;QAAA;UAAA,OAAAoH,UAAA,CAAApQ,MAAA,WAAAoQ,UAAA,CAAAtQ,IAAA;QAAA;QAAA;UAAA,OAAAsQ,UAAA,CAAAjQ,IAAA;MAAA;IAAA,GAAA8P,SAAA;EAAA,CAChE;EAAA,gBAPK9G,aAAaA,CAAAkH,IAAA,EAAAC,IAAA,EAAAC,IAAA;IAAA,OAAAP,MAAA,CAAA/P,KAAA,OAAA3B,SAAA;EAAA;AAAA,GAOlB;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACO,IAAMkS,QAAM;EAAA,IAAAC,MAAA,GAAAxR,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAuR,UACpBR,kBAAkB;IAAA,IAAAS,cAAA;MAAA3H,KAAA;MAAA4H,gBAAA;MAAA7H,QAAA;MAAA8H,OAAA,GAAAvS,SAAA;IAAA,OAAAY,mBAAA,GAAAI,IAAA,UAAAwR,WAAAC,UAAA;MAAA,kBAAAA,UAAA,CAAAtR,IAAA,GAAAsR,UAAA,CAAArR,IAAA;QAAA;UAClBiR,cAAc,GAAAE,OAAA,CAAAnV,MAAA,QAAAmV,OAAA,QAAAtS,SAAA,GAAAsS,OAAA,MAAG,EAAE;UACnB7H,KAAK,GAAA6H,OAAA,CAAAnV,MAAA,QAAAmV,OAAA,QAAAtS,SAAA,GAAAsS,OAAA,MAAG,EAAE,EAEV;UACMD,gBAAgB,GAAG5V,MAAM,CAACC,IAAI,CAACoS,eAAe,CAAC,CAClD2D,MAAM,CACL,UAAA3E,OAAO;YAAA,OACL,CAACrR,MAAM,CAACC,IAAI,CAAC0V,cAAc,CAAC,CAAChB,IAAI,CAAC,UAAAsB,aAAa;cAAA,OAC7C,IAAInB,MAAM,CAACmB,aAAa,CAAC,CAACrB,IAAI,CAACvD,OAAO,CAAC;YAAA,EACxC;UAAA,EACJ,CACAtN,MAAM,CAAC,UAACgK,QAAQ,EAAEmI,UAAU,EAAK;YAChCnI,QAAQ,CAACmI,UAAU,CAAC,GAAG7D,eAAe,CAAC6D,UAAU,CAAC;YAClD,OAAOnI,QAAQ;WAChB,EAAE4H,cAAc,CAAC;UAEd5H,QAAQ,GAAA5K,aAAA,CAAAA,aAAA,KACTyS,gBAAgB,GAChBD,cAAA;UAAA,OAAAI,UAAA,CAAA/Q,MAAA,WAEEmJ,aAAa,CAAC+G,kBAAkB,EAAEnH,QAAQ,EAAEC,KAAK,CAAC;QAAA;QAAA;UAAA,OAAA+H,UAAA,CAAA5Q,IAAA;MAAA;IAAA,GAAAuQ,SAAA;EAAA,CAC1D;EAAA,gBAvBYF,QAAMW,CAAAC,IAAA;IAAA,OAAAX,MAAA,CAAAxQ,KAAA,OAAA3B,SAAA;EAAA;AAAA,GAuBlB;AAEM,IAAM+S,cAAc;EAAA,IAAAC,MAAA,GAAArS,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAoS,UAAO/L,QAAQ;IAAA,IAAAmL,cAAA;MAAAa,UAAA;MAAAC,OAAA,GAAAnT,SAAA;IAAA,OAAAY,mBAAA,GAAAI,IAAA,UAAAoS,WAAAC,UAAA;MAAA,kBAAAA,UAAA,CAAAlS,IAAA,GAAAkS,UAAA,CAAAjS,IAAA;QAAA;UAAEiR,cAAc,GAAAc,OAAA,CAAA/V,MAAA,QAAA+V,OAAA,QAAAlT,SAAA,GAAAkT,OAAA,MAAG,EAAE;UAAA,KAC5DjM,QAAQ,CAACoM,WAAW;YAAAD,UAAA,CAAAjS,IAAA;YAAA;UAAA;UAAA,OAAAiS,UAAA,CAAA3R,MAAA,WACfwQ,QAAM,CAAChL,QAAQ,CAACoM,WAAW,EAAEjB,cAAc,CAAC;QAAA;UAAA,KAC1CnL,QAAQ,CAACqM,iBAAiB;YAAAF,UAAA,CAAAjS,IAAA;YAAA;UAAA;UAAAiS,UAAA,CAAAhS,EAAA,GAAAxB,aAAA;UAAAwT,UAAA,CAAA/R,EAAA,GAAAzB,aAAA,KAE9BqH,QAAQ,CAACqM,iBAAiB;UAAAF,UAAA,CAAA9R,EAAA;UAAA8R,UAAA,CAAAjS,IAAA;UAAA,OACfyK,OAAO,CAACC,GAAG,CACvB5E,QAAQ,CAACqM,iBAAiB,CAACC,MAAM,CAACzH,GAAG;YAAA,IAAA0H,aAAA,GAAA9S,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAAC,SAAA6S,UAA4B5U,CAAC;cAAA,OAAA8B,mBAAA,GAAAI,IAAA,UAAA2S,WAAAC,UAAA;gBAAA,kBAAAA,UAAA,CAAAzS,IAAA,GAAAyS,UAAA,CAAAxS,IAAA;kBAAA;oBAAAwS,UAAA,CAAAvS,EAAA,GAEzDvC,CAAC,CAACgK,IAAI;oBAAA8K,UAAA,CAAAtS,EAAA,GACGxC,CAAC,CAAC+U,aAAa;oBAAAD,UAAA,CAAArS,EAAA,GACZzC,CAAC,CAACgV,gBAAgB;oBAAAF,UAAA,CAAAnS,EAAA,GACxB3C,CAAC,CAACiV,UAAU;oBAAAH,UAAA,CAAAxS,IAAA;oBAAA,OACZ8Q,QAAM,CAACpT,CAAC,CAACkV,OAAO,EAAE3B,cAAc;kBAAA;oBAAAuB,UAAA,CAAAK,EAAA,GAAAL,UAAA,CAAApS,IAAA;oBAAA,OAAAoS,UAAA,CAAAlS,MAAA;sBAJ5CoH,IAAI,EAAA8K,UAAA,CAAAvS,EAAA;sBACJwS,aAAa,EAAAD,UAAA,CAAAtS,EAAA;sBACbwS,gBAAgB,EAAAF,UAAA,CAAArS,EAAA;sBAChBwS,UAAU,EAAAH,UAAA,CAAAnS,EAAA;sBACVyS,IAAI,EAAAN,UAAA,CAAAK;oBAAA;kBAAA;kBAAA;oBAAA,OAAAL,UAAA,CAAA/R,IAAA;gBAAA;cAAA,GAAA6R,SAAA;YAAA,CAEP;YAAA,SARoDS,YAAYA,CAAAC,IAAA;cAAA,OAAAX,aAAA,CAAA9R,KAAA,OAAA3B,SAAA;YAAA;YAAA,OAAZmU,YAAY;UAAA,GAQhE,CAAC;QAAA;UAAAd,UAAA,CAAA5R,EAAA,GAAA4R,UAAA,CAAA7R,IAAA;UAAA6R,UAAA,CAAAY,EAAA;YATJT,MAAM,EAAAH,UAAA,CAAA5R;UAAA;UAAA,OAAA4R,UAAA,CAAA3R,MAAA,eAAA2R,UAAA,CAAAhS,EAAA,EAAAgS,UAAA,CAAA/R,EAAA,EAAA+R,UAAA,CAAA9R,EAAA,EAAA8R,UAAA,CAAAY,EAAA;QAAA;UAAA,KAYC/M,QAAQ,CAACmN,WAAW;YAAAhB,UAAA,CAAAjS,IAAA;YAAA;UAAA;UAAA,OAAAiS,UAAA,CAAA3R,MAAA,WACtBwF,QAAQ,CAACmN,WAAW;QAAA;UAAA,KAClBnN,QAAQ,CAACsM,MAAM;YAAAH,UAAA,CAAAjS,IAAA;YAAA;UAAA;UAAAiS,UAAA,CAAAjS,IAAA;UAAA,OACXyK,OAAO,CAACC,GAAG,CACtB5E,QAAQ,CAACsM,MAAM,CAACzH,GAAG;YAAA,IAAAuI,cAAA,GAAA3T,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAAC,SAAA0T,UAA4BzV,CAAC;cAAA,OAAA8B,mBAAA,GAAAI,IAAA,UAAAwT,WAAAC,UAAA;gBAAA,kBAAAA,UAAA,CAAAtT,IAAA,GAAAsT,UAAA,CAAArT,IAAA;kBAAA;oBAAAqT,UAAA,CAAApT,EAAA,GAEpCvC,CAAC,CAAC4V,OAAO;oBAAAD,UAAA,CAAAnT,EAAA,GACLxC,CAAC,CAAC6V,WAAW;oBAAAF,UAAA,CAAAlT,EAAA,GACVzC,CAAC,CAAC8V,cAAc;oBAAAH,UAAA,CAAAhT,EAAA,GAC1B3C,CAAC,CAACgK,IAAI;oBAAA2L,UAAA,CAAAR,EAAA,GACGnV,CAAC,CAAC+U,aAAa;oBAAAY,UAAA,CAAAI,EAAA,GACZ/V,CAAC,CAACgV,gBAAgB;oBAAAW,UAAA,CAAAK,EAAA,GACxBhW,CAAC,CAACiV,UAAU;oBAAAU,UAAA,CAAArT,IAAA;oBAAA,OACZ8Q,QAAM,CAACpT,CAAC,CAACkV,OAAO,EAAE3B,cAAc;kBAAA;oBAAAoC,UAAA,CAAAM,EAAA,GAAAN,UAAA,CAAAjT,IAAA;oBAAA,OAAAiT,UAAA,CAAA/S,MAAA;sBAP5CgT,OAAO,EAAAD,UAAA,CAAApT,EAAA;sBACPsT,WAAW,EAAAF,UAAA,CAAAnT,EAAA;sBACXsT,cAAc,EAAAH,UAAA,CAAAlT,EAAA;sBACduH,IAAI,EAAA2L,UAAA,CAAAhT,EAAA;sBACJoS,aAAa,EAAAY,UAAA,CAAAR,EAAA;sBACbH,gBAAgB,EAAAW,UAAA,CAAAI,EAAA;sBAChBd,UAAU,EAAAU,UAAA,CAAAK,EAAA;sBACVZ,IAAI,EAAAO,UAAA,CAAAM;oBAAA;kBAAA;kBAAA;oBAAA,OAAAN,UAAA,CAAA5S,IAAA;gBAAA;cAAA,GAAA0S,SAAA;YAAA,CAEP;YAAA,SAXkCJ,YAAYA,CAAAa,IAAA;cAAA,OAAAV,cAAA,CAAA3S,KAAA,OAAA3B,SAAA;YAAA;YAAA,OAAZmU,YAAY;UAAA,GAW9C,CAAC,CACH;QAAA;UAAA,OAAAd,UAAA,CAAA3R,MAAA,WAAA2R,UAAA,CAAA7R,IAAA;QAAA;UAAA,KACQ0F,QAAQ,CAACzC,OAAO;YAAA4O,UAAA,CAAAjS,IAAA;YAAA;UAAA;UAAA,OAAAiS,UAAA,CAAA3R,MAAA,WAClBwF,QAAQ,CAACzC,OAAO;QAAA;UAAA,KACdyC,QAAQ,CAACG,KAAK;YAAAgM,UAAA,CAAAjS,IAAA;YAAA;UAAA;UAAA,OAAAiS,UAAA,CAAA3R,MAAA,WAChBwF,QAAQ,CAACG,KAAK;QAAA;UAAA,KACZH,QAAQ,CAAC+N,WAAW;YAAA5B,UAAA,CAAAjS,IAAA;YAAA;UAAA;UAAA,OAAAiS,UAAA,CAAA3R,MAAA,WACtBwF,QAAQ,CAAC+N,WAAW;QAAA;UAAA,KAClB/N,QAAQ,CAACgO,WAAW;YAAA7B,UAAA,CAAAjS,IAAA;YAAA;UAAA;UAC7BqG,4BAA4B,EAAE;UAAA,OAAA4L,UAAA,CAAA3R,MAAA,WACvBwF,QAAQ,CAACgO,WAAW;QAAA;UAAA,KAClBhO,QAAQ,CAAC2M,aAAa;YAAAR,UAAA,CAAAjS,IAAA;YAAA;UAAA;UAAA,OAAAiS,UAAA,CAAA3R,MAAA,WACxBwF,QAAQ,CAAC2M,aAAa;QAAA;UAAA,KACpB3M,QAAQ,CAACiO,UAAU;YAAA9B,UAAA,CAAAjS,IAAA;YAAA;UAAA;UAAA,OAAAiS,UAAA,CAAA3R,MAAA,WACrBwF,QAAQ,CAACiO,UAAU;QAAA;UAAA,KACjBjO,QAAQ,CAACkO,iBAAiB;YAAA/B,UAAA,CAAAjS,IAAA;YAAA;UAAA;UAC7B8R,UAAU,GAAG;YACjB,cAAc,EAAE,SAAS;YACzB,cAAc,EAAE,SAAS;YACzB,eAAe,EAAE;WAClB;UAAA,OAAAG,UAAA,CAAA3R,MAAA,WAEM;YACL2T,OAAO,EAAEnC,UAAU,CAAChM,QAAQ,CAACkO,iBAAiB,CAACC,OAAO;WACvD;QAAA;UAAA,OAAAhC,UAAA,CAAA3R,MAAA,WAGI,IAAI;QAAA;QAAA;UAAA,OAAA2R,UAAA,CAAAxR,IAAA;MAAA;IAAA,GAAAoR,SAAA;EAAA,CACZ;EAAA,gBA7DYF,cAAcA,CAAAuC,IAAA;IAAA,OAAAtC,MAAA,CAAArR,KAAA,OAAA3B,SAAA;EAAA;AAAA,GA6D1B;AC9ND,IAAMuV,MAAI,GAAG,SAAPA,MAAItX,CAAGwI,CAAC;EAAA,OAAI,OAAOA,CAAC,KAAK,UAAU;AAAA;AACzC,IAAM+O,UAAQ,GAAG,SAAXA,UAAQC,CAAGhP,CAAC;EAAA,OAAI,OAAOA,CAAC,KAAK,QAAQ;AAAA;AAE3C,IAAMiP,sBAAsB,GAAG,SAAzBA,sBAAsBA,CAAA;EAAA,OAAS,cAAc;AAAA;AACnD,SAASC,qBAAqBA,CAACC,OAAO,EAAE;EACtC,OAAOF,sBAAsB,EAAE,CAACpE,IAAI,CAACsE,OAAO,CAAC;AAC/C;AAEA,IAAMC,sBAAsB,GAAG,SAAzBA,sBAAsBA,CAAA;EAAA,OAAS,mBAAmB;AAAA;AACxD,SAASC,qBAAqBA,CAACF,OAAO,EAAE;EACtC,OAAOC,sBAAsB,EAAE,CAACvE,IAAI,CAACsE,OAAO,CAAC;AAC/C;AAEA,SAASG,kCAAkCA,CAACH,OAAO,EAAE;EACnD,OAAOA,OAAO,CAACI,QAAQ,CAACH,sBAAsB,EAAE,CAAC;AACnD;AAAA,SAEsBI,cAAcA,CAAAC,IAAA;EAAA,OAAAC,eAAA,CAAAxU,KAAA,OAAA3B,SAAA;AAAA;AAAA,SAAAmW,gBAAA;EAAAA,eAAA,GAAAxV,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAA7B,SAAAuV,UAA8BjY,EAAE;IAAA,IAAAyX,OAAA,EAAAS,UAAA,EAAAC,MAAA,EAAAC,YAAA,EAAAC,SAAA,EAAAC,YAAA,EAAAvM,OAAA;IAAA,OAAAtJ,mBAAA,GAAAI,IAAA,UAAA0V,WAAAC,UAAA;MAAA,kBAAAA,UAAA,CAAAxV,IAAA,GAAAwV,UAAA,CAAAvV,IAAA;QAAA;UAAA,MACjC,CAACuC,aAAa,CAACxF,EAAE,CAAC,IAAI,CAACuF,QAAQ,CAACvF,EAAE,CAAC;YAAAwY,UAAA,CAAAvV,IAAA;YAAA;UAAA;UAAA,OAAAuV,UAAA,CAAAjV,MAAA,WAASvD,EAAE;QAAA;UAE9CyX,OAAO,GAAGlP,GAAG,CAACvI,EAAE,EAAE,YAAY,CAAC;UAEnCuB,WAAS,CACP6V,MAAI,CAACK,OAAO,CAAC,IAAIJ,UAAQ,CAACI,OAAO,CAAC,EAClC,6CAA6C,CAC9C;UAAA,KACGL,MAAI,CAACK,OAAO,CAAC;YAAAe,UAAA,CAAAvV,IAAA;YAAA;UAAA;UAAAuV,UAAA,CAAAvV,IAAA;UAAA,OAAkBwU,OAAO,CAAC,EAAE,CAAC;QAAA;UAA3BA,OAAO,GAAAe,UAAA,CAAAnV,IAAA;QAAA;UAC1B9B,WAAS,CAAC8V,UAAQ,CAACI,OAAO,CAAC,EAAE,6CAA6C,CAAC;UAC3ElW,WAAS,CACP,CAACiW,qBAAqB,CAACC,OAAO,CAAC,IAAI,CAACE,qBAAqB,CAACF,OAAO,CAAC,EAClE,sFAAsF,CACvF;UAAA,KACGD,qBAAqB,CAACC,OAAO,CAAC;YAAAe,UAAA,CAAAvV,IAAA;YAAA;UAAA;UAAAuV,UAAA,CAAAvV,IAAA;UAAA,OAChBwV,MAAM,EAAE,CACrBC,KAAK,CAAC,KAAK,CAAC,CACZC,IAAI,CAAC,UAAAnZ,CAAC;YAAA,OACLjB,MAAM,CAACqa,OAAO,CAACpZ,CAAC,CAAC,CAAC8C,MAAM,CAAC,UAACmV,OAAO,EAAAoB,IAAA,EAAmB;cAAA,IAAAC,MAAA,GAAAC,cAAA,CAALF,IAAA;gBAAXtY,GAAG,GAAAuY,MAAA;gBAAEtY,KAAK,GAAAsY,MAAA;cAC5C,IAAME,KAAK,GAAG,IAAI3F,MAAM,CAAC,MAAM,GAAG9S,GAAG,GAAG,MAAM,EAAE,GAAG,CAAC;cACpD,OAAOkX,OAAO,CAACwB,OAAO,CAACD,KAAK,EAAExY,KAAK,CAAC;aACrC,EAAEiX,OAAO,CAAC;UAAA,EACZ;QAAA;UAPHA,OAAO,GAAAe,UAAA,CAAAnV,IAAA;QAAA;UAAA,KAULsU,qBAAqB,CAACF,OAAO,CAAC;YAAAe,UAAA,CAAAvV,IAAA;YAAA;UAAA;UAAAiV,UAAA,GAAAhY,0BAAA,CACQ0X,kCAAkC,CACxEH,OAAO,CACR;UAAAe,UAAA,CAAAxV,IAAA;UAAAkV,UAAA,CAAA9X,CAAA;QAAA;UAAA,KAAA+X,MAAA,GAAAD,UAAA,CAAA7X,CAAA,IAAAC,IAAA;YAAAkY,UAAA,CAAAvV,IAAA;YAAA;UAAA;UAAAmV,YAAA,GAAAW,cAAA,CAAAZ,MAAA,CAAA3X,KAAA,MAFW6X,SAAS,GAAAD,YAAA,KAAEE,YAAY,GAAAF,YAAA;UAAAI,UAAA,CAAAvV,IAAA;UAAA,OAGXwV,MAAM,EAAE,CAAClQ,GAAG,qBAAArK,MAAA,CAAqBoa,YAAa,CAAC,CAAC;QAAA;UAAhEvM,OAAO,GAAAyM,UAAA,CAAAnV,IAAA;UACb,IAAI0I,OAAO,EAAE;YACX0L,OAAO,GAAGA,OAAO,CAACwB,OAAO,CACvBZ,SAAS,YAAAna,MAAA,CACCoa,YAAa,YAAApa,MAAA,CAAQgb,UAAU,CAACnN,OAAO,CAAE,CAAC,CACrD;UACH,CAAC,MAAM;YACLoN,MAAM,CAAC5P,GAAG,CAAC;cACT6P,KAAK,EAAE,gCAAgC;cACvChV,OAAO,kDAAAlG,MAAA,CAAkDoa,YAAa,+FAA2F;cACjKe,KAAK,EAAEF,MAAM,CAACG,MAAM,CAACC;YACvB,CAAC,CAAC;UACJ;QAAA;UAAAf,UAAA,CAAAvV,IAAA;UAAA;QAAA;UAAAuV,UAAA,CAAAvV,IAAA;UAAA;QAAA;UAAAuV,UAAA,CAAAxV,IAAA;UAAAwV,UAAA,CAAAtV,EAAA,GAAAsV,UAAA;UAAAN,UAAA,CAAAvX,CAAA,CAAA6X,UAAA,CAAAtV,EAAA;QAAA;UAAAsV,UAAA,CAAAxV,IAAA;UAAAkV,UAAA,CAAAtX,CAAA;UAAA,OAAA4X,UAAA,CAAAgB,MAAA;QAAA;UAIJ;UACAxZ,EAAE,CAACoE,OAAO,CAACqT,OAAO,GAAGA,OAAO;UAAA,OAAAe,UAAA,CAAAjV,MAAA,WAErBvD,EAAE;QAAA;QAAA;UAAA,OAAAwY,UAAA,CAAA9U,IAAA;MAAA;IAAA,GAAAuU,SAAA;EAAA,CACX;EAAA,OAAAD,eAAA,CAAAxU,KAAA,OAAA3B,SAAA;AAAA;ACtEA,IAAM4X,MAAI,GAAG,SAAPA,MAAI3Z,CAAGwI,CAAC;EAAA,OAAI,OAAOA,CAAC,KAAK,UAAU;AAAA;AAEzC,SAASoR,IAAIA,CAACvV,GAAG,EAAE;EACjB;EACA5C,WAAS,CAAC,OAAO4C,GAAG,CAACG,KAAK,IAAI,IAAI,qCAAApG,MAAA,CAAqCiG,GAAG,CAAC3D,KAAM,CAAC,CAAC;EAEnF,IAAIiZ,MAAI,CAACtV,GAAG,CAACG,KAAK,CAAC,EAAE,OAAOH,GAAG,CAACG,KAAK,CAACH,GAAG,CAAC3D,KAAK,CAAC;EAChD,IAAIiZ,MAAI,CAACtV,GAAG,CAACG,KAAK,CAACD,UAAU,CAAC,EAAE,OAAOF,GAAG,CAACG,KAAK,CAACD,UAAU,CAACF,GAAG,CAAC3D,KAAK,CAAC;;EAEtE;EACAe,WAAS,CAAC,KAAK,sBAAsB4C,GAAG,CAAC;AAC3C;AAAA,SAEewV,mBAAmBA,CAAAC,IAAA;EAAA,OAAAC,oBAAA,CAAArW,KAAA,OAAA3B,SAAA;AAAA;AAAA,SAAAgY,qBAAA;EAAAA,oBAAA,GAAArX,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAAlC,SAAAoX,UAAmC3V,GAAG;IAAA,IAAA4V,KAAA;MAAAC,WAAA;MAAAC,OAAA,GAAApY,SAAA;IAAA,OAAAY,mBAAA,GAAAI,IAAA,UAAAqX,WAAAC,UAAA;MAAA,kBAAAA,UAAA,CAAAnX,IAAA,GAAAmX,UAAA,CAAAlX,IAAA;QAAA;UAAE8W,KAAK,GAAAE,OAAA,CAAAhb,MAAA,QAAAgb,OAAA,QAAAnY,SAAA,GAAAmY,OAAA,MAAG,CAAC;UAC/C1Y,WAAS,CACPwY,KAAK,GAAG,CAAC,wDAAA7b,MAAA,CAC6CiG,GAAG,CAACnC,MAAO,CAAC,CACnE;UAAA,KAEGyX,MAAI,CAACtV,GAAG,CAACI,eAAe,CAAC;YAAA4V,UAAA,CAAAlX,IAAA;YAAA;UAAA;UAAAkX,UAAA,CAAAlX,IAAA;UAAA,OACDkB,GAAG,CAACI,eAAe,EAAE;QAAA;UAAzCyV,WAAW,GAAAG,UAAA,CAAA9W,IAAA;UAAA,OAAA8W,UAAA,CAAA5W,MAAA,WACVoW,mBAAmB,CAACK,WAAW,EAAED,KAAK,GAAG,CAAC,CAAC;QAAA;UAAA,OAAAI,UAAA,CAAA5W,MAAA,WAE3CY,GAAG;QAAA;QAAA;UAAA,OAAAgW,UAAA,CAAAzW,IAAA;MAAA;IAAA,GAAAoW,SAAA;EAAA,CAEd;EAAA,OAAAD,oBAAA,CAAArW,KAAA,OAAA3B,SAAA;AAAA;AAAA,SAEsBuY,gBAAgBA,CAAAC,IAAA;EAAA,OAAAC,iBAAA,CAAA9W,KAAA,OAAA3B,SAAA;AAAA;AAAA,SAAAyY,kBAAA;EAAAA,iBAAA,GAAA9X,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAA/B,SAAA6X,UAAgCva,EAAE;IAAA,IAAAwa,GAAA,EAAAC,eAAA,EAAAC,kBAAA,EAAAnK,EAAA,EAAAoK,IAAA,EAAA5M,GAAA;IAAA,OAAAtL,mBAAA,GAAAI,IAAA,UAAA+X,WAAAC,UAAA;MAAA,kBAAAA,UAAA,CAAA7X,IAAA,GAAA6X,UAAA,CAAA5X,IAAA;QAAA;UAAA,MACnCuC,aAAa,CAACxF,EAAE,CAAC,IAAIuF,QAAQ,CAACvF,EAAE,CAAC;YAAA6a,UAAA,CAAA5X,IAAA;YAAA;UAAA;UAAAuX,GAAA,MAAAC,eAAA,GACblc,MAAM,CAACqa,OAAO,CAAC5Y,EAAE,CAAC6B,SAAS,CAAC;QAAA;UAAA,MAAA2Y,GAAA,GAAAC,eAAA,CAAAxb,MAAA;YAAA4b,UAAA,CAAA5X,IAAA;YAAA;UAAA;UAAAyX,kBAAA,GAAA3B,cAAA,CAAA0B,eAAA,CAAAD,GAAA,OAAxCjK,EAAE,GAAAmK,kBAAA,KAAEvW,IAAG,GAAAuW,kBAAA;UAAAG,UAAA,CAAA5X,IAAA;UAAA,OACG0W,mBAAmB,CAACxV,IAAG,CAAC;QAAA;UAApC4J,GAAG,GAAA8M,UAAA,CAAAxX,IAAA;UACTrD,EAAE,CAAC6B,SAAS,CAAC0O,EAAE,CAAC,CAAClM,UAAU,GAAGqV,IAAI,CAAC3L,GAAG,CAAC;QAAA;UAAAyM,GAAA;UAAAK,UAAA,CAAA5X,IAAA;UAAA;QAAA;UAAA,OAAA4X,UAAA,CAAAtX,MAAA,WAIpCvD,EAAE;QAAA;QAAA;UAAA,OAAA6a,UAAA,CAAAnX,IAAA;MAAA;IAAA,GAAA6W,SAAA;EAAA,CACX;EAAA,OAAAD,iBAAA,CAAA9W,KAAA,OAAA3B,SAAA;AAAA;ACnCa,IAAAiZ,wBAAwB,GAAG,SAA3BA,wBAAwBA,CAAGC,EAAE;EAAA,OACxCC,2BAA2B,CAACC,SAAS,CAACC,cAAc,CAACH,EAAE,CAAC,CAAC;AAAA;AAC9C,IAAAI,yBAAyB,GAAG,SAA5BA,yBAAyBA,CAAGJ,EAAE;EAAA,OACzCC,2BAA2B,CAACC,SAAS,CAACG,eAAe,CAACL,EAAE,CAAC,CAAC;AAAA;AAC/C,IAAAM,qBAAqB,GAAG,SAAxBA,qBAAqBA,CAAGC,OAAO;EAAA,OAC1CC,QAAQ,CAACN,SAAS,CAACO,cAAc,CAACF,OAAO,CAAC,CAAC;AAAA;AAE7C,IAAMG,oBAAoB,GAAG,SAAvBA,oBAAoBA,CAAIjb,KAAK,EAAEkb,GAAG;EAAA,OACtCC,MAAM,CAACvc,IAAI,CAACoB,KAAK,CAACob,MAAM,CAACF,GAAG,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE,KAAK,CAAC;AAAA;AAE9C,IAAMG,mBAAmB,GAAG,SAAtBA,mBAAmBA,CAAIrb,KAAK,EAAEkb,GAAG;EAAA,OACrCC,MAAM,CAACvc,IAAI,CAACoB,KAAK,CAACsb,QAAQ,CAACJ,GAAG,GAAG,CAAC,EAAE,CAAC,CAAC,EAAE,KAAK,CAAC;AAAA;AAEhD,IAAMK,sBAAsB,GAAGN,oBAAoB,CACjDE,MAAM,CAACvc,IAAI,CAAC,uBAAuB,CAAC,CAAC4c,QAAQ,CAAC,KAAK,CAAC,EACpD,EAAE,CACH,CAACA,QAAQ,CAAC,KAAK,CAAC;AACjB,IAAMhB,2BAA2B,GAAG,SAA9BA,2BAA2BA,CAAGD,EAAE;EAAA,OAAIgB,sBAAsB,GAAGhB,EAAE;AAAA;AAErE,IAAMkB,aAAa,GAAG,SAAhBA,aAAaA,CAAG7S,IAAI;EAAA,OAAIyS,mBAAmB,CAACzS,IAAI,EAAE,CAAC,CAAC;AAAA;AAE1D,IAAM8S,WAAW,GAAG,SAAdA,WAAWA,CAAGhT,KAAK;EAAA,OAAI2S,mBAAmB,CAAC3S,KAAK,EAAE,EAAE,CAAC;AAAA;AAE3D,IAAMiT,gBAAgB,GAAG,SAAnBA,gBAAgBA,CAAGhY,GAAG;EAAA,OAAIwX,MAAM,CAACvc,IAAI,CAACX,IAAI,CAAC2d,SAAS,CAACjY,GAAG,CAAC,EAAE,MAAM,CAAC;AAAA;AAExE,IAAMkY,YAAY,GAAG,SAAfA,YAAYA,CAAGC,MAAM;EAAA,OAAIX,MAAM,CAACvc,IAAI,CAACkd,MAAM,EAAE,MAAM,CAAC;AAAA;AAC1D,IAAMC,eAAe,GAAG,SAAlBA,eAAeA,CAAGC,SAAS;EAAA,OAAIb,MAAM,CAACvc,IAAI,CAACod,SAAS,EAAE,KAAK,CAAC;AAAA;AAElE,IAAMvB,SAAS,GAAG,SAAZA,SAASA,CAAG3S,CAAC,EAAI;EACrB,OAAOmU,MAAM,CAACnU,CAAC,CAAC,CAAC0T,QAAQ,CAAC,KAAK,CAAC;AAClC,CAAC;AAED,IAAMT,QAAQ,GAAG,SAAXA,QAAQA,CAAGmB,GAAG,EAAI;EACtB,IAAMC,GAAG,GAAG,IAAIC,IAAI,CAAC,GAAG,CAAC;EACzBD,GAAG,CAAChU,MAAM,CAACgT,MAAM,CAACvc,IAAI,CAACsd,GAAG,EAAE,KAAK,CAAC,CAAC;EACnC,OAAOC,GAAG,CAACE,MAAM,EAAE,CAACb,QAAQ,CAAC,KAAK,CAAC;AACrC,CAAC;AAED,IAAMd,cAAc,GAAG,SAAjBA,cAAcA,CAAGH,EAAE,EAAI;EAC3B+B,eAAe,CAAC/B,EAAE,CAAC;EAEnB,OAAO,CACLsB,YAAY,CAACtB,EAAE,CAACtD,OAAO,CAAC,EACxBsD,EAAE,CAAClZ,SAAS,CAAC+L,GAAG,CAACuO,gBAAgB,CAAC,EAClCD,WAAW,CAACnB,EAAE,CAACgC,QAAQ,CAAC,EACxBhC,EAAE,CAACiC,YAAY,EACff,aAAa,CAAC5S,UAAU,CAAC0R,EAAE,CAACkC,WAAW,CAAClR,OAAO,CAAC,CAAC,EACjDgP,EAAE,CAACkC,WAAW,CAAC3b,KAAK,EACpByZ,EAAE,CAACkC,WAAW,CAACC,WAAW,EAC1BjB,aAAa,CAAC5S,UAAU,CAAC0R,EAAE,CAAC9W,KAAK,CAAC,CAAC,EACnC8W,EAAE,CAACoC,WAAW,CAACvP,GAAG,CAAC,UAAAwP,UAAU;IAAA,OAAInB,aAAa,CAAC5S,UAAU,CAAC+T,UAAU,CAAC,CAAC;EAAA,EAAC,CACxE;AACH,CAAC;AAED,IAAMhC,eAAe,GAAG,SAAlBA,eAAeA,CAAGL,EAAE,EAAI;EAC5BsC,gBAAgB,CAACtC,EAAE,CAAC;EAEpB,OAAO,CAACG,cAAc,CAACH,EAAE,CAAC,EAAEuC,wBAAwB,CAACvC,EAAE,CAAC,CAAC;AAC3D,CAAC;AAED,IAAMuC,wBAAwB,GAAG,SAA3BA,wBAAwBA,CAAGvC,EAAE,EAAI;EACrC,IAAMwC,OAAO,GAAGC,cAAc,CAACzC,EAAE,CAAC;EAElC,OAAOA,EAAE,CAAC0C,WAAW,CAClB7P,GAAG,CAAC,UAAA8P,GAAG,EAAI;IACV,OAAO;MACLC,WAAW,EAAEJ,OAAO,CAAChV,GAAG,CAACmV,GAAG,CAAC3R,OAAO,CAAC;MACrCzK,KAAK,EAAEoc,GAAG,CAACpc,KAAK;MAChBoc,GAAG,EAAEA,GAAG,CAACA;KACV;GACF,CAAC,CACDE,IAAI,CAAC,UAACC,CAAC,EAAEC,CAAC,EAAK;IACd,IAAID,CAAC,CAACF,WAAW,GAAGG,CAAC,CAACH,WAAW,EAAE,OAAO,CAAC;IAC3C,IAAIE,CAAC,CAACF,WAAW,GAAGG,CAAC,CAACH,WAAW,EAAE,OAAO,CAAC,CAAC;IAE5C,IAAIE,CAAC,CAACvc,KAAK,GAAGwc,CAAC,CAACxc,KAAK,EAAE,OAAO,CAAC;IAC/B,IAAIuc,CAAC,CAACvc,KAAK,GAAGwc,CAAC,CAACxc,KAAK,EAAE,OAAO,CAAC,CAAC;EAClC,CAAC,CAAC,CACDsM,GAAG,CAAC,UAAA8P,GAAG,EAAI;IACV,OAAO,CAACA,GAAG,CAACC,WAAW,EAAED,GAAG,CAACpc,KAAK,EAAEib,eAAe,CAACmB,GAAG,CAACA,GAAG,CAAC,CAAC;EAC/D,CAAC,CAAC;AACN,CAAC;AAED,IAAMF,cAAc,GAAG,SAAjBA,cAAcA,CAAGzC,EAAE,EAAI;EAC3B,IAAMwC,OAAO,GAAG,IAAIQ,GAAG,EAAE;EACzB,IAAIhU,CAAC,GAAG,CAAC;EAET,IAAMiU,SAAS,GAAG,SAAZA,SAASA,CAAG5U,IAAI,EAAI;IACxB,IAAI,CAACmU,OAAO,CAACxW,GAAG,CAACqC,IAAI,CAAC,EAAE;MACtBmU,OAAO,CAACU,GAAG,CAAC7U,IAAI,EAAEW,CAAC,CAAC;MACpBA,CAAC,EAAE;IACL;GACD;EAEDiU,SAAS,CAACjD,EAAE,CAACkC,WAAW,CAAClR,OAAO,CAAC;EACjCiS,SAAS,CAACjD,EAAE,CAAC9W,KAAK,CAAC;EACnB8W,EAAE,CAACoC,WAAW,CAACe,OAAO,CAACF,SAAS,CAAC;EAEjC,OAAOT,OAAO;AAChB,CAAC;AAED,IAAM/B,cAAc,GAAG,SAAjBA,cAAcA,CAAGF,OAAO,EAAI;EAChC6C,eAAe,CAAC7C,OAAO,CAAC;EAExB,IAAMiC,OAAO,GAAGC,cAAc,CAAClC,OAAO,CAAC;EAEvC,IAAM8C,WAAW,GAAG,SAAdA,WAAWA,CAAGC,IAAI,EAAI;IAC1B,OAAOA,IAAI,CACRzQ,GAAG,CAAC,UAAAiL,IAAA,EAA2B;MAAA,IAAzB9M,OAAO,GAAa8M,IAAA,CAApB9M,OAAO;QAAEzK,KAAK,GAAMuX,IAAA,CAAXvX,KAAK;QAAEoc,GAAA,GAAI7E,IAAA,CAAJ6E,GAAA;MACrB,OAAO;QAACC,WAAW,EAAEJ,OAAO,CAAChV,GAAG,CAACwD,OAAO,CAAC;QAAEzK,KAAK,EAALA,KAAK;QAAEoc,GAAA,EAAAA;OAAI;KACvD,CAAC,CACDE,IAAI,CAAC,UAACC,CAAC,EAAEC,CAAC,EAAK;MACd,IAAID,CAAC,CAACF,WAAW,GAAGG,CAAC,CAACH,WAAW,EAAE,OAAO,CAAC;MAC3C,IAAIE,CAAC,CAACF,WAAW,GAAGG,CAAC,CAACH,WAAW,EAAE,OAAO,CAAC,CAAC;MAC5C,IAAIE,CAAC,CAACvc,KAAK,GAAGwc,CAAC,CAACxc,KAAK,EAAE,OAAO,CAAC;MAC/B,IAAIuc,CAAC,CAACvc,KAAK,GAAGwc,CAAC,CAACxc,KAAK,EAAE,OAAO,CAAC,CAAC;IAClC,CAAC,CAAC,CACDsM,GAAG,CAAC,UAAA8P,GAAG,EAAI;MACV,OAAO,CAACA,GAAG,CAACC,WAAW,EAAED,GAAG,CAACpc,KAAK,EAAEib,eAAe,CAACmB,GAAG,CAACA,GAAG,CAAC,CAAC;IAC/D,CAAC,CAAC;GACL;EAED,OAAO,CACL,CACErB,YAAY,CAACf,OAAO,CAAC7D,OAAO,CAAC,EAC7B6D,OAAO,CAACzZ,SAAS,CAAC+L,GAAG,CAACuO,gBAAgB,CAAC,EACvCD,WAAW,CAACZ,OAAO,CAACyB,QAAQ,CAAC,EAC7BzB,OAAO,CAAC0B,YAAY,EACpBf,aAAa,CAAC5S,UAAU,CAACiS,OAAO,CAAC2B,WAAW,CAAClR,OAAO,CAAC,CAAC,EACtDuP,OAAO,CAAC2B,WAAW,CAAC3b,KAAK,EACzBga,OAAO,CAAC2B,WAAW,CAACC,WAAW,EAC/BjB,aAAa,CAAC5S,UAAU,CAACiS,OAAO,CAACrX,KAAK,CAAC,CAAC,EACxCqX,OAAO,CAAC6B,WAAW,CAACvP,GAAG,CAAC,UAAAwP,UAAU;IAAA,OAChCnB,aAAa,CAAC5S,UAAU,CAAC+T,UAAU,CAAC,CAAC;EAAA,EACtC,CACF,EACDgB,WAAW,CAAC9C,OAAO,CAACmC,WAAW,CAAC,EAChCW,WAAW,CAAC9C,OAAO,CAACgD,YAAY,CAAC,CAClC;AACH,CAAC;AAED,IAAMxB,eAAe,GAAG,SAAlBA,eAAeA,CAAG/B,EAAE,EAAI;EAC5BwD,aAAa,CAACL,OAAO,CAAC,UAAAM,KAAK;IAAA,OAAIC,UAAU,CAAC1D,EAAE,EAAEyD,KAAK,CAAC;EAAA,EAAC;EACrDE,iBAAiB,CAACR,OAAO,CAAC,UAAAM,KAAK;IAAA,OAC7BC,UAAU,CAAC1D,EAAE,CAACkC,WAAW,EAAEuB,KAAK,EAAE,aAAa,CAAC;EAAA,EACjD;AACH,CAAC;AAED,IAAMnB,gBAAgB,GAAG,SAAnBA,gBAAgBA,CAAGtC,EAAE,EAAI;EAC7B4D,iBAAiB,CAACT,OAAO,CAAC,UAAAM,KAAK;IAAA,OAAIC,UAAU,CAAC1D,EAAE,EAAEyD,KAAK,CAAC;EAAA,EAAC;EACzDzD,EAAE,CAAC0C,WAAW,CAACS,OAAO,CAAC,UAACR,GAAG,EAAEkB,KAAK,EAAK;IACrCC,gBAAgB,CAACX,OAAO,CAAC,UAAAM,KAAK;MAAA,OAC5BC,UAAU,CAACf,GAAG,EAAEc,KAAK,EAAE,aAAa,EAAEI,KAAK,CAAC;IAAA,EAC7C;EACH,CAAC,CAAC;AACJ,CAAC;AAED,IAAMT,eAAe,GAAG,SAAlBA,eAAeA,CAAG7C,OAAO,EAAI;EACjCiD,aAAa,CAACL,OAAO,CAAC,UAAAM,KAAK;IAAA,OAAIC,UAAU,CAACnD,OAAO,EAAEkD,KAAK,CAAC;EAAA,EAAC;EAC1DE,iBAAiB,CAACR,OAAO,CAAC,UAAAM,KAAK;IAAA,OAC7BC,UAAU,CAACnD,OAAO,CAAC2B,WAAW,EAAEuB,KAAK,EAAE,aAAa,CAAC;EAAA,EACtD;EACDG,iBAAiB,CAACT,OAAO,CAAC,UAAAM,KAAK;IAAA,OAAIC,UAAU,CAACnD,OAAO,EAAEkD,KAAK,CAAC;EAAA,EAAC;EAC9DlD,OAAO,CAACmC,WAAW,CAACS,OAAO,CAAC,UAACR,GAAG,EAAEkB,KAAK,EAAK;IAC1CC,gBAAgB,CAACX,OAAO,CAAC,UAAAM,KAAK;MAAA,OAC5BC,UAAU,CAACf,GAAG,EAAEc,KAAK,EAAE,aAAa,EAAEI,KAAK,CAAC;IAAA,EAC7C;EACH,CAAC,CAAC;EACFE,kBAAkB,CAACZ,OAAO,CAAC,UAAAM,KAAK;IAAA,OAAIC,UAAU,CAACnD,OAAO,EAAEkD,KAAK,CAAC;EAAA,EAAC;EAC/DlD,OAAO,CAACgD,YAAY,CAACJ,OAAO,CAAC,UAACR,GAAG,EAAEkB,KAAK,EAAK;IAC3CG,iBAAiB,CAACb,OAAO,CAAC,UAAAM,KAAK;MAAA,OAC7BC,UAAU,CAACf,GAAG,EAAEc,KAAK,EAAE,cAAc,EAAEI,KAAK,CAAC;IAAA,EAC9C;EACH,CAAC,CAAC;AACJ,CAAC;AAED,IAAMrf,QAAQ,GAAG,SAAXA,QAAQA,CAAG+I,CAAC;EAAA,OAAI,OAAOA,CAAC,KAAK,QAAQ;AAAA;AAC3C,IAAMgP,QAAQ,GAAG,SAAXA,QAAQA,CAAGhP,CAAC;EAAA,OAAI,OAAOA,CAAC,KAAK,QAAQ;AAAA;AAC3C,IAAM0W,QAAQ,GAAG,SAAXA,QAAQA,CAAG1W,CAAC;EAAA,OAAIA,CAAC,KAAK,IAAI,IAAI,OAAOA,CAAC,KAAK,QAAQ;AAAA;AACzD,IAAM5I,OAAO,GAAG,SAAVA,OAAOA,CAAG4I,CAAC;EAAA,OAAI0W,QAAQ,CAAC1W,CAAC,CAAC,IAAIA,CAAC,YAAYnJ,KAAK;AAAA;AAEtD,IAAMof,aAAa,GAAG,CACpB;EAACnO,IAAI,EAAE,SAAS;EAAE6O,KAAK,EAAE3H;AAAQ,CAAC,EAClC;EAAClH,IAAI,EAAE,WAAW;EAAE6O,KAAK,EAAEvf;AAAO,CAAC,EACnC;EAAC0Q,IAAI,EAAE,UAAU;EAAE6O,KAAK,EAAE3H,QAAQ;EAAE4H,UAAU,EAAE;AAAG,CAAC,EACpD;EAAC9O,IAAI,EAAE,cAAc;EAAE6O,KAAK,EAAE1f;AAAQ,CAAC,EACvC;EAAC6Q,IAAI,EAAE,aAAa;EAAE6O,KAAK,EAAED;AAAQ,CAAC,EACtC;EAAC5O,IAAI,EAAE,OAAO;EAAE6O,KAAK,EAAE3H;AAAQ,CAAC,EAChC;EAAClH,IAAI,EAAE,aAAa;EAAE6O,KAAK,EAAEvf;AAAO,CAAC,CACtC;AAED,IAAMgf,iBAAiB,GAAG,CACxB;EAACtO,IAAI,EAAE,SAAS;EAAE6O,KAAK,EAAE3H;AAAQ,CAAC,EAClC;EAAClH,IAAI,EAAE,OAAO;EAAE6O,KAAK,EAAE1f;AAAQ,CAAC,EAChC;EAAC6Q,IAAI,EAAE,aAAa;EAAE6O,KAAK,EAAE1f;AAAQ,CAAC,CACvC;AAED,IAAMof,iBAAiB,GAAG,CAAC;EAACvO,IAAI,EAAE,aAAa;EAAE6O,KAAK,EAAEvf;AAAO,CAAC,CAAC;AAEjE,IAAMmf,gBAAgB,GAAG,CACvB;EAACzO,IAAI,EAAE,SAAS;EAAE6O,KAAK,EAAE3H;AAAQ,CAAC,EAClC;EAAClH,IAAI,EAAE,OAAO;EAAE6O,KAAK,EAAE1f;AAAQ,CAAC,EAChC;EAAC6Q,IAAI,EAAE,KAAK;EAAE6O,KAAK,EAAE3H;AAAQ,CAAC,CAC/B;AAED,IAAMwH,kBAAkB,GAAG,CAAC;EAAC1O,IAAI,EAAE,cAAc;EAAE6O,KAAK,EAAEvf;AAAO,CAAC,CAAC;AAEnE,IAAMqf,iBAAiB,GAAG,CACxB;EAAC3O,IAAI,EAAE,SAAS;EAAE6O,KAAK,EAAE3H;AAAQ,CAAC,EAClC;EAAClH,IAAI,EAAE,OAAO;EAAE6O,KAAK,EAAE1f;AAAQ,CAAC,EAChC;EAAC6Q,IAAI,EAAE,KAAK;EAAE6O,KAAK,EAAE3H;AAAQ,CAAC,CAC/B;AAED,IAAMmH,UAAU,GAAG,SAAbA,UAAUA,CAAIU,GAAG,EAAEX,KAAK,EAAEY,IAAI,EAAER,KAAK,EAAK;EAC9C,IAAOxO,IAAI,GAAuBoO,KAAK,CAAhCpO,IAAI;IAAE6O,KAAK,GAAgBT,KAAK,CAA1BS,KAAK;IAAEC,UAAA,GAAcV,KAAK,CAAnBU,UAAA;EACpB,IAAIC,GAAG,CAAC/O,IAAI,CAAC,IAAI,IAAI,IAAI8O,UAAU,IAAI,IAAI,EAAEC,GAAG,CAAC/O,IAAI,CAAC,GAAG8O,UAAU;EACnE,IAAIC,GAAG,CAAC/O,IAAI,CAAC,IAAI,IAAI,EAAE,MAAMiP,iBAAiB,CAACjP,IAAI,EAAEgP,IAAI,EAAER,KAAK,CAAC;EACjE,IAAI,CAACK,KAAK,CAACE,GAAG,CAAC/O,IAAI,CAAC,CAAC,EAAE,MAAMkP,iBAAiB,CAAClP,IAAI,EAAEgP,IAAI,EAAER,KAAK,CAAC;AACnE,CAAC;AAED,IAAMW,cAAc,GAAG,SAAjBA,cAAcA,CAAIf,KAAK,EAAEY,IAAI,EAAER,KAAK,EAAK;EAC7C,IAAI,CAAC,CAACQ,IAAI,EACR,OAAOR,KAAK,IAAI,IAAI,MAAA1gB,MAAA,CAAMkhB,IAAK,OAAAlhB,MAAA,CAAGsgB,KAAM,OAAAtgB,MAAA,CAAOkhB,IAAK,OAAAlhB,MAAA,CAAG0gB,KAAM,OAAA1gB,MAAA,CAAGsgB,KAAM,CAAC;EACzE,OAAOA,KAAK;AACd,CAAC;AAED,IAAMa,iBAAiB,GAAG,SAApBA,iBAAiBA,CAAIb,KAAK,EAAEY,IAAI,EAAER,KAAK;EAAA,OAC3C,IAAI5X,KAAK,kBAAA9I,MAAA,CAAkBqhB,cAAc,CAACf,KAAK,EAAEY,IAAI,EAAER,KAAK,CAAE,CAAC,CAAC;AAAA;AAClE,IAAMU,iBAAiB,GAAG,SAApBA,iBAAiBA,CAAId,KAAK,EAAEY,IAAI,EAAER,KAAK;EAAA,OAC3C,IAAI5X,KAAK,kBAAA9I,MAAA,CAAkBqhB,cAAc,CAACf,KAAK,EAAEY,IAAI,EAAER,KAAK,CAAE,CAAC,CAAC;AAAA;ACtO3D,SAASY,iBAAiBA,CAACxf,EAAE,EAAE;EACpC;EACA,IAAIyf,MAAM,GAAG,IAAInhB,GAAG,CAAC0B,EAAE,CAAC+D,cAAc,CAAC;EACvC0b,MAAM,CAACC,GAAG,CAAC1f,EAAE,CAAC2f,QAAQ,CAAC;EACvB,IAAIxgB,KAAK,CAACO,OAAO,CAACM,EAAE,CAACiE,KAAK,CAAC,EAAE;IAC3BjE,EAAE,CAACiE,KAAK,CAACia,OAAO,CAAC,UAAA0B,CAAC;MAAA,OAAIH,MAAM,CAACI,MAAM,CAACD,CAAC,CAAC;IAAA,EAAC;EACzC,CAAC,MAAM;IACLH,MAAM,CAACI,MAAM,CAAC7f,EAAE,CAACiE,KAAK,CAAC;EACzB;EACA,OAAO9E,KAAK,CAACC,IAAI,CAACqgB,MAAM,CAAC;AAC3B;AAEO,SAASK,kBAAkBA,CAAC9f,EAAE,EAAE;EACrC;EACA,IAAI+f,OAAO,GAAG,IAAIzhB,GAAG,CAACa,KAAK,CAACO,OAAO,CAACM,EAAE,CAACiE,KAAK,CAAC,GAAGjE,EAAE,CAACiE,KAAK,GAAG,CAACjE,EAAE,CAACiE,KAAK,CAAC,CAAC;EACtE,OAAO9E,KAAK,CAACC,IAAI,CAAC2gB,OAAO,CAAC;AAC5B;AAEa,IAAAC,qBAAqB,GAAG,SAAxBA,qBAAqBA,CAAGhgB,EAAE,EAAI;EACzC,IAAMigB,gBAAgB,GAAG,SAAnBA,gBAAgBA,CAAA,EAAS;IAC7B,IAAMlc,cAAc,GAAG/D,EAAE,CAAC+D,cAAc,CACrC6J,GAAG,CAAC,UAAAsS,GAAG;MAAA,OAAIhH,UAAU,CAAClZ,EAAE,CAAC6D,QAAQ,CAACqc,GAAG,CAAC,CAAC9W,IAAI,CAAC;IAAA,EAAC,CAC7C9G,MAAM,CAAC,UAACU,IAAI,EAAEmd,OAAO,EAAK;MACzB,OAAOnd,IAAI,CAACkQ,IAAI,CAAC,UAAAkN,IAAI;QAAA,OAAIA,IAAI,KAAKD,OAAO;MAAA,EAAC,GAAGnd,IAAI,MAAA9E,MAAA,CAAAgQ,kBAAA,CAAOlL,IAAI,IAAEmd,OAAO,EAAC;KACvE,EAAE,EAAE,CAAC;IACR,OAAOpc,cAAc,CAAC,CAAC,CAAC,GAAGA,cAAc,GAAG,EAAE;GAC/C;EAED,IAAMsc,kBAAkB,GAAG,SAArBA,kBAAkBA,CAAA;IAAA,OACtBb,iBAAiB,CAACxf,EAAE,CAAC,CAAC4N,GAAG,CAAC,UAAA2C,EAAE;MAAA,OAAK;QAC/BxE,OAAO,EAAEmN,UAAU,CAAClZ,EAAE,CAAC6D,QAAQ,CAAC0M,EAAE,CAAC,CAACnH,IAAI,CAAC;QACzC9H,KAAK,EAAEtB,EAAE,CAAC6D,QAAQ,CAAC0M,EAAE,CAAC,CAACjP,KAAK;QAC5Boc,GAAG,EAAE1d,EAAE,CAAC6D,QAAQ,CAAC0M,EAAE,CAAC,CAACiM;MACvB,CAAC;IAAA,CAAC,CAAC;EAAA;EAEL,IAAM8D,mBAAmB,GAAG,SAAtBA,mBAAmBA,CAAA;IAAA,OACvBR,kBAAkB,CAAC9f,EAAE,CAAC,CAAC4N,GAAG,CAAC,UAAA2C,EAAE;MAAA,OAAK;QAChCxE,OAAO,EAAEmN,UAAU,CAAClZ,EAAE,CAAC6D,QAAQ,CAAC0M,EAAE,CAAC,CAACnH,IAAI,CAAC;QACzC9H,KAAK,EAAEtB,EAAE,CAAC6D,QAAQ,CAAC0M,EAAE,CAAC,CAACjP,KAAK;QAC5Boc,GAAG,EAAE1d,EAAE,CAAC6D,QAAQ,CAAC0M,EAAE,CAAC,CAACiM;MACvB,CAAC;IAAA,CAAC,CAAC;EAAA;EAEL,OAAO;IACL/E,OAAO,EAAEzX,EAAE,CAACoE,OAAO,CAACqT,OAAO;IAC3BsF,QAAQ,EAAE/c,EAAE,CAACoE,OAAO,CAAC2Y,QAAQ,IAAI,IAAI;IACrCC,YAAY,EAAEhd,EAAE,CAACoE,OAAO,CAAC4Y,YAAY;IACrCnb,SAAS,EAAE7B,EAAE,CAACoE,OAAO,CAACvC,SAAS,CAAC+L,GAAG,CAAC,UAAA2C,EAAE;MAAA,OAAIvQ,EAAE,CAAC6B,SAAS,CAAC0O,EAAE,CAAC,CAAClM,UAAU;IAAA,EAAC;IACtE4Y,WAAW,EAAE;MACXlR,OAAO,EAAEmN,UAAU,CAAClZ,EAAE,CAAC6D,QAAQ,CAAC7D,EAAE,CAAC2f,QAAQ,CAAC,CAACvW,IAAI,CAAC;MAClD9H,KAAK,EAAEtB,EAAE,CAAC6D,QAAQ,CAAC7D,EAAE,CAAC2f,QAAQ,CAAC,CAACre,KAAK;MACrC4b,WAAW,EAAEld,EAAE,CAAC6D,QAAQ,CAAC7D,EAAE,CAAC2f,QAAQ,CAAC,CAACzC;KACvC;IACDjZ,KAAK,EAAEiV,UAAU,CACflZ,EAAE,CAAC6D,QAAQ,CAAC1E,KAAK,CAACO,OAAO,CAACM,EAAE,CAACiE,KAAK,CAAC,GAAGjE,EAAE,CAACiE,KAAK,CAAC,CAAC,CAAC,GAAGjE,EAAE,CAACiE,KAAK,CAAC,CAACmF,IAAI,CACnE;IACD+T,WAAW,EAAE8C,gBAAgB,EAAE;IAC/BxC,WAAW,EAAE4C,kBAAkB,EAAE;IACjC/B,YAAY,EAAEgC,mBAAmB;GAClC;AACH;AAEa,IAAAC,aAAa,GAAG,SAAhBA,aAAaA,CAAGjF,OAAO,EAAI;EACtC,OAAOD,qBAAqB,CAACC,OAAO,CAAC;AACvC;AC5DA,IAAMkF,MAAI,GAAG,SAAPA,MAAIC,CAAGpf,IAAI;EAAA,UAAAnD,MAAA,CAAOgb,UAAU,CAAC7X,IAAI,CAAC+H,IAAI,CAAE,OAAAlL,MAAA,CAAGmD,IAAI,CAACC,KAAM;AAAA,CAAC;AAC7D,IAAMxB,IAAI,GAAG,SAAPA,IAAIA,CAAGwI,CAAC;EAAA,OAAI,OAAOA,CAAC,KAAK,UAAU;AAAA;AAElC,SAASoY,gBAAgBA,CAACrf,IAAI,EAAErB,EAAE,EAAE;EACzC,IAAI;IACF,OAAO;MACL2gB,MAAM,EAAE,aAAa;MACrBC,KAAK,EAAE,OAAO;MACdC,KAAK,EAAExf,IAAI,CAACU,IAAI;MAChB0V,OAAO,EAAEzX,EAAE,CAACoE,OAAO,CAACqT,OAAO;MAC3BzP,IAAI,EAAEhI,EAAE,CAACoE,OAAO,CAACvC,SAAS,CAAC+L,GAAG,CAAC,UAAApO,CAAC;QAAA,OAAIQ,EAAE,CAAC6B,SAAS,CAACrC,CAAC,CAAC,CAAC6E,UAAU;MAAA,EAAC;MAC/D0R,IAAI,EAAE,EAAE;MACRpX,WAAW,EAAEqB,EAAE;MACfsb,OAAO,EAAE0E,qBAAqB,CAAChgB,EAAE;KAClC;GACF,CAAC,OAAO8gB,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,kBAAkB,EAAEA,KAAK,CAAC;IACxC,MAAMA,KAAK;EACb;AACF;AAAA,SAEeE,eAAeA,CAAAC,IAAA,EAAAC,IAAA,EAAAC,IAAA;EAAA,OAAAC,gBAAA,CAAA5d,KAAA,OAAA3B,SAAA;AAAA;AAAA,SAAAuf,iBAAA;EAAAA,gBAAA,GAAA5e,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAA9B,SAAA2e,UAA+BrhB,EAAE,EAAE6D,QAAQ,EAAEyd,IAAI;IAAA,IAAAvH,KAAA;MAAAhW,cAAA;MAAAwd,UAAA;MAAAC,MAAA;MAAAC,KAAA;MAAAC,GAAA;MAAAC,OAAA,GAAA9f,SAAA;IAAA,OAAAY,mBAAA,GAAAI,IAAA,UAAA+e,WAAAC,UAAA;MAAA,kBAAAA,UAAA,CAAA7e,IAAA,GAAA6e,UAAA,CAAA5e,IAAA;QAAA;UAAE8W,KAAK,GAAA4H,OAAA,CAAA1iB,MAAA,QAAA0iB,OAAA,QAAA7f,SAAA,GAAA6f,OAAA,MAAG,CAAC;UAC1DpgB,WAAS,CAACwY,KAAK,EAAE,0CAA0C,EAAE;YAAC/Z,EAAE,EAAFA,EAAE;YAAE6D,QAAA,EAAAA;UAAQ,CAAC,CAAC;UAExEE,cAAc,GAAG,EAAE;UAAAwd,UAAA,GAAArhB,0BAAA,CACR2D,QAAQ;UAAAge,UAAA,CAAA7e,IAAA;UAAAye,KAAA,gBAAAhf,mBAAA,GAAAC,IAAA,UAAA+e,MAAA;YAAA,IAAAK,EAAA,EAAA5f,OAAA,EAAA6f,OAAA,EAAAC,UAAA,EAAAC,UAAA;YAAA,OAAAxf,mBAAA,GAAAI,IAAA,UAAAqf,OAAAC,UAAA;cAAA,kBAAAA,UAAA,CAAAnf,IAAA,GAAAmf,UAAA,CAAAlf,IAAA;gBAAA;kBAAd6e,EAAE,GAAAN,MAAA,CAAAhhB,KAAA;kBACL0B,OAAO,GAAG4f,EAAE,CAAC5f,OAAO;kBACxB4f,EAAE,CAAC5f,OAAO,GAAG,IAAI;kBACbwf,GAAG,GAAGJ,IAAI,IAAIQ,EAAE;kBAAA,KAChBhiB,IAAI,CAACoC,OAAO,CAAC;oBAAAigB,UAAA,CAAAlf,IAAA;oBAAA;kBAAA;kBAAAkf,UAAA,CAAAlf,IAAA;kBAAA,OAAaf,OAAO,CAAC4f,EAAE,EAAEpB,gBAAgB,CAACoB,EAAE,EAAE9hB,EAAE,CAAC,CAAC;gBAAA;kBAAhD8hB,EAAE,GAAAK,UAAA,CAAA9e,IAAA;gBAAA;kBAAA,KAEjBlE,KAAK,CAACO,OAAO,CAACoiB,EAAE,CAAC;oBAAAK,UAAA,CAAAlf,IAAA;oBAAA;kBAAA;kBAAAkf,UAAA,CAAAlf,IAAA;kBAAA,OACb+d,eAAe,CAAChhB,EAAE,EAAE8hB,EAAE,EAAEJ,GAAG,EAAE3H,KAAK,GAAG,CAAC,CAAC;gBAAA;kBAAAoI,UAAA,CAAAlf,IAAA;kBAAA;gBAAA;kBAE7C,IAAI6e,EAAE,CAAC1Y,IAAI,EAAE;oBACX0Y,EAAE,CAAC1Y,IAAI,GAAGC,UAAU,CAACyY,EAAE,CAAC1Y,IAAI,CAAC;kBAC/B;kBACA,IAAI0Y,EAAE,CAAC1Y,IAAI,IAAI,IAAI,IAAI0Y,EAAE,CAACxgB,KAAK,IAAI,IAAI,EAAE;oBACvCwgB,EAAE,CAAC9f,MAAM,GAAGwe,MAAI,CAACsB,EAAE,CAAC;kBACtB;kBACA9hB,EAAE,CAAC6D,QAAQ,CAACie,EAAE,CAAC9f,MAAM,CAAC,GAAGhC,EAAE,CAAC6D,QAAQ,CAACie,EAAE,CAAC9f,MAAM,CAAC,IAAI8f,EAAE;kBACrD9hB,EAAE,CAAC6D,QAAQ,CAACie,EAAE,CAAC9f,MAAM,CAAC,CAACD,IAAI,CAAC4d,QAAQ,GAClC3f,EAAE,CAAC6D,QAAQ,CAACie,EAAE,CAAC9f,MAAM,CAAC,CAACD,IAAI,CAAC4d,QAAQ,IAAImC,EAAE,CAAC/f,IAAI,CAAC4d,QAAQ;kBAC1D3f,EAAE,CAAC6D,QAAQ,CAACie,EAAE,CAAC9f,MAAM,CAAC,CAACD,IAAI,CAACkC,KAAK,GAC/BjE,EAAE,CAAC6D,QAAQ,CAACie,EAAE,CAAC9f,MAAM,CAAC,CAACD,IAAI,CAACkC,KAAK,IAAI6d,EAAE,CAAC/f,IAAI,CAACkC,KAAK;kBACpDjE,EAAE,CAAC6D,QAAQ,CAACie,EAAE,CAAC9f,MAAM,CAAC,CAACD,IAAI,CAACqb,UAAU,GACpCpd,EAAE,CAAC6D,QAAQ,CAACie,EAAE,CAAC9f,MAAM,CAAC,CAACD,IAAI,CAACqb,UAAU,IAAI0E,EAAE,CAAC/f,IAAI,CAACqb,UAAU;kBAE9D,IAAIpd,EAAE,CAAC6D,QAAQ,CAACie,EAAE,CAAC9f,MAAM,CAAC,CAACD,IAAI,CAAC4d,QAAQ,IAAI3f,EAAE,CAAC2f,QAAQ,KAAK+B,GAAG,CAAC1f,MAAM,EAAE;oBACtEhC,EAAE,CAAC2f,QAAQ,GAAGmC,EAAE,CAAC9f,MAAM;kBACzB;kBAAA,KAEIhC,EAAE,CAAC6D,QAAQ,CAACie,EAAE,CAAC9f,MAAM,CAAC,CAACD,IAAI,CAACkC,KAAK;oBAAAke,UAAA,CAAAlf,IAAA;oBAAA;kBAAA;kBACnC,IAAI9D,KAAK,CAACO,OAAO,CAACM,EAAE,CAACiE,KAAK,CAAC,EAAE;oBAC3BjE,EAAE,CAACiE,KAAK,GAAG9E,KAAK,CAACC,IAAI,CACnB,IAAId,GAAG,CACL,GAAAJ,MAAA,CAAAgQ,kBAAA,CAAIlO,EAAE,CAACiE,KAAK,IAAE6d,EAAE,CAAC9f,MAAM,GAAE4L,GAAG,CAAC,UAAApO,CAAC;sBAAA,OAC5BA,CAAC,KAAKkiB,GAAG,CAAC1f,MAAM,GAAG8f,EAAE,CAAC9f,MAAM,GAAGxC,CAAC;oBAAA,EACjC,CACF,CACF;kBACH,CAAC,MAAM;oBACLQ,EAAE,CAACiE,KAAK,GAAG9E,KAAK,CAACC,IAAI,CACnB,IAAId,GAAG,CACL,CAAC0B,EAAE,CAACiE,KAAK,EAAE6d,EAAE,CAAC9f,MAAM,CAAC,CAAC4L,GAAG,CAAC,UAAApO,CAAC;sBAAA,OAAKA,CAAC,KAAKkiB,GAAG,CAAC1f,MAAM,GAAG8f,EAAE,CAAC9f,MAAM,GAAGxC,CAAE;oBAAA,EAAC,CACnE,CACF;kBACH;kBAAA,MACIQ,EAAE,CAACiE,KAAK,CAAChF,MAAM,GAAG,CAAC;oBAAAkjB,UAAA,CAAAlf,IAAA;oBAAA;kBAAA;kBACrB;kBACM8e,OAAO,GAAG,EAAE;kBACZC,UAAU,GAAG,EAAE;kBACrBhiB,EAAE,CAACiE,KAAK,GAAGjE,EAAE,CAACiE,KAAK,CAAC3B,MAAM,CAAC,UAAC8f,CAAC,EAAEpgB,MAAM,EAAK;oBACxC,IAAOoH,IAAA,GAAQpJ,EAAE,CAAC6D,QAAQ,CAAC7B,MAAM,CAAC,CAA3BoH,IAAA;oBACP,IAAM7I,GAAG,GAAGigB,MAAI,CAACxgB,EAAE,CAAC6D,QAAQ,CAAC7B,MAAM,CAAC,CAAC;oBACrCggB,UAAU,CAAChe,IAAI,CAACoF,IAAI,CAAC;oBACrB,IAAI2Y,OAAO,CAACM,QAAQ,CAAC9hB,GAAG,CAAC,EAAE,OAAO6hB,CAAC;oBACnCL,OAAO,CAAC/d,IAAI,CAACzD,GAAG,CAAC;oBACjB,UAAArC,MAAA,CAAAgQ,kBAAA,CAAWkU,CAAC,IAAEpgB,MAAM;mBACrB,EAAE,EAAE,CAAC;kBACAigB,UAAU,GAAG9iB,KAAK,CAACC,IAAI,CAAC,IAAId,GAAG,CAAC0jB,UAAU,CAAC,CAAC;kBAAA,MAC9CC,UAAU,CAAChjB,MAAM,GAAG,CAAC;oBAAAkjB,UAAA,CAAAlf,IAAA;oBAAA;kBAAA;kBAAA,MACjB,IAAI+D,KAAK,CAAC,qCAAqC,CAAC;gBAAA;kBAK5D,IAAIhH,EAAE,CAAC6D,QAAQ,CAACie,EAAE,CAAC9f,MAAM,CAAC,CAACD,IAAI,CAACqb,UAAU,EAAE;oBAC1C,IAAIkE,IAAI,EAAE;sBACR;sBACAvd,cAAc,GAAG5E,KAAK,CAACC,IAAI,CAAC,IAAId,GAAG,IAAAJ,MAAA,CAAAgQ,kBAAA,CAAKnK,cAAc,IAAE+d,EAAE,CAAC9f,MAAM,EAAC,CAAC,CAAC;oBACtE,CAAC,MAAM;sBACL;sBACAhC,EAAE,CAAC+D,cAAc,GAAG/D,EAAE,CAAC+D,cAAc,CAAC6J,GAAG,CAAC,UAAApO,CAAC;wBAAA,OACzCA,CAAC,KAAKkiB,GAAG,CAAC1f,MAAM,GAAG8f,EAAE,CAAC9f,MAAM,GAAGxC,CAAC;sBAAA,EACjC;oBACH;kBACF;gBAAA;kBAEF,IAAIkiB,GAAG,CAAC1f,MAAM,IAAI8f,EAAE,CAAC9f,MAAM,EAAE,OAAOhC,EAAE,CAAC6D,QAAQ,CAAC6d,GAAG,CAAC1f,MAAM,CAAC;gBAAA;gBAAA;kBAAA,OAAAmgB,UAAA,CAAAze,IAAA;cAAA;YAAA,GAAA+d,KAAA;UAAA;UAAAF,UAAA,CAAAnhB,CAAA;QAAA;UAAA,KAAAohB,MAAA,GAAAD,UAAA,CAAAlhB,CAAA,IAAAC,IAAA;YAAAuhB,UAAA,CAAA5e,IAAA;YAAA;UAAA;UAAA,OAAA4e,UAAA,CAAAS,aAAA,CAAAb,KAAA;QAAA;UAAAI,UAAA,CAAA5e,IAAA;UAAA;QAAA;UAAA4e,UAAA,CAAA5e,IAAA;UAAA;QAAA;UAAA4e,UAAA,CAAA7e,IAAA;UAAA6e,UAAA,CAAA1e,EAAA,GAAA0e,UAAA;UAAAN,UAAA,CAAA5gB,CAAA,CAAAkhB,UAAA,CAAA1e,EAAA;QAAA;UAAA0e,UAAA,CAAA7e,IAAA;UAAAue,UAAA,CAAA3gB,CAAA;UAAA,OAAAihB,UAAA,CAAArI,MAAA;QAAA;UAG7D,IAAI8H,IAAI,EAAE;YACR;YACAthB,EAAE,CAAC+D,cAAc,GAAG/D,EAAE,CAAC+D,cAAc,CAClC6J,GAAG,CAAC,UAAApO,CAAC;cAAA,OAAKA,CAAC,KAAK8hB,IAAI,CAACtf,MAAM,GAAG+B,cAAc,GAAGvE,CAAE;YAAA,EAAC,CAClD8C,MAAM,CACL,UAACU,IAAI,EAAEuf,IAAI;cAAA,OACTpjB,KAAK,CAACO,OAAO,CAAC6iB,IAAI,CAAC,MAAArkB,MAAA,CAAAgQ,kBAAA,CAAOlL,IAAI,GAAAkL,kBAAA,CAAKqU,IAAI,QAAArkB,MAAA,CAAAgQ,kBAAA,CAAQlL,IAAI,IAAEuf,IAAI,EAAC;YAAA,GAC5D,EAAE,CACH;UACL;QAAA;QAAA;UAAA,OAAAV,UAAA,CAAAne,IAAA;MAAA;IAAA,GAAA2d,SAAA;EAAA,CACF;EAAA,OAAAD,gBAAA,CAAA5d,KAAA,OAAA3B,SAAA;AAAA;AAAA,SAEsB2gB,eAAeA,CAAAC,IAAA;EAAA,OAAAC,gBAAA,CAAAlf,KAAA,OAAA3B,SAAA;AAAA;AAAA,SAAA6gB,iBAAA;EAAAA,gBAAA,GAAAlgB,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAA9B,SAAAigB,UAA+B3iB,EAAE;IAAA,OAAAyC,mBAAA,GAAAI,IAAA,UAAA+f,WAAAC,UAAA;MAAA,kBAAAA,UAAA,CAAA7f,IAAA,GAAA6f,UAAA,CAAA5f,IAAA;QAAA;UAAA,KAClCuC,aAAa,CAACxF,EAAE,CAAC;YAAA6iB,UAAA,CAAA5f,IAAA;YAAA;UAAA;UACnB,IAAI,CAAC9D,KAAK,CAACO,OAAO,CAACM,EAAE,CAACiE,KAAK,CAAC,EAAE;YAC5BsF,GAAG,CAACC,SAAS,CAAC;cACZC,GAAG,EAAE,KAAK;cACVC,OAAO,EACL,iEAAiE;cACnEtF,OAAO,EAAE;YACX,CAAC,CAAC;UACJ;UAAAye,UAAA,CAAA7f,IAAA;UAAA6f,UAAA,CAAA5f,IAAA;UAAA,OAEQ+d,eAAe,CAAChhB,EAAE,EAAEzB,MAAM,CAACukB,MAAM,CAAC9iB,EAAE,CAAC6D,QAAQ,CAAC,CAAC;QAAA;UAAAgf,UAAA,CAAA5f,IAAA;UAAA,OAC/C+d,eAAe,CAAChhB,EAAE,EAAEzB,MAAM,CAACukB,MAAM,CAAC9iB,EAAE,CAAC6D,QAAQ,CAAC,CAAC;QAAA;UAAAgf,UAAA,CAAA5f,IAAA;UAAA;QAAA;UAAA4f,UAAA,CAAA7f,IAAA;UAAA6f,UAAA,CAAA3f,EAAA,GAAA2f,UAAA;UAErD9B,OAAO,CAACD,KAAK,CAAC,uBAAuB,EAAA+B,UAAA,CAAA3f,EAAA,EAAS,uBAAuB,CAAC;UAAA,MAAA2f,UAAA,CAAA3f,EAAA;QAAA;UAAA,OAAA2f,UAAA,CAAAtf,MAAA,WAInEvD,EAAE;QAAA;QAAA;UAAA,OAAA6iB,UAAA,CAAAnf,IAAA;MAAA;IAAA,GAAAif,SAAA;EAAA,CACX;EAAA,OAAAD,gBAAA,CAAAlf,KAAA,OAAA3B,SAAA;AAAA;AAAA,SC/HsBkhB,iBAAiBA,CAAAC,IAAA;EAAA,OAAAC,kBAAA,CAAAzf,KAAA,OAAA3B,SAAA;AAAA;AAAA,SAAAohB,mBAAA;EAAAA,kBAAA,GAAAzgB,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAAhC,SAAAwgB,UAAiCljB,EAAE;IAAA,IAAAmjB,aAAA,EAAAC,aAAA,EAAAC,cAAA,EAAAC,cAAA;IAAA,OAAA7gB,mBAAA,GAAAI,IAAA,UAAA0gB,WAAAC,UAAA;MAAA,kBAAAA,UAAA,CAAAxgB,IAAA,GAAAwgB,UAAA,CAAAvgB,IAAA;QAAA;UAAA,KACpCuC,aAAa,CAACxF,EAAE,CAAC;YAAAwjB,UAAA,CAAAvgB,IAAA;YAAA;UAAA;UAAAugB,UAAA,CAAAxgB,IAAA;UAEbmgB,aAAa,GAAG3D,iBAAiB,CAACxf,EAAE,CAAC;UACnCojB,aAAa,GAAGtI,wBAAmB,CAAC2I,eAAe,CAACzjB,EAAE,CAAC,CAAC;UAAAwjB,UAAA,CAAAvgB,IAAA;UAAA,OACxDyK,OAAO,CAACC,GAAG,CAACwV,aAAa,CAACvV,GAAG,CAAC8V,cAAc,CAAC1jB,EAAE,EAAEojB,aAAa,CAAC,CAAC,CAAC;QAAA;UAEnEC,cAAc,GAAGvD,kBAAkB,CAAC9f,EAAE,CAAC;UACrCsjB,cAAc,GAAGnI,yBAAoB,CAAAzZ,aAAA,CAAAA,aAAA,KACtC+hB,eAAe,CAACzjB,EAAE,CAAC;YACtByd,WAAW,EAAE0F,aAAa,CAACvV,GAAG,CAAC,UAAA2C,EAAE;cAAA,OAAK;gBACpCxE,OAAO,EAAE/L,EAAE,CAAC6D,QAAQ,CAAC0M,EAAE,CAAC,CAACnH,IAAI;gBAC7B9H,KAAK,EAAEtB,EAAE,CAAC6D,QAAQ,CAAC0M,EAAE,CAAC,CAACjP,KAAK;gBAC5Boc,GAAG,EAAE1d,EAAE,CAAC6D,QAAQ,CAAC0M,EAAE,CAAC,CAACiM;cACvB,CAAC;YAAA,CAAC;UAAA,EACH,CAAC;UAAAgH,UAAA,CAAAvgB,IAAA;UAAA,OACIyK,OAAO,CAACC,GAAG,CAAC0V,cAAc,CAACzV,GAAG,CAAC8V,cAAc,CAAC1jB,EAAE,EAAEsjB,cAAc,CAAC,CAAC,CAAC;QAAA;UAAAE,UAAA,CAAAvgB,IAAA;UAAA;QAAA;UAAAugB,UAAA,CAAAxgB,IAAA;UAAAwgB,UAAA,CAAAtgB,EAAA,GAAAsgB,UAAA;UAEzEzC,OAAO,CAACD,KAAK,CAAC,YAAY,EAAA0C,UAAA,CAAAtgB,EAAA,EAAS;YAAClD,EAAA,EAAAA;UAAE,CAAC,CAAC;UAAA,MAAAwjB,UAAA,CAAAtgB,EAAA;QAAA;UAAA,OAAAsgB,UAAA,CAAAjgB,MAAA,WAIrCvD,EAAE;QAAA;QAAA;UAAA,OAAAwjB,UAAA,CAAA9f,IAAA;MAAA;IAAA,GAAAwf,SAAA;EAAA,CACX;EAAA,OAAAD,kBAAA,CAAAzf,KAAA,OAAA3B,SAAA;AAAA;AAEA,SAAS6hB,cAAcA,CAAC1jB,EAAE,EAAE6V,OAAO,EAAE;EACnC;IAAA,IAAA8N,oBAAA,GAAAnhB,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAAO,SAAAkhB,UAAmCrT,EAAE;MAAA,IAAAlP,IAAA,EAAAwiB,qBAAA,EAAArH,SAAA;MAAA,OAAA/Z,mBAAA,GAAAI,IAAA,UAAAihB,WAAAC,UAAA;QAAA,kBAAAA,UAAA,CAAA/gB,IAAA,GAAA+gB,UAAA,CAAA9gB,IAAA;UAAA;YACpC5B,IAAI,GAAGrB,EAAE,CAAC6D,QAAQ,CAAC0M,EAAE,CAAC;YAAA,MACxBlP,IAAI,CAACmb,SAAS,IAAI,IAAI;cAAAuH,UAAA,CAAA9gB,IAAA;cAAA;YAAA;YAAA,OAAA8gB,UAAA,CAAAxgB,MAAA;UAAA;YAAAwgB,UAAA,CAAA9gB,IAAA;YAAA,OACA5B,IAAI,CAAC2iB,eAAe,CAC5CC,aAAa,CAAC5iB,IAAI,EAAEwU,OAAO,EAAE7V,EAAE,CAAC,CACjC;UAAA;YAAA6jB,qBAAA,GAAAE,UAAA,CAAA1gB,IAAA;YAFMmZ,SAAA,GAAAqH,qBAAA,CAAArH,SAAA;YAGPxc,EAAE,CAAC6D,QAAQ,CAAC0M,EAAE,CAAC,CAACiM,SAAS,GAAGA,SAAS;UAAA;UAAA;YAAA,OAAAuH,UAAA,CAAArgB,IAAA;QAAA;MAAA,GAAAkgB,SAAA;IAAA,CACtC;IAAA,SAPqBM,mBAAmBA,CAAAC,IAAA;MAAA,OAAAR,oBAAA,CAAAngB,KAAA,OAAA3B,SAAA;IAAA;IAAA,OAAnBqiB,mBAAmB;EAAA;AAQ3C;AAEO,SAASD,aAAaA,CAAC5iB,IAAI,EAAE+C,OAAO,EAAEpE,EAAE,EAAE;EAC/C,IAAI;IACF,OAAO;MACL2gB,MAAM,EAAE,UAAU;MAClBC,KAAK,EAAE,OAAO;MACdxc,OAAO,EAAPA,OAAO;MACPgF,IAAI,EAAEC,UAAU,CAAChI,IAAI,CAAC+H,IAAI,CAAC;MAC3B9H,KAAK,EAAED,IAAI,CAACC,KAAK;MACjBuf,KAAK,EAAExf,IAAI,CAACU,IAAI;MAChB0V,OAAO,EAAEzX,EAAE,CAACoE,OAAO,CAACqT,OAAO;MAC3BzP,IAAI,EAAEhI,EAAE,CAACoE,OAAO,CAACvC,SAAS,CAAC+L,GAAG,CAAC,UAAApO,CAAC;QAAA,OAAIQ,EAAE,CAAC6B,SAAS,CAACrC,CAAC,CAAC,CAAC6E,UAAU;MAAA,EAAC;MAC/D0R,IAAI,EAAE,EAAE;MACRpX,WAAW,EAAEqB,EAAE;MACfsb,OAAO,EAAE0E,qBAAqB,CAAChgB,EAAE;KAClC;GACF,CAAC,OAAO8gB,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,eAAe,EAAEA,KAAK,CAAC;IACrC,MAAMA,KAAK;EACb;AACF;AAEA,SAAS2C,eAAeA,CAACzjB,EAAE,EAAE;EAC3B,IAAMokB,YAAY,GAAG/a,UAAU,CAC7B,CAAClK,KAAK,CAACO,OAAO,CAACM,EAAE,CAACiE,KAAK,CAAC,GAAGjE,EAAE,CAAC6D,QAAQ,CAAC7D,EAAE,CAACiE,KAAK,CAAC,CAAC,CAAC,CAAC,GAAGjE,EAAE,CAAC6D,QAAQ,CAAC7D,EAAE,CAACiE,KAAK,CAAC,EACxEmF,IAAI,CACR;EACD,OAAO;IACLqO,OAAO,EAAEzX,EAAE,CAACoE,OAAO,CAACqT,OAAO;IAC3BsF,QAAQ,EAAE/c,EAAE,CAACoE,OAAO,CAAC2Y,QAAQ,IAAI,IAAI;IACrCC,YAAY,EAAEhd,EAAE,CAACoE,OAAO,CAAC4Y,YAAY;IACrCnb,SAAS,EAAE7B,EAAE,CAACoE,OAAO,CAACvC,SAAS,CAAC+L,GAAG,CAAC,UAAA2C,EAAE;MAAA,OAAIvQ,EAAE,CAAC6B,SAAS,CAAC0O,EAAE,CAAC,CAAClM,UAAU;IAAA,EAAC;IACtE4Y,WAAW,EAAE;MACXlR,OAAO,EAAE1C,UAAU,CAACrJ,EAAE,CAAC6D,QAAQ,CAAC7D,EAAE,CAAC2f,QAAQ,CAAC,CAACvW,IAAI,CAAC;MAClD9H,KAAK,EAAEtB,EAAE,CAAC6D,QAAQ,CAAC7D,EAAE,CAAC2f,QAAQ,CAAC,CAACre,KAAK;MACrC4b,WAAW,EAAEld,EAAE,CAAC6D,QAAQ,CAAC7D,EAAE,CAAC2f,QAAQ,CAAC,CAACzC;KACvC;IACDjZ,KAAK,EAAEmgB,YAAY;IACnBjH,WAAW,EAAEnd,EAAE,CAAC+D,cAAc,CAC3B6J,GAAG,CAAC,UAAAsS,GAAG;MAAA,OAAI7W,UAAU,CAACrJ,EAAE,CAAC6D,QAAQ,CAACqc,GAAG,CAAC,CAAC9W,IAAI,CAAC;IAAA,EAAC,CAC7C9G,MAAM,CAAC,UAACU,IAAI,EAAEmd,OAAO,EAAK;MACzB,OAAOnd,IAAI,CAACkQ,IAAI,CAAC,UAAAkN,IAAI;QAAA,OAAIA,IAAI,KAAKD,OAAO;MAAA,EAAC,GAAGnd,IAAI,MAAA9E,MAAA,CAAAgQ,kBAAA,CAAOlL,IAAI,IAAEmd,OAAO,EAAC;IACxE,CAAC,EAAE,EAAE;GACR;AACH;AAAA,SCzFsBkE,iBAAiBA,CAAAC,IAAA;EAAA,OAAAC,kBAAA,CAAA/gB,KAAA,OAAA3B,SAAA;AAAA;AAAA,SAAA0iB,mBAAA;EAAAA,kBAAA,GAAA/hB,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAAhC,SAAA8hB,UAAiCxkB,EAAE;IAAA,IAAAykB,UAAA;IAAA,OAAAhiB,mBAAA,GAAAI,IAAA,UAAA6hB,WAAAC,UAAA;MAAA,kBAAAA,UAAA,CAAA3hB,IAAA,GAAA2hB,UAAA,CAAA1hB,IAAA;QAAA;UAClCwhB,UAAU,GAAGlc,GAAG,CAACvI,EAAE,EAAE,eAAe,EAAE,EAAE,CAAC;UAAA,OAAA2kB,UAAA,CAAAphB,MAAA,WACxCuE,IAAI,CACT9H,EAAE,EACFykB,UAAU,CAAC7W,GAAG,CAAC,UAAAgX,EAAE;YAAA,OAAI,UAAA5kB,EAAE;cAAA,OAAI4kB,EAAE,CAAC5kB,EAAE,EAAE;gBAACa,EAAE,EAAFA,EAAE;gBAAEE,GAAA,EAAAA;eAAI,CAAC;YAAA;UAAA,EAAC,CAC9C;QAAA;QAAA;UAAA,OAAA4jB,UAAA,CAAAjhB,IAAA;MAAA;IAAA,GAAA8gB,SAAA;EAAA,CACH;EAAA,OAAAD,kBAAA,CAAA/gB,KAAA,OAAA3B,SAAA;AAAA;AAAA,SCNsBgjB,yBAAyBA,CAAAC,IAAA;EAAA,OAAAC,0BAAA,CAAAvhB,KAAA,OAAA3B,SAAA;AAAA;AAAA,SAAAkjB,2BAAA;EAAAA,0BAAA,GAAAviB,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAAxC,SAAAsiB,UAAyChlB,EAAE;IAAA,IAAAilB,GAAA,EAAAC,aAAA,EAAA3kB,GAAA;IAAA,OAAAkC,mBAAA,GAAAI,IAAA,UAAAsiB,WAAAC,UAAA;MAAA,kBAAAA,UAAA,CAAApiB,IAAA,GAAAoiB,UAAA,CAAAniB,IAAA;QAAA;UAChD,KAAAgiB,GAAA,MAAAC,aAAA,GAAgB3mB,MAAM,CAACC,IAAI,CAACwB,EAAE,CAAC6D,QAAQ,CAAC,EAAAohB,GAAA,GAAAC,aAAA,CAAAjmB,MAAA,EAAAgmB,GAAA,IAAE;YAAjC1kB,GAAG,GAAA2kB,aAAA,CAAAD,GAAA;YACVjlB,EAAE,CAAC6D,QAAQ,CAACtD,GAAG,CAAC,CAAC6I,IAAI,GAAGC,UAAU,CAACrJ,EAAE,CAAC6D,QAAQ,CAACtD,GAAG,CAAC,CAAC6I,IAAI,CAAC;UAC3D;UAAA,OAAAgc,UAAA,CAAA7hB,MAAA,WACOvD,EAAE;QAAA;QAAA;UAAA,OAAAolB,UAAA,CAAA1hB,IAAA;MAAA;IAAA,GAAAshB,SAAA;EAAA,CACX;EAAA,OAAAD,0BAAA,CAAAvhB,KAAA,OAAA3B,SAAA;AAAA;AAAA,SCJsBwjB,uBAAuBA,CAAAC,IAAA;EAAA,OAAAC,wBAAA,CAAA/hB,KAAA,OAAA3B,SAAA;AAAA;AAAA,SAAA0jB,yBAAA;EAAAA,wBAAA,GAAA/iB,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAAtC,SAAA8iB,UAAuCxlB,EAAE;IAAA,IAAA4C,EAAA;IAAA,OAAAH,mBAAA,GAAAI,IAAA,UAAA4iB,WAAAC,UAAA;MAAA,kBAAAA,UAAA,CAAA1iB,IAAA,GAAA0iB,UAAA,CAAAziB,IAAA;QAAA;UACxCL,EAAE,GAAG2F,GAAG,CAACvI,EAAE,EAAE,sBAAsB,CAAC;UAAA,KACtCH,MAAI,CAAC+C,EAAE,CAAC;YAAA8iB,UAAA,CAAAziB,IAAA;YAAA;UAAA;UAAAyiB,UAAA,CAAAziB,IAAA;UAAA,OACJL,EAAE,CAACod,qBAAqB,CAAChgB,EAAE,CAAC,CAAC;QAAA;UAAA,OAAA0lB,UAAA,CAAAniB,MAAA,WAE9BvD,EAAE;QAAA;QAAA;UAAA,OAAA0lB,UAAA,CAAAhiB,IAAA;MAAA;IAAA,GAAA8hB,SAAA;EAAA,CACX;EAAA,OAAAD,wBAAA,CAAA/hB,KAAA,OAAA3B,SAAA;AAAA;ACLA,IAAM8jB,qBAAqB,GAAG,GAAG;AAAA,SAEXC,mBAAmBA,CAAAC,IAAA;EAAA,OAAAC,oBAAA,CAAAtiB,KAAA,OAAA3B,SAAA;AAAA;AAAA,SAAAikB,qBAAA;EAAAA,oBAAA,GAAAtjB,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAAlC,SAAAqjB,UAAmC/lB,EAAE;IAAA,OAAAyC,mBAAA,GAAAI,IAAA,UAAAmjB,WAAAC,UAAA;MAAA,kBAAAA,UAAA,CAAAjjB,IAAA,GAAAijB,UAAA,CAAAhjB,IAAA;QAAA;UAAA,KACtCuC,aAAa,CAACxF,EAAE,CAAC;YAAAimB,UAAA,CAAAhjB,IAAA;YAAA;UAAA;UAAAgjB,UAAA,CAAA/iB,EAAA,GAEjBlD,EAAE,CAACoE,OAAO,CAAC4Y,YAAY;UAAA,IAAAiJ,UAAA,CAAA/iB,EAAA;YAAA+iB,UAAA,CAAAhjB,IAAA;YAAA;UAAA;UAAAgjB,UAAA,CAAAhjB,IAAA;UAAA,OAAWwV,MAAM,CAAClQ,GAAG,CAAC,WAAW,CAAC;QAAA;UAAA0d,UAAA,CAAA/iB,EAAA,GAAA+iB,UAAA,CAAA5iB,IAAA;QAAA;UAD3DrD,EAAE,CAACoE,OAAO,CAAC4Y,YAAY,GAAAiJ,UAAA,CAAA/iB,EAAA;UAGvB,IAAI,CAAClD,EAAE,CAACoE,OAAO,CAAC4Y,YAAY,EAAE;YAC5B7D,MAAM,CAAC5P,GAAG,CAACC,SAAS,CAAC;cACnBC,GAAG,EAAE,SAAS;cACdC,OAAO,EACL,+DAA+D;cACjEC,UAAU,EACR;YACJ,CAAC,CAAC;YACF3J,EAAE,CAACoE,OAAO,CAAC4Y,YAAY,GAAG2I,qBAAqB;UACjD;QAAA;UAAA,OAAAM,UAAA,CAAA1iB,MAAA,WAEKvD,EAAE;QAAA;QAAA;UAAA,OAAAimB,UAAA,CAAAviB,IAAA;MAAA;IAAA,GAAAqiB,SAAA;EAAA,CACX;EAAA,OAAAD,oBAAA,CAAAtiB,KAAA,OAAA3B,SAAA;AAAA;ACFA,IAAMqkB,IAAI,GAAG,SAAPA,IAAIA,CAAG5d,CAAC;EAAA,OAAIA,CAAC;AAAA;AACnB,IAAM6d,KAAK,GACT,SADIA,KAAKA,CACR5lB,GAAG;EAAA,IAAEqC,EAAE,GAAAf,SAAA,CAAA5C,MAAA,QAAA4C,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAGqkB,IAAI;EAAA;IAAA,IAAAE,MAAA,GAAA5jB,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CACf,SAAA2jB,UAAMrmB,EAAE;MAAA,IAAAsmB,KAAA,EAAA/c,GAAA;MAAA,OAAA9G,mBAAA,GAAAI,IAAA,UAAA0jB,WAAAC,UAAA;QAAA,kBAAAA,UAAA,CAAAxjB,IAAA,GAAAwjB,UAAA,CAAAvjB,IAAA;UAAA;YAMAqjB,KAAK,GAAG,SAARA,KAAKA,CAAGtmB,EAAE;cAAA,OACd,CACE,aAAa,EACb;gBACE2f,QAAQ,EAAE3f,EAAE,CAAC2f,QAAQ;gBACrB5b,cAAc,EAAE/D,EAAE,CAAC+D,cAAc;gBACjCE,KAAK,EAAEjE,EAAE,CAACiE;eACX,EACD,cAAc,EACdjE,EAAE,CAAC6D,QAAQ,CACZ,CAAC0Q,MAAM,CAACkS,OAAO,CAAC;YAAA;YAEbld,GAAG,GAAG,SAANA,GAAGA,CAAA,EAAe;cAAA,IAAAmd,QAAA;cAAA,SAAAvkB,IAAA,GAAAN,SAAA,CAAA5C,MAAA,EAARyd,GAAG,OAAAvd,KAAA,CAAAgD,IAAA,GAAAE,IAAA,MAAAA,IAAA,GAAAF,IAAA,EAAAE,IAAA;gBAAHqa,GAAG,CAAAra,IAAA,IAAAR,SAAA,CAAAQ,IAAA;cAAA;cACjB,CAAAqkB,QAAA,GAAA3F,OAAO,EAACxX,GAAG,CAAA/F,KAAA,CAAAkjB,QAAA,YAAAxoB,MAAA,CAAUqC,GAAI,cAAArC,MAAA,CAAawe,GAAG,GAAE,WAAW,GAAC;aACxD;YAAA8J,UAAA,CAAAvjB,IAAA;YAAA,OAESwV,MAAM,CAAClQ,GAAG,UAAArK,MAAA,CAAUqC,GAAI,CAAC,CAAC;UAAA;YAAA,KAAAimB,UAAA,CAAAnjB,IAAA;cAAAmjB,UAAA,CAAAvjB,IAAA;cAAA;YAAA;YAAAujB,UAAA,CAAAvjB,IAAA;YAAA,OAAQL,EAAE,CAAC5C,EAAE,EAAEuJ,GAAG,EAAE+c,KAAK,CAAC;UAAA;YAAA,OAAAE,UAAA,CAAAjjB,MAAA,WACvDvD,EAAE;UAAA;UAAA;YAAA,OAAAwmB,UAAA,CAAA9iB,IAAA;QAAA;MAAA,GAAA2iB,SAAA;IAAA,CACV;IAAA,iBAAAM,IAAA;MAAA,OAAAP,MAAA,CAAA5iB,KAAA,OAAA3B,SAAA;IAAA;EAAA;AAAA;AAEU,IAAAK,OAAO,GAAG4F,IAAI,CAAC,CAC1BgQ,cAAc,EACdqO,KAAK,CAAC,SAAS,EAAE,UAACnmB,EAAE,EAAEuJ,GAAG;EAAA,OAAKA,GAAG,CAACvJ,EAAE,CAACoE,OAAO,CAACqT,OAAO,CAAC;AAAA,EAAC,EACtDmO,mBAAmB,EACnBO,KAAK,CAAC,eAAe,EAAE,UAACnmB,EAAE,EAAEuJ,GAAG;EAAA,OAAKA,GAAG,CAACvJ,EAAE,CAACoE,OAAO,CAAC4Y,YAAY,CAAC;AAAA,EAAC,EACjE5C,gBAAgB,EAChB+L,KAAK,CAAC,WAAW,EAAE,UAACnmB,EAAE,EAAEuJ,GAAG;EAAA,OAAKA,GAAG,CAACvJ,EAAE,CAACoE,OAAO,CAACvC,SAAS,EAAE7B,EAAE,CAACoE,OAAO,CAAC;AAAA,EAAC,EACtEoe,eAAe,EACf2D,KAAK,CAAC,UAAU,EAAE,UAACnmB,EAAE,EAAEuJ,GAAG,EAAE+c,KAAK;EAAA,OAAK/c,GAAG,CAAA/F,KAAA,SAAA0K,kBAAA,CAAIoY,KAAK,CAACtmB,EAAE,CAAC,EAAC;AAAA,EAAC,eAC1C4mB,YAAY,eACZC,uBAAuB,EACrC9D,iBAAiB,EACjBoD,KAAK,CAAC,YAAY,EAAE,UAACnmB,EAAE,EAAEuJ,GAAG,EAAE+c,KAAK;EAAA,OAAK/c,GAAG,CAAA/F,KAAA,SAAA0K,kBAAA,CAAIoY,KAAK,CAACtmB,EAAE,CAAC,EAAC;AAAA,EAAC,EAC1D6kB,yBAAyB,EACzBR,iBAAiB,EACjBgB,uBAAuB,EACvBc,KAAK,CAAC,UAAU,EAAE,UAACnmB,EAAE,EAAEuJ,GAAG;EAAA,OAAKA,GAAG,CAACvJ,EAAE,CAAC;AAAA,EAAC,CACxC;AAAC,SAEa4mB,YAAYA,CAAAE,IAAA;EAAA,OAAAC,aAAA,CAAAvjB,KAAA,OAAA3B,SAAA;AAAA;AAAA,SAAAklB,cAAA;EAAAA,aAAA,GAAAvkB,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAA3B,SAAAskB,UAA4BhnB,EAAE;IAAA,IAAAinB,IAAA,EAAAC,MAAA;IAAA,OAAAzkB,mBAAA,GAAAI,IAAA,UAAAskB,WAAAC,UAAA;MAAA,kBAAAA,UAAA,CAAApkB,IAAA,GAAAokB,UAAA,CAAAnkB,IAAA;QAAA;UAAA,MACxBuC,aAAa,CAACxF,EAAE,CAAC,IAAIA,EAAE,CAACoE,OAAO,CAAC2Y,QAAQ,IAAI,IAAI;YAAAqK,UAAA,CAAAnkB,IAAA;YAAA;UAAA;UAAAmkB,UAAA,CAAAnkB,IAAA;UAAA,OAC/BwV,MAAM,EAAE,CAAClQ,GAAG,CAAC,gBAAgB,CAAC;QAAA;UAA3C0e,IAAI,GAAAG,UAAA,CAAA/jB,IAAA;UAAA+jB,UAAA,CAAAnkB,IAAA;UAAA,OACWwV,MAAM,CAAC4O,KAAK,CAC/B,CAAC,eAAe,EAAE,UAAU,CAAC,EAC7BC,MAAW,CACZ;QAAA;UAHKJ,MAAM,GAAAE,UAAA,CAAA/jB,IAAA;UAKZ9B,WAAS,CACP2lB,MAAM,qEAAAhpB,MAAA,CAC6D,kGAAmG,CAAC,CACxK;UAAAkpB,UAAA,CAAAnkB,IAAA;UAAA,OAGOikB,MAAM,CACVre,KAAK,CAAC,CAACG,QAAQ,EAAE,CAAC,CAAC,EACnB;YAACyP,MAAM,EAANA,MAAM;YAAE1P,QAAQ,EAARA,QAAQ;YAAE4S,MAAM,EAANA,MAAM;YAAE3b,EAAE,EAAEunB;UAAQ,CAAC,EACxC;YAACN,IAAA,EAAAA;UAAI,CAAC,CACP,CAACtO,IAAI,CAAC/D,cAAM,CAAC;QAAA;UALhB5U,EAAE,CAACoE,OAAO,CAAC2Y,QAAQ,GAAAqK,UAAA,CAAA/jB,IAAA,CAMjBkN,EAAE;QAAA;UAAA,OAAA6W,UAAA,CAAA7jB,MAAA,WAECvD,EAAE;QAAA;QAAA;UAAA,OAAAonB,UAAA,CAAA1jB,IAAA;MAAA;IAAA,GAAAsjB,SAAA;EAAA,CACX;EAAA,OAAAD,aAAA,CAAAvjB,KAAA,OAAA3B,SAAA;AAAA;AAAA,SAEeglB,uBAAuBA,CAAAW,IAAA;EAAA,OAAAC,wBAAA,CAAAjkB,KAAA,OAAA3B,SAAA;AAAA;AAAA,SAAA4lB,yBAAA;EAAAA,wBAAA,GAAAjlB,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAAtC,SAAAglB,UAAuC1nB,EAAE;IAAA,IAAAqB,IAAA,EAAA4lB,IAAA,EAAAC,MAAA;IAAA,OAAAzkB,mBAAA,GAAAI,IAAA,UAAA8kB,WAAAC,UAAA;MAAA,kBAAAA,UAAA,CAAA5kB,IAAA,GAAA4kB,UAAA,CAAA3kB,IAAA;QAAA;UAAA,KACnCuC,aAAa,CAACxF,EAAE,CAAC;YAAA4nB,UAAA,CAAA3kB,IAAA;YAAA;UAAA;UACf5B,IAAI,GAAG9C,MAAM,CAACukB,MAAM,CAAC9iB,EAAE,CAAC6D,QAAQ,CAAC,CAACqP,IAAI,CAAC,UAAA2K,CAAC;YAAA,OAAIA,CAAC,CAAC9b,IAAI,CAAC4d,QAAQ;UAAA,EAAC;UAChEpe,WAAS,CAACF,IAAI,mCAAmC,CAAC;UAAA,MAC9CA,IAAI,CAAC6b,WAAW,IAAI,IAAI;YAAA0K,UAAA,CAAA3kB,IAAA;YAAA;UAAA;UAAA2kB,UAAA,CAAA3kB,IAAA;UAAA,OACPwV,MAAM,EAAE,CAAClQ,GAAG,CAAC,gBAAgB,CAAC;QAAA;UAA3C0e,IAAI,GAAAW,UAAA,CAAAvkB,IAAA;UAAAukB,UAAA,CAAA3kB,IAAA;UAAA,OACWwV,MAAM,CAAC4O,KAAK,CAC/B,CAAC,eAAe,EAAE,UAAU,CAAC,EAC7BC,MAAW,CACZ;QAAA;UAHKJ,MAAM,GAAAU,UAAA,CAAAvkB,IAAA;UAKZ9B,WAAS,CACP2lB,MAAM,qEAAAhpB,MAAA,CAC6D,kGAAmG,CAAC,CACxK;UAAA0pB,UAAA,CAAA1kB,EAAA,GAE4CgkB,MAAM;UAAAU,UAAA,CAAA3kB,IAAA;UAAA,OAC3C4F,KAAK,CAAC,CAACM,UAAU,CAAC9H,IAAI,CAAC+H,IAAI,CAAC,CAAC,CAAC;QAAA;UAAAwe,UAAA,CAAAzkB,EAAA,GAAAykB,UAAA,CAAAvkB,IAAA;UAAAukB,UAAA,CAAAxkB,EAAA,GACpC;YAACqV,MAAM,EAANA,MAAM;YAAE1P,QAAQ,EAARA,QAAQ;YAAE4S,MAAM,EAANA,MAAM;YAAE3b,EAAE,EAAEunB;UAAQ,CAAC;UAAAK,UAAA,CAAAtkB,EAAA,GACxC;YAAC2jB,IAAA,EAAAA;UAAI,CAAC;UAAAW,UAAA,CAAA3kB,IAAA;UAAA,WAAA2kB,UAAA,CAAA1kB,EAAA,EAAA0kB,UAAA,CAAAzkB,EAAA,EAAAykB,UAAA,CAAAxkB,EAAA,EAAAwkB,UAAA,CAAAtkB,EAAA,EAELqV,IAAI,CAAC/D,cAAM,EACX+D,IAAI,CAAC,UAAAtX,IAAI;YAAA,OAAIA,IAAI,CAAC7C,IAAI;UAAA,GACtBma,IAAI,CAAC,UAAAna,IAAI;YAAA,OAAIA,IAAI,CAAC0U,IAAI,CAAC,UAAA3S,GAAG;cAAA,OAAIA,GAAG,CAACqe,KAAK,KAAKvd,IAAI,CAACC,KAAK;YAAA,EAAC;UAAA,GACvDqX,IAAI,CAAC,UAAApY,GAAG;YAAA,OAAIA,GAAG,CAACsnB,cAAc;UAAA;QAAA;UARjC7nB,EAAE,CAAC6D,QAAQ,CAACxC,IAAI,CAACW,MAAM,CAAC,CAACkb,WAAW,GAAA0K,UAAA,CAAAvkB,IAAA;QAAA;UAAA,OAAAukB,UAAA,CAAArkB,MAAA,WAWjCvD,EAAE;QAAA;QAAA;UAAA,OAAA4nB,UAAA,CAAAlkB,IAAA;MAAA;IAAA,GAAAgkB,SAAA;EAAA,CACX;EAAA,OAAAD,wBAAA,CAAAjkB,KAAA,OAAA3B,SAAA;AAAA;ACvHO,SAASimB,SAASA,CAAA,EAAU;EAAA,SAAA3lB,IAAA,GAAAN,SAAA,CAAA5C,MAAA,EAAN+I,IAAI,OAAA7I,KAAA,CAAAgD,IAAA,GAAAE,IAAA,MAAAA,IAAA,GAAAF,IAAA,EAAAE,IAAA;IAAJ2F,IAAI,CAAA3F,IAAA,IAAAR,SAAA,CAAAQ,IAAA;EAAA;EAC/B,IAAI2F,IAAI,CAAC/I,MAAM,GAAG,CAAC,EAAE;IACnB,IAAO8oB,SAAS,GAAa/f,IAAI;MAAf5D,OAAO,GAAI4D,IAAI;IACjC,OAAO8f,SAAS,CAAC,UAAC9nB,EAAE,EAAA6Y,IAAA,EAAgB;MAAA,IAAbhY,EAAE,GAAMgY,IAAA,CAARhY,EAAE;QAAEE,GAAA,GAAI8X,IAAA,CAAJ9X,GAAA;MACzB,OAAOgnB,SAAS,GAAGlnB,EAAE,CAACb,EAAE,CAAC,GAAGe,GAAG,CAACf,EAAE,EAAEoE,OAAO,CAAC;IAC9C,CAAC,CAAC;EACJ;EACA,IAAOxB,EAAE,GAAIoF,IAAI;EACjB,OAAO,UAAAhI,EAAE;IAAA,OAAI4C,EAAE,CAAC5C,EAAE,EAAE;MAACa,EAAE,EAAFA,EAAE;MAAEE,GAAA,EAAAA;IAAG,CAAC,CAAC;EAAA;AAChC;;ACFA;AACA;AACA;AACA;AACA;AACA;AACa,IAAAinB,IAAI;EAAA,IAAAC,MAAA,GAAAzlB,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAwlB,UAAA;IAAA,IAAAlgB,IAAA;MAAApG,IAAA;MAAAslB,MAAA;MAAAiB,SAAA;MAAAC,OAAA,GAAAvmB,SAAA;IAAA,OAAAY,mBAAA,GAAAI,IAAA,UAAAwlB,WAAAC,UAAA;MAAA,kBAAAA,UAAA,CAAAtlB,IAAA,GAAAslB,UAAA,CAAArlB,IAAA;QAAA;UAAO+E,IAAI,GAAAogB,OAAA,CAAAnpB,MAAA,QAAAmpB,OAAA,QAAAtmB,SAAA,GAAAsmB,OAAA,MAAG,EAAE;UAAExmB,IAAI,GAAAwmB,OAAA,CAAAnpB,MAAA,QAAAmpB,OAAA,QAAAtmB,SAAA,GAAAsmB,OAAA,MAAG,EAAE;UAAAE,UAAA,CAAArlB,IAAA;UAAA,OACxBwV,MAAM,CAAC4O,KAAK,CAC/B,CAAC,eAAe,EAAE,UAAU,CAAC,EAC7BzlB,IAAI,CAAComB,IAAI,IAAIV,MAAW,CACzB;QAAA;UAHKJ,MAAM,GAAAoB,UAAA,CAAAjlB,IAAA;UAKZykB,SAAS,CACPZ,MAAM,qEAAAhpB,MAAA,CAC6D,kGAAmG,CAAC,CACxK;UAAAoqB,UAAA,CAAArlB,IAAA;UAAA,OAEuBwV,MAAM,CAAC4O,KAAK,CAClC,CAAC,aAAa,CAAC,EACfzlB,IAAI,CAACM,OAAO,IAAIA,OAAc,CAC/B;QAAA;UAHKimB,SAAS,GAAAG,UAAA,CAAAjlB,IAAA;UAAAilB,UAAA,CAAAplB,EAAA,GAKHtB,IAAI,CAACqlB,IAAI;UAAA,IAAAqB,UAAA,CAAAplB,EAAA;YAAAolB,UAAA,CAAArlB,IAAA;YAAA;UAAA;UAAAqlB,UAAA,CAAArlB,IAAA;UAAA,OAAWwV,MAAM,EAAE,CAAClQ,GAAG,CAAC,gBAAgB,CAAC;QAAA;UAAA+f,UAAA,CAAAplB,EAAA,GAAAolB,UAAA,CAAAjlB,IAAA;QAAA;UAA9DzB,IAAI,CAACqlB,IAAI,GAAAqB,UAAA,CAAAplB,EAAA;UAET,IAAI/D,KAAK,CAACO,OAAO,CAACsI,IAAI,CAAC,EAAEA,IAAI,GAAGF,IAAI,CAACnJ,WAAW,EAAE,EAAEqJ,IAAI,CAAC;UAAAsgB,UAAA,CAAAnlB,EAAA,GAClD+jB,MAAM;UAAAoB,UAAA,CAAArlB,IAAA;UAAA,OACLklB,SAAS,CAACngB,IAAI,CAAC;QAAA;UAAAsgB,UAAA,CAAAllB,EAAA,GAAAklB,UAAA,CAAAjlB,IAAA;UAAAilB,UAAA,CAAAhlB,EAAA,GACrB;YAACmV,MAAM,EAANA,MAAM;YAAE1P,QAAQ,EAARA,QAAQ;YAAE/I,EAAE,EAAEunB,QAAQ;YAAE5L,MAAA,EAAAA;WAAO;UAAA2M,UAAA,CAAAxS,EAAA,GACxClU,IAAI;UAAA,OAAA0mB,UAAA,CAAA/kB,MAAA,eAAA+kB,UAAA,CAAAnlB,EAAA,EAAAmlB,UAAA,CAAAllB,EAAA,EAAAklB,UAAA,CAAAhlB,EAAA,EAAAglB,UAAA,CAAAxS,EAAA;QAAA;QAAA;UAAA,OAAAwS,UAAA,CAAA5kB,IAAA;MAAA;IAAA,GAAAwkB,SAAA;EAAA,CAER;EAAA,gBAxBaF,IAAIA,CAAA;IAAA,OAAAC,MAAA,CAAAzkB,KAAA,OAAA3B,SAAA;EAAA;AAAA,GAwBjB;AAAA,SCpCsB6S,MAAMA,CAAA6T,IAAA;EAAA,OAAAC,OAAA,CAAAhlB,KAAA,OAAA3B,SAAA;AAAA;AAAA,SAAA2mB,QAAA;EAAAA,OAAA,GAAAhmB,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAArB,SAAA+lB,UAAsB1f,QAAQ;IAAA,IAAA2f,kBAAA,EAAApc,QAAA;IAAA,OAAA7J,mBAAA,GAAAI,IAAA,UAAA8lB,WAAAC,UAAA;MAAA,kBAAAA,UAAA,CAAA5lB,IAAA,GAAA4lB,UAAA,CAAA3lB,IAAA;QAAA;UAAA2lB,UAAA,CAAA3lB,IAAA;UAAA,OACFwV,MAAM,EAAE,CAACC,KAAK,CAAC,YAAY,CAAC;QAAA;UAAvDgQ,kBAAkB,GAAAE,UAAA,CAAAvlB,IAAA;UAClBiJ,QAAQ,GAAG/N,MAAM,CAACqa,OAAO,CAAC8P,kBAAkB,CAAC,CAAC9a,GAAG,CACrD,UAAAiL,IAAA,EAAsB;YAAA,IAAAgQ,MAAA,GAAA9P,cAAA,CAALF,IAAA;cAAfiQ,OAAO,GAAAD,MAAA;cAAEvkB,KAAK,GAAAukB,MAAA;YACdC,OAAO,OAAA5qB,MAAA,CAAO4qB,OAAO,CAAC7P,OAAO,CAAC,YAAY,EAAE,EAAE,CAAE,OAAG;YACnD,OAAO,CAAC6P,OAAO,EAAExkB,KAAK,CAAC;UACzB,CAAC,CACF;UAAA,OAAAskB,UAAA,CAAArlB,MAAA,WAEMqR,cAAc,CAAC7L,QAAQ,EAAExK,MAAM,CAACwqB,WAAW,CAACzc,QAAQ,CAAC,CAAC;QAAA;QAAA;UAAA,OAAAsc,UAAA,CAAAllB,IAAA;MAAA;IAAA,GAAA+kB,SAAA;EAAA,CAC/D;EAAA,OAAAD,OAAA,CAAAhlB,KAAA,OAAA3B,SAAA;AAAA;ACPA,IAAMmnB,kBAAkB,GAAG,SAArBA,kBAAkBA,CAAG1N,OAAO,EAAI;EACpC;EACA,IAAIzF,OAAO,GAAG,IAAIvX,GAAG,CAACgd,OAAO,CAAC6B,WAAW,CAAC;EAC1CtH,OAAO,CAAC6J,GAAG,CAACpE,OAAO,CAAC2B,WAAW,CAAClR,OAAO,CAAC;EACxC8J,OAAO,CAACgK,MAAM,CAACvE,OAAO,CAACrX,KAAK,CAAC;EAC7B,OAAO9E,KAAK,CAACC,IAAI,CAACyW,OAAO,CAAC,CAACjI,GAAG,CAACsL,UAAU,CAAC;AAC5C,CAAC;AAED,IAAM+P,mBAAmB,GAAG,SAAtBA,mBAAmBA,CAAG3N,OAAO,EAAI;EACrC;EACA,IAAI4N,QAAQ,GAAG,IAAI5qB,GAAG,CAAC,CAACgd,OAAO,CAACrX,KAAK,CAAC,CAAC;EACvC,OAAO9E,KAAK,CAACC,IAAI,CAAC8pB,QAAQ,CAAC,CAACtb,GAAG,CAACsL,UAAU,CAAC;AAC7C,CAAC;AAAA,IAEYiQ,oDAAoD,0BAAAC,MAAA;EAAAC,SAAA,CAAAF,oDAAA,EAAAC,MAAA;EAAA,IAAAE,MAAA,GAAAC,YAAA,CAAAJ,oDAAA;EAC/D,SAAAA,qDAAYK,aAAa,EAAE;IAAA,IAAAC,KAAA;IAAAC,eAAA,OAAAP,oDAAA;IACzB,IAAMzM,GAAG,GAAI,2GAAAxe,MAAA,CACuFsrB,aAAc,6CAAAtrB,MAAA,CACjFsrB,aAAc,kGAC3CG,IAAI,EAAE;IACVF,KAAA,GAAAH,MAAA,CAAA7lB,IAAA,OAAMiZ,GAAG;IACT+M,KAAA,CAAKrZ,IAAI,GAAG,0DAA0D;IAAA,OAAAqZ,KAAA;EACxE;EAAA,OAAAG,YAAA,CAAAT,oDAAA;AAAA,gBAAAU,gBAAA,CARwE7iB,KAAK;IAWlE8iB,yBAAyB,GAAG,SAA5BA,yBAAyBA,CAAIC,QAAQ,EAAEP,aAAa,EAAK;EACpE,IAAIQ,cAAc,GAAGhB,kBAAkB,CAACe,QAAQ,CAACzO,OAAO,CAAC;EACzD,IAAI2O,eAAe,GAAGhB,mBAAmB,CAACc,QAAQ,CAACzO,OAAO,CAAC;EAE3D,IAAM4O,eAAe,GAAGF,cAAc,CAAC3H,QAAQ,CAACnJ,UAAU,CAACsQ,aAAa,CAAC,CAAC;EAC1E,IAAMW,gBAAgB,GAAGF,eAAe,CAAC5H,QAAQ,CAACnJ,UAAU,CAACsQ,aAAa,CAAC,CAAC;EAE5E,IAAI,CAACU,eAAe,IAAI,CAACC,gBAAgB,EAAE;IACzC,MAAM,IAAIhB,oDAAoD,CAC5DK,aAAa,CACd;EACH;EAEA,IAAMplB,OAAO,GAAG;IACdqT,OAAO,EAAEsS,QAAQ,CAACzO,OAAO,CAAC7D,OAAO;IACjCsF,QAAQ,EAAEgN,QAAQ,CAACzO,OAAO,CAACyB,QAAQ;IACnCC,YAAY,EAAE+M,QAAQ,CAACzO,OAAO,CAAC0B,YAAY;IAC3Cnb,SAAS,EAAEkoB,QAAQ,CAACzO,OAAO,CAACzZ,SAAS;IACrCob,WAAW,EAAAvb,aAAA,CAAAA,aAAA,KACNqoB,QAAQ,CAACzO,OAAO,CAAC2B,WAAW;MAC/BlR,OAAO,EAAE1C,UAAU,CAAC0gB,QAAQ,CAACzO,OAAO,CAAC2B,WAAW,CAAClR,OAAO;IAAA,EACzD;IACD9H,KAAK,EAAEoF,UAAU,CAAC0gB,QAAQ,CAACzO,OAAO,CAACrX,KAAK,CAAC;IACzCkZ,WAAW,EAAE4M,QAAQ,CAACzO,OAAO,CAAC6B,WAAW,CAACvP,GAAG,CAACvE,UAAU,CAAC;IACzDoU,WAAW,EAAEsM,QAAQ,CAACzO,OAAO,CAACmC,WAAW,CAAC7P,GAAG,CAAC,UAAAwc,EAAE;MAAA,OAAA1oB,aAAA,CAAAA,aAAA,KAC3C0oB,EAAE;QACLre,OAAO,EAAE1C,UAAU,CAAC+gB,EAAE,CAACre,OAAO;MAAA;IAAA,CAC9B;GACH;EAED,OAAOme,eAAe,GAClBpP,wBAAwB,CAAC1W,OAAO,CAAC,GACjC+W,yBAAyB,CAAC/W,OAAO,CAAC;AACxC;AC9DO,SAASimB,SAASA,CAACzF,EAAE,EAAE;EAC5B,OAAOjc,MAAM,CAAC,eAAe,EAAE,UAAA8b,UAAU;IAAA,OACvCtlB,KAAK,CAACO,OAAO,CAAC+kB,UAAU,CAAC,GAAGA,UAAU,CAACzgB,IAAI,CAAC4gB,EAAE,CAAC,GAAG,CAACA,EAAE,CAAC;EAAA,EACvD;AACH;;ACHA;AACA;AACA;AACA;AACA;AACO,SAAS0F,aAAaA,CAACC,MAAM,EAAE;EACpC,OAAOziB,IAAI,CAAC,CACV,UAAA9H,EAAE,EAAI;IACJA,EAAE,CAACkJ,KAAK,CAACqhB,MAAM,GAAGA,MAAM;IACxB,OAAOvqB,EAAE;EACX,CAAC,EACDqqB,SAAS,CAAC,UAAArqB,EAAE,EAAI;IACd,IAAI,OAAOA,EAAE,CAACkJ,KAAK,CAACD,QAAQ,KAAK,SAAS,EACxC,MAAM,IAAIjC,KAAK,CAAC,mDAAmD,CAAC;IACtE,IAAIhH,EAAE,CAACkJ,KAAK,CAACqH,EAAE,EACb,MAAM,IAAIvJ,KAAK,CAAC,mDAAmD,CAAC;IACtE,OAAOhH,EAAE;GACV,CAAC,CACH,CAAC;AACJ;ACnBO,SAASwqB,SAASA,CAACja,EAAE,EAAE;EAC5B,OAAOzI,IAAI,CAAC,CACV,UAAA9H,EAAE,EAAI;IACJA,EAAE,CAACkJ,KAAK,CAACqH,EAAE,GAAGA,EAAE;IAChB,OAAO1P,EAAE,CAACb,EAAE,CAAC;EACf,CAAC,EACDqqB,SAAS,CAAC,UAACrqB,EAAE,EAAA6Y,IAAA,EAAgB;IAAA,IAAbhY,EAAE,GAAMgY,IAAA,CAARhY,EAAE;MAAEE,GAAA,GAAI8X,IAAA,CAAJ9X,GAAA;IAClB,IAAI4E,YAAY,CAAC3F,EAAE,CAAC,EAClB,OAAOe,GAAG,CACRf,EAAE,EACF,8DAA8D,CAC/D;IACH,IAAI,OAAOA,EAAE,CAACkJ,KAAK,CAACD,QAAQ,KAAK,SAAS,EACxC,OAAOlI,GAAG,CAACf,EAAE,EAAE,+CAA+C,CAAC;IACjE,IAAIA,EAAE,CAACkJ,KAAK,CAACqhB,MAAM,EACjB,OAAOxpB,GAAG,CAACf,EAAE,EAAE,mDAAmD,CAAC;IACrE,OAAOa,EAAE,CAACb,EAAE,CAAC;GACd,CAAC,CACH,CAAC;AACJ;;ACfA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAASsG,OAAOA,CAACyF,OAAO,EAA2B;EAAA,IAAA0e,MAAA,GAAb5oB,SAAA,CAAA5C,MAAA,QAAA4C,SAAA,QAAAC,SAAA,GAAAD,SAAA,CAAG,OAAE;IAAhB0oB,MAAM,GAAAE,MAAA,CAANF,MAAM;IAAEha,EAAA,GAAAka,MAAA,CAAAla,EAAA;EAAQ,IAAE3O,IAAI,GAAAC,SAAA,CAAA5C,MAAA,OAAA4C,SAAA,MAAAC,SAAA;EACtDP,WAAS,CACP,EAAEgP,EAAE,IAAIga,MAAM,CAAC,uEACkD,CAClE;;EAED;EACA,IAAIha,EAAE,EAAE,OAAOyX,IAAI,CAAC,CAAC7e,UAAU,CAAC4C,OAAO,CAAC,EAAEye,SAAS,CAACja,EAAE,CAAC,CAAC,EAAE3O,IAAI,CAAC,CAAC+W,IAAI,CAAC/D,cAAM,CAAC;;EAE5E;EACA,IAAI2V,MAAM,EACR,OAAOvC,IAAI,CAAC,CAAC7e,UAAU,CAAC4C,OAAO,CAAC,EAAEue,aAAa,CAACC,MAAM,CAAC,CAAC,EAAE3oB,IAAI,CAAC,CAAC+W,IAAI,CAAC/D,cAAM,CAAC;EAE9E,OAAOoT,IAAI,CAAC,CAAC7e,UAAU,CAAC4C,OAAO,CAAC,CAAC,EAAEnK,IAAI,CAAC,CAAC+W,IAAI,CAAC/D,cAAM,CAAC;AACvD;;AC3BA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAAS1L,KAAKA,CAAA,EAA+C;EAAA,IAAAwhB,MAAA,GAAlB7oB,SAAA,CAAA5C,MAAA,QAAA4C,SAAA,QAAAC,SAAA,GAAAD,SAAA,CAAG,OAAE;IAAA8oB,aAAA,GAAAD,MAAA,CAAhCE,MAAM;IAANA,MAAM,GAAAD,aAAA,cAAG,KAAK,GAAAA,aAAA;IAAEpa,EAAE,GAAAma,MAAA,CAAFna,EAAE;IAAEga,MAAA,GAAAG,MAAA,CAAAH,MAAA;EAAY,IAAE3oB,IAAI,GAAAC,SAAA,CAAA5C,MAAA,QAAA4C,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAG,EAAE;EAChEN,WAAS,CACP,EAAGqpB,MAAM,IAAIra,EAAE,IAAMqa,MAAM,IAAIL,MAAO,CAAC,qEACsB,CAC9D;EAEDhpB,WAAS,CACP,EAAEgP,EAAE,IAAIga,MAAM,CAAC,qEACgD,CAChE;;EAED;EACA,IAAIha,EAAE,EAAE,OAAOyX,IAAI,CAAC,CAAChf,QAAQ,EAAE,EAAEwhB,SAAS,CAACja,EAAE,CAAC,CAAC,EAAE3O,IAAI,CAAC,CAAC+W,IAAI,CAAC/D,cAAM,CAAC;;EAEnE;EACA,IAAI2V,MAAM,EACR,OAAOvC,IAAI,CAAC,CAAChf,QAAQ,EAAE,EAAEshB,aAAa,CAACC,MAAM,CAAC,CAAC,EAAE3oB,IAAI,CAAC,CAAC+W,IAAI,CAAC/D,cAAM,CAAC;;EAErE;EACA,OAAOoT,IAAI,CAAC,CAAChf,QAAQ,CAAC4hB,MAAM,CAAC,CAAC,EAAEhpB,IAAI,CAAC,CAAC+W,IAAI,CAAC/D,cAAM,CAAC;AACpD;ACtCO,SAAS7Q,cAAcA,CAAA,EAAU;EAAA,IAAT+d,EAAE,GAAAjgB,SAAA,CAAA5C,MAAA,QAAA4C,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAG,EAAE;EACpC,OAAOiG,IAAI,CACTga,EAAE,CAAClU,GAAG,CAAC,UAAAid,KAAK,EAAI;IACd,OAAOlpB,WAAW,CAACkpB,KAAK,EAAE;MAAC9oB,IAAI,EAAEjE;IAAU,CAAC,CAAC;EAC/C,CAAC,CAAC,CACH;AACH;AAEO,SAASmE,aAAaA,CAACmH,IAAI,EAAE4a,eAAe,EAAE1iB,KAAK,EAAE4b,WAAW,EAAE;EACvE,OAAO;IAAC9T,IAAI,EAAJA,IAAI;IAAE4a,eAAe,EAAfA,eAAe;IAAE1iB,KAAK,EAALA,KAAK;IAAE4b,WAAA,EAAAA;GAAY;AACpD;ACTO,SAAS4N,SAASA,CAACC,SAAS,EAAEC,KAAK,EAAEC,GAAG,EAAE;EAC/C,IAAI,OAAOD,KAAK,KAAK,WAAW,IAAI,OAAOC,GAAG,KAAK,WAAW,EAAE;IAC9D9R,MAAM,CAAC5P,GAAG,CAACC,SAAS,CAAC;MACnBC,GAAG,EAAE,SAAS;MACdC,OAAO,EAAE,wCAAwC;MACjDC,UAAU,EACR;IACJ,CAAC,CAAC;EACJ;EAEA,OAAO7B,IAAI,CAAC,CACV/C,aAAa,EACb,UAAA/E,EAAE,EAAI;IACJA,EAAE,CAACqV,MAAM,CAAC0V,SAAS,GAAGA,SAAS;IAC/B/qB,EAAE,CAACqV,MAAM,CAAC2V,KAAK,GAAGA,KAAK;IACvBhrB,EAAE,CAACqV,MAAM,CAAC4V,GAAG,GAAGA,GAAG;IACnB,OAAOpqB,EAAE,CAACb,EAAE,CAAC;EACf,CAAC,CACF,CAAC;AACJ;;ACpBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAASkrB,2BAA2BA,CAACC,SAAS,EAAEC,eAAe,EAAEC,aAAa,EAAE;EACrF,OAAOvjB,IAAI,CAAC,CACV/C,aAAa,EACb,UAAA/E,EAAE,EAAI;IACJA,EAAE,CAACqV,MAAM,CAAC0V,SAAS,GAAGI,SAAS;IAC/BnrB,EAAE,CAACqV,MAAM,CAAC2V,KAAK,GAAGI,eAAe;IACjCprB,EAAE,CAACqV,MAAM,CAAC4V,GAAG,GAAGI,aAAa;IAC7B,OAAOxqB,EAAE,CAACb,EAAE,CAAC;EACf,CAAC,CACF,CAAC;AACJ;;ACpBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAASsrB,mBAAmBA,CAACH,SAAS,EAAiB;EAAA,IAAfI,QAAQ,GAAA1pB,SAAA,CAAA5C,MAAA,QAAA4C,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAG,EAAE;EAC1D,OAAOiG,IAAI,CAAC,CACV/C,aAAa,EACb,UAAA/E,EAAE,EAAI;IACJA,EAAE,CAACqV,MAAM,CAAC0V,SAAS,GAAGI,SAAS;IAC/BnrB,EAAE,CAACqV,MAAM,CAACkW,QAAQ,GAAGA,QAAQ;IAC7B,OAAO1qB,EAAE,CAACb,EAAE,CAAC;EACf,CAAC,CACF,CAAC;AACJ;;ACjBA;AACA;AACA;AACA;AACA;AACO,SAASwrB,cAAcA,CAAA,EAAkB;EAAA,IAAjBviB,QAAQ,GAAApH,SAAA,CAAA5C,MAAA,QAAA4C,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAG,IAAI;EAC5C,OAAOiG,IAAI,CAAC,CACV5C,kBAAkB,EAClB,UAAAlF,EAAE,EAAI;IACJA,EAAE,CAACkJ,KAAK,CAACD,QAAQ,GAAGA,QAAQ;IAC5B,OAAOpI,EAAE,CAACb,EAAE,CAAC;EACf,CAAC,CACF,CAAC;AACJ;;ACbA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAASyrB,aAAaA,CAAA,EAAY;EAAA,IAAXlb,EAAE,GAAA1O,SAAA,CAAA5C,MAAA,QAAA4C,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAG,IAAI;EACrC,OAAOiG,IAAI,CAAC,CACV3C,iBAAiB,EACjB,UAAAnF,EAAE,EAAI;IACJA,EAAE,CAACgX,UAAU,CAACzG,EAAE,GAAGA,EAAE;IACrB,OAAOvQ,EAAE;EACX,CAAC,CACF,CAAC;AACJ;;ACfA;AACA;AACA;AACA;AACA;AACA;AACO,SAAS0rB,oBAAoBA,CAAChW,aAAa,EAAE;EAClD,OAAO5N,IAAI,CAAC,CACVlD,wBAAwB,EACxB,UAAA5E,EAAE,EAAI;IACJA,EAAE,CAACkW,WAAW,CAAC3F,EAAE,GAAGmF,aAAa;IACjC,OAAO7U,EAAE,CAACb,EAAE,CAAC;EACf,CAAC,CACF,CAAC;AACJ;;ACdA;AACA;AACA;AACA;AACA;AACA;AACO,SAAS2rB,cAAcA,CAACjW,aAAa,EAAE;EAC5C,OAAO5N,IAAI,CAAC,CACVjD,kBAAkB,EAClB,UAAA7E,EAAE,EAAI;IACJA,EAAE,CAACkW,WAAW,CAAC3F,EAAE,GAAGmF,aAAa;IACjC,OAAO7U,EAAE,CAACb,EAAE,CAAC;EACf,CAAC,CACF,CAAC;AACJ;ACdO,SAAS4rB,oBAAoBA,CAAA,EAAG;EACrC,OAAO9jB,IAAI,CAAC,CACV1C,wBAAwB,EACxB,UAAApF,EAAE,EAAI;IACJ,OAAOa,EAAE,CAACb,EAAE,CAAC;EACf,CAAC,CACF,CAAC;AACJ;ACTO,SAAS6rB,KAAKA,CAAC7O,YAAY,EAAE;EAClC,OAAO,UAAAhd,EAAE,EAAI;IACXA,EAAE,CAACoE,OAAO,CAAC4Y,YAAY,GAAGA,YAAY;IACtC,OAAOhd,EAAE;GACV;AACH;;ACHA;AACA;AACA;AACA;AACA;AACO,SAASgI,IAAIA,CAAA,EAAU;EAAA,IAAT8Z,EAAE,GAAAjgB,SAAA,CAAA5C,MAAA,QAAA4C,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAG,EAAE;EAC1B,OAAOiG,IAAI,CAACga,EAAE,CAAClU,GAAG,CAAC1J,YAAY,CAAC,CAAC;AACnC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACO,SAASC,GAAGA,CAAC3D,KAAK,EAAE8D,KAAK,EAAE;EAChC,OAAO;IAAC9D,KAAK,EAALA,KAAK;IAAE8D,KAAA,EAAAA;GAAM;AACvB;AAAA,SCjBsBqb,QAAQA,CAAAmM,IAAA;EAAA,OAAAC,SAAA,CAAAvoB,KAAA,OAAA3B,SAAA;AAAA;AAAA,SAAAkqB,UAAA;EAAAA,SAAA,GAAAvpB,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAAvB,SAAAspB,UAAwBnB,KAAK;IAAA,OAAApoB,mBAAA,GAAAI,IAAA,UAAAopB,WAAAC,UAAA;MAAA,kBAAAA,UAAA,CAAAlpB,IAAA,GAAAkpB,UAAA,CAAAjpB,IAAA;QAAA;UAAA,OAAAipB,UAAA,CAAA3oB,MAAA,WAC3B5B,WAAW,CAACkpB,KAAK,EAAE;YAAC9oB,IAAI,EAAE/D;UAAQ,CAAC,CAAC;QAAA;QAAA;UAAA,OAAAkuB,UAAA,CAAAxoB,IAAA;MAAA;IAAA,GAAAsoB,SAAA;EAAA,CAC7C;EAAA,OAAAD,SAAA,CAAAvoB,KAAA,OAAA3B,SAAA;AAAA;AAAA,SCFsBoC,KAAKA,CAAAkoB,IAAA;EAAA,OAAAC,MAAA,CAAA5oB,KAAA,OAAA3B,SAAA;AAAA;AAAA,SAAAuqB,OAAA;EAAAA,MAAA,GAAA5pB,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAApB,SAAA2pB,UAAqBxB,KAAK;IAAA,OAAApoB,mBAAA,GAAAI,IAAA,UAAAypB,WAAAC,UAAA;MAAA,kBAAAA,UAAA,CAAAvpB,IAAA,GAAAupB,UAAA,CAAAtpB,IAAA;QAAA;UAAA,OAAAspB,UAAA,CAAAhpB,MAAA,WACxB5B,WAAW,CAACkpB,KAAK,EAAE;YAAC9oB,IAAI,EAAEhE;UAAK,CAAC,CAAC;QAAA;QAAA;UAAA,OAAAwuB,UAAA,CAAA7oB,IAAA;MAAA;IAAA,GAAA2oB,SAAA;EAAA,CAC1C;EAAA,OAAAD,MAAA,CAAA5oB,KAAA,OAAA3B,SAAA;AAAA;ACFO,SAAS2qB,IAAIA,CAAA,EAAG;EACrB,OAAOxnB,QAAQ;AACjB;ACFO,SAASynB,GAAGA,CAAC1P,QAAQ,EAAE;EAC5B,OAAOjV,IAAI,CAAC,CACV,UAAA9H,EAAE,EAAI;IACJA,EAAE,CAACoE,OAAO,CAAC2Y,QAAQ,GAAGA,QAAQ;IAC9B,OAAOlc,EAAE,CAACb,EAAE,CAAC;EACf,CAAC,CACF,CAAC;AACJ;ACNO,SAASsc,MAAMA,CAAA,EAAU;EAC9B,OAAOxU,IAAI,CAAC,CAACpD,UAAU,EAAEgE,GAAG,CAAC,YAAY,EAAEgkB,QAAQ,CAAAlpB,KAAA,SAAC3B,SAAO,CAAC,CAAC,CAAC,CAAC;AACjE;ACFA,IAAM8qB,uBAAuB,GAAG,EAAE;AAClC,IAAMC,WAAW,GAAG,IAAI;;AAExB;AACA;AACA;AACA;AACA;AACO,SAAS1W,WAAWA,CAAA,EAAU;EACnC,OAAOpO,IAAI,CAAC,CACVnD,eAAe,EACf+D,GAAG,CAAC,YAAY,EAAEgkB,QAAQ,CAAAlpB,KAAA,SAAC3B,SAAO,CAAC,CAAC,EACpC,UAAA7B,EAAE,EAAI;IACJA,EAAE,CAACoE,OAAO,CAAC2Y,QAAQ,GAAG/c,EAAE,CAACoE,OAAO,CAAC2Y,QAAQ,IAAI6P,WAAW;IACxD5sB,EAAE,CAAC+D,cAAc,GAAG/D,EAAE,CAAC+D,cAAc,IAAI4oB,uBAAuB;IAChE,OAAO9rB,EAAE,CAACb,EAAE,CAAC;EACf,CAAC,CACF,CAAC;AACJ;ACnBO,SAAS6sB,gBAAgBA,CAACjqB,EAAE,EAAE;EACnC,OAAO8F,GAAG,CAAC,sBAAsB,EAAE9F,EAAE,CAAC;AACxC;ACOO,IAAMkqB,6BAA6B,GACxC,SADWA,6BAA6BA,CACxCjU,IAAA;EAAA,IAAEoO,IAAA,GAAKpO,IAAA,CAALoO,IAAA;EAAK;IAAA,IAAA8F,MAAA,GAAAvqB,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CACP,SAAAsqB,UAAMhtB,EAAE;MAAA,IAAAknB,MAAA,EAAA+F,UAAA,EAAAtd,OAAA;MAAA,OAAAlN,mBAAA,GAAAI,IAAA,UAAAqqB,WAAAC,UAAA;QAAA,kBAAAA,UAAA,CAAAnqB,IAAA,GAAAmqB,UAAA,CAAAlqB,IAAA;UAAA;YAAA,IACDuC,aAAa,CAACxF,EAAE,CAAC;cAAAmtB,UAAA,CAAAlqB,IAAA;cAAA;YAAA;YAAA,OAAAkqB,UAAA,CAAA5pB,MAAA,WAAS1C,EAAE,CAACb,EAAE,CAAC;UAAA;YAAA,KACjCA,EAAE,CAAC6D,QAAQ,CAAC7D,EAAE,CAAC2f,QAAQ,CAAC,CAACzC,WAAW;cAAAiQ,UAAA,CAAAlqB,IAAA;cAAA;YAAA;YAAA,OAAAkqB,UAAA,CAAA5pB,MAAA,WAAS1C,EAAE,CAACb,EAAE,CAAC;UAAA;YAAAmtB,UAAA,CAAAlqB,IAAA;YAAA,OAElCwV,MAAM,CAAC4O,KAAK,CAC/B,CAAC,eAAe,EAAE,UAAU,CAAC,EAC7BC,MAAW,CACZ;UAAA;YAHKJ,MAAM,GAAAiG,UAAA,CAAA9pB,IAAA;YAKZ9B,WAAS,CACP2lB,MAAM,qEAAAhpB,MAAA,CAC6D,kGAAmG,CAAC,CACxK;YAAAivB,UAAA,CAAAjqB,EAAA,GAEsBgkB,MAAM;YAAAiG,UAAA,CAAAlqB,IAAA;YAAA,OACrB4F,KAAK,CAAC,CAACM,UAAU,CAACnJ,EAAE,CAAC6D,QAAQ,CAAC7D,EAAE,CAAC2f,QAAQ,CAAC,CAACvW,IAAI,CAAC,CAAC,CAAC;UAAA;YAAA+jB,UAAA,CAAAhqB,EAAA,GAAAgqB,UAAA,CAAA9pB,IAAA;YAAA8pB,UAAA,CAAA/pB,EAAA,GACxD;cAACqV,MAAM,EAANA,MAAM;cAAE1P,QAAQ,EAAEA,QAAc;cAAE4S,MAAM,EAANA,MAAM;cAAE3b,EAAE,EAAEunB;YAAQ,CAAC;YAAA4F,UAAA,CAAA7pB,EAAA,GACxD;cAAC2jB,IAAA,EAAAA;YAAI,CAAC;YAAAkG,UAAA,CAAAlqB,IAAA;YAAA,WAAAkqB,UAAA,CAAAjqB,EAAA,EAAAiqB,UAAA,CAAAhqB,EAAA,EAAAgqB,UAAA,CAAA/pB,EAAA,EAAA+pB,UAAA,CAAA7pB,EAAA;UAAA;YAHF2pB,UAAQ,GAAAE,UAAA,CAAA9pB,IAAA;YAAA8pB,UAAA,CAAAlqB,IAAA;YAAA,OAKQ2R,cAAc,CAACqY,UAAQ,CAAC;UAAA;YAAxCtd,OAAO,GAAAwd,UAAA,CAAA9pB,IAAA;YAEbrD,EAAE,CAAC6D,QAAQ,CAAC7D,EAAE,CAAC2f,QAAQ,CAAC,CAACzC,WAAW,GAClCvN,OAAO,CAACnR,IAAI,CAACwB,EAAE,CAAC6D,QAAQ,CAAC7D,EAAE,CAAC2f,QAAQ,CAAC,CAACre,KAAK,CAAC,CAACumB,cAAc;YAAA,OAAAsF,UAAA,CAAA5pB,MAAA,WAEtD1C,EAAE,CAACb,EAAE,CAAC;UAAA;UAAA;YAAA,OAAAmtB,UAAA,CAAAzpB,IAAA;QAAA;MAAA,GAAAspB,SAAA;IAAA,CACd;IAAA,iBAAAI,IAAA;MAAA,OAAAL,MAAA,CAAAvpB,KAAA,OAAA3B,SAAA;IAAA;EAAA;AAAA;AAAA,SCvBYwrB,QAAQA,CAAAC,IAAA;EAAA,OAAAC,SAAA,CAAA/pB,KAAA,OAAA3B,SAAA;AAAA;AAAA,SAAA0rB,UAAA;EAAAA,SAAA,GAAA/qB,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAAvB,SAAA8qB,UAAwB5rB,IAAI;IAAA,IAAAqlB,IAAA,EAAAC,MAAA,EAAAlnB,EAAA;IAAA,OAAAyC,mBAAA,GAAAI,IAAA,UAAA4qB,WAAAC,UAAA;MAAA,kBAAAA,UAAA,CAAA1qB,IAAA,GAAA0qB,UAAA,CAAAzqB,IAAA;QAAA;UAAAyqB,UAAA,CAAAzqB,IAAA;UAAA,OACPwV,MAAM,EAAE,CAAClQ,GAAG,CAAC,gBAAgB,CAAC;QAAA;UAA3C0e,IAAI,GAAAyG,UAAA,CAAArqB,IAAA;UAAAqqB,UAAA,CAAAzqB,IAAA;UAAA,OACWwV,MAAM,CAAC4O,KAAK,CAAC,CAAC,eAAe,EAAE,UAAU,CAAC,EAAEC,MAAW,CAAC;QAAA;UAAvEJ,MAAM,GAAAwG,UAAA,CAAArqB,IAAA;UAEZ9B,WAAS,CACP2lB,MAAM,qEAAAhpB,MAAA,CAC6D,kGAAmG,CAAC,CACxK;UAAAwvB,UAAA,CAAAzqB,IAAA;UAAA,OAGU6E,IAAI,CAACnJ,WAAW,EAAE,EAAE,CAACqK,QAAQ,EAAE,CAAC,CAAC;QAAA;UAA5ChJ,EAAE,GAAA0tB,UAAA,CAAArqB,IAAA;UAAAqqB,UAAA,CAAAzqB,IAAA;UAAA,OACSikB,MAAM,CAAClnB,EAAE,EAAE;YAACyY,MAAM,EAANA,MAAM;YAAE1P,QAAQ,EAARA,QAAQ;YAAE4S,MAAM,EAANA,MAAM;YAAE3b,EAAE,EAAEunB;UAAQ,CAAC,EAAE;YAACN,IAAA,EAAAA;UAAI,CAAC,CAAC;QAAA;UAAvEjnB,EAAE,GAAA0tB,UAAA,CAAArqB,IAAA;UAAAqqB,UAAA,CAAAzqB,IAAA;UAAA,OACS2R,cAAc,CAAC5U,EAAE,CAAC;QAAA;UAA7BA,EAAE,GAAA0tB,UAAA,CAAArqB,IAAA;UAAA,OAAAqqB,UAAA,CAAAnqB,MAAA,WACKvD,EAAE,CAACuQ,EAAE;QAAA;QAAA;UAAA,OAAAmd,UAAA,CAAAhqB,IAAA;MAAA;IAAA,GAAA8pB,SAAA;EAAA,CACd;EAAA,OAAAD,SAAA,CAAA/pB,KAAA,OAAA3B,SAAA;AAAA;AAEO,SAAS8rB,iBAAiBA,CAAC/rB,IAAI,EAAE;EACtC;IAAA,IAAAgsB,MAAA,GAAAprB,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAAO,SAAAmrB,UAAM7tB,EAAE;MAAA,OAAAyC,mBAAA,GAAAI,IAAA,UAAAirB,WAAAC,UAAA;QAAA,kBAAAA,UAAA,CAAA/qB,IAAA,GAAA+qB,UAAA,CAAA9qB,IAAA;UAAA;YAAA,IACRuC,aAAa,CAACxF,EAAE,CAAC;cAAA+tB,UAAA,CAAA9qB,IAAA;cAAA;YAAA;YAAA,OAAA8qB,UAAA,CAAAxqB,MAAA,WAAS1C,EAAE,CAACb,EAAE,CAAC;UAAA;YAAA,KACjCA,EAAE,CAACoE,OAAO,CAAC2Y,QAAQ;cAAAgR,UAAA,CAAA9qB,IAAA;cAAA;YAAA;YAAA,OAAA8qB,UAAA,CAAAxqB,MAAA,WAAS1C,EAAE,CAACb,EAAE,CAAC;UAAA;YAAA+tB,UAAA,CAAA9qB,IAAA;YAAA,OAEVoqB,QAAQ,CAAK,CAAC;UAAA;YAA1CrtB,EAAE,CAACoE,OAAO,CAAC2Y,QAAQ,GAAAgR,UAAA,CAAA1qB,IAAA;YAAA,OAAA0qB,UAAA,CAAAxqB,MAAA,WAEZ1C,EAAE,CAACb,EAAE,CAAC;UAAA;UAAA;YAAA,OAAA+tB,UAAA,CAAArqB,IAAA;QAAA;MAAA,GAAAmqB,SAAA;IAAA,CACd;IAAA,iBAAAG,IAAA;MAAA,OAAAJ,MAAA,CAAApqB,KAAA,OAAA3B,SAAA;IAAA;EAAA;AACH;ACrCO,SAASosB,mBAAmBA,CAACjuB,EAAE,EAAoB;EAAA,IAAlBkuB,YAAY,GAAArsB,SAAA,CAAA5C,MAAA,QAAA4C,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAG,CAAC;EACtD;EACAN,WAAS,CAACvB,EAAE,CAACsG,OAAO,EAAE,kDAAkD,EAAEtG,EAAE,CAAC;EAC7E;EACAuB,WAAS,CAAEvB,EAAE,CAACsG,OAAO,CAAC8C,IAAI,EAAE,uDAAuD,EAAEpJ,EAAE,CAAC;EAExF,IAAM+L,OAAO,GAAG/L,EAAE,CAACsG,OAAO,CAAC8C,IAAI;EAE/B,OAAO;IACL9C,OAAO,EAAE;MACP8C,IAAI,EAAE2C,OAAO;MACbvN,IAAI,EAAEW,KAAK,CAACC,IAAI,CAAC;QAACH,MAAM,EAAEivB;MAAY,CAAC,EAAE,UAACC,CAAC,EAAEpkB,CAAC;QAAA,OAAM;UAClD6U,KAAK,EAAE7U,CAAC;UACR8d,cAAc,EAAE;QAClB,CAAC;MAAA,CAAC;IACJ;GACD;AACH;AAEO,SAASuG,oBAAoBA,CAACpuB,EAAE,EAAE;EACvC,OAAO;IACLmB,GAAG,EAAE,WAAW;IAChB+H,KAAK,EAAE;MACLqH,EAAE,EAAE;IACN;GACD;AACH;AAEA,IAAMlI,QAAQ,GAAG,SAAXA,QAAQA,CAAGC,CAAC;EAAA,OAAIA,CAAC;AAAA;AAEhB,SAAS+lB,QAAQA,CAAA,EAAsB;EAAA,IAArB7lB,QAAQ,GAAA3G,SAAA,CAAA5C,MAAA,QAAA4C,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAGwG,QAAQ;EAC1C;IAAA,IAAAimB,SAAA,GAAA9rB,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAAO,SAAA6rB,UAAwBvuB,EAAE;MAAA,OAAAyC,mBAAA,GAAAI,IAAA,UAAA2rB,WAAAC,UAAA;QAAA,kBAAAA,UAAA,CAAAzrB,IAAA,GAAAyrB,UAAA,CAAAxrB,IAAA;UAAA;YAAAwrB,UAAA,CAAAxrB,IAAA;YAAA,OACpBjD,EAAE;UAAA;YAAbA,EAAE,GAAAyuB,UAAA,CAAAprB,IAAA;YAAAorB,UAAA,CAAAvrB,EAAA,GACM,IAAI;YAAAurB,UAAA,CAAAxrB,IAAA,GAAAwrB,UAAA,CAAAvrB,EAAA,KACLyC,YAAY,CAAC3F,EAAE,CAAC,OAAAyuB,UAAA,CAAAvrB,EAAA,KAGhB4C,UAAU,CAAC9F,EAAE,CAAC;YAAA;UAAA;YAAA,OAAAyuB,UAAA,CAAAlrB,MAAA,WAFV0qB,mBAAmB,CAACjuB,EAAE,CAAC;UAAA;YAAA,OAAAyuB,UAAA,CAAAlrB,MAAA,WAGvB6qB,oBAAoB,CAAG,CAAC;UAAA;YAAA,OAAAK,UAAA,CAAAlrB,MAAA,WAGxBiF,QAAQ,CAACxI,EAAE,CAAC;UAAA;UAAA;YAAA,OAAAyuB,UAAA,CAAA/qB,IAAA;QAAA;MAAA,GAAA6qB,SAAA;IAAA,CAExB;IAAA,SAZqBG,QAAQA,CAAAC,IAAA;MAAA,OAAAL,SAAA,CAAA9qB,KAAA,OAAA3B,SAAA;IAAA;IAAA,OAAR6sB,QAAQ;EAAA;AAahC;AC7CO,IAAMjO,IAAI,GAAG,SAAPA,IAAIA,CAAGpf,IAAI;EAAA,UAAAnD,MAAA,CAAOgb,UAAU,CAAC7X,IAAI,CAAC+H,IAAI,CAAE,OAAAlL,MAAA,CAAGmD,IAAI,CAACC,KAAM;AAAA,CAAC;AAE7D,SAASoc,GAAGA,CAAC9b,IAAI,EAAE;EACxB,OAAO,CAAC,WAAW,EAAEA,IAAI,CAACwH,IAAI,EAAExH,IAAI,CAACN,KAAK,CAAC,CAACjC,IAAI,CAAC,GAAG,CAAC;AACvD;AAEO,SAASuvB,OAAOA,CAAA,EAAY;EAAA,IAAXhtB,IAAI,GAAAC,SAAA,CAAA5C,MAAA,QAAA4C,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAG,EAAE;EAC/B,OAAO,UAAUyE,OAAO,EAAE;IACxB,IAAMjF,IAAI,GAAAK,aAAA,CAAAA,aAAA,CAAAA,aAAA,KACL4E,OAAO,GACP1E,IAAI;MACPoiB,eAAe,EACbpiB,IAAI,CAACoiB,eAAe,IACpB1d,OAAO,CAAC0d,eAAe,IACvB6K;IAAA,EACH;IAED,OAAOxtB,IAAI;IAEX,SAASwtB,uBAAuBA,CAAC9E,QAAQ,EAAE;MACzC,OAAO;QACL3gB,IAAI,EAAE/H,IAAI,CAAC+H,IAAI;QACf9H,KAAK,EAAED,IAAI,CAACC,KAAK;QACjBkb,SAAS,EAAEkB,GAAG,CAACrc,IAAI;OACpB;IACH;GACD;AACH;AAEO,SAASytB,YAAYA,CAAA,EAAY;EAAA,IAAXltB,IAAI,GAAAC,SAAA,CAAA5C,MAAA,QAAA4C,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAG,EAAE;EACpC,OAAO,UAAUyE,OAAO,EAAE;IACxB,IAAOtE,MAAM,GAAaJ,IAAI,CAAvBI,MAAM;MAAKI,IAAA,GAAA2sB,wBAAA,CAAQntB,IAAI,EAAAotB,SAAA;IAC9B,OAAAttB,aAAA,CAAAA,aAAA,KACK4E,OAAO;MACVtE,MAAM,EAAEA,MAAM,IAAI,cAAc;MAChCE,OAAO,EAAE0sB,OAAO,CAACxsB,IAAI;IAAA;GAExB;AACH;AAEA,IAAM6sB,IAAI,GAAG;EAACtP,QAAQ,EAAE,KAAK;EAAEvC,UAAU,EAAE,KAAK;EAAEnZ,KAAK,EAAE;AAAK,CAAC;AAGxD,SAASirB,gBAAgBA,CAAA,EAAY;EAAA,IAAXttB,IAAI,GAAAC,SAAA,CAAA5C,MAAA,QAAA4C,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAG,EAAE;EACxC,OAAO,UAAUyE,OAAO,EAAE;IACxB,IAAMtE,MAAM,GAAGJ,IAAI,CAACI,MAAM,IAAI,oBAAoB;IAClD,OAAAN,aAAA,CAAAA,aAAA,KACK4E,OAAO;MACVtE,MAAM,EAANA,MAAM;MACNE,OAAO,EAAE,SAAAA,QAAA;QAAA,OACP,CACEN,IAAI,CAAC+d,QAAQ,IACXiP,OAAO,CAAChtB,IAAI,CAAC+d,QAAQ,CAAC,CAAC;UAAC5d,IAAI,EAAAL,aAAA,CAAAA,aAAA,KAAMutB,IAAI;YAAEtP,QAAQ,EAAE;UAAA;QAAK,CAAC,CAAC,EAAAzhB,MAAA,CAAAgQ,kBAAA,CACxDtM,IAAI,CAACmC,cAAc,CACnB6J,GAAG,CAACghB,OAAO,CAAC,CACZhhB,GAAG,CAAC,UAAApO,CAAC;UAAA,OAAIA,CAAC,CAAC;YAACuC,IAAI,EAAAL,aAAA,CAAAA,aAAA,KAAMutB,IAAI;cAAE7R,UAAU,EAAE;YAAA;UAAK,CAAC,CAAC;QAAA,EAAC,IACnDxb,IAAI,CAACqC,KAAK,IAAI2qB,OAAO,CAAChtB,IAAI,CAACqC,KAAK,CAAC,CAAC;UAAClC,IAAI,EAAAL,aAAA,CAAAA,aAAA,KAAMutB,IAAI;YAAEhrB,KAAK,EAAE;UAAA;QAAK,CAAC,CAAC,GACjEsQ,MAAM,CAACkS,OAAO;MAAA;IAAA;GAErB;AACH;AC1DO,IAAM0I,GAAG,GAAG,SAANA,GAAGA,CAAA,EAAG;EAAA,IAAC/nB,GAAG,GAAAvF,SAAA,CAAA5C,MAAA,QAAA4C,SAAA,QAAAC,SAAA,GAAAD,SAAA,MAAG,EAAE;EAAA,OAAKgH,KAAK,EAAE4jB,GAAG,CAAC,KAAK,CAAC,EAAAvuB,MAAA,CAAAgQ,kBAAA,CAAK9G,GAAG,EAAC,CAAC,CAACuR,IAAI,CAACzW,OAAO,CAAC;AAAA;;;;;;;;;;;ACJ7D,IAAAktB,OAAO,GAAG,OAAuB;;ACoF9C;AACO,IAAMC,MAAM,GAAG,SAAAA,cAAM;EAAA,OAC1BlW,MAAM,CAAC5P,GAAG,CAACC,SAAS,CAAC;IACnBC,GAAG,EAAE,SAAS;IACdrF,OAAO,iEAAiE;IACxEuF,UAAU,EACR,qGAAqG;IACvG0P,KAAK,EAAEF,MAAM,CAACG,MAAM,CAACwH;EACvB,CAAC;AAAA;AACI,IAAMra,KAAK,GAAG,SAARA,KAAKA,CAAG4oB,MAAM;EAAA,OACzBlW,MAAM,CAAC5P,GAAG,CAACC,SAAS,CAAC;IACnBC,GAAG,EAAE,SAAS;IACdrF,OAAO,gEAAgE;IACvEuF,UAAU,EACR,qGAAqG;IACvG0P,KAAK,EAAEF,MAAM,CAACG,MAAM,CAACwH;EACvB,CAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}