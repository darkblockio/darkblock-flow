{"ast":null,"code":"var _jsxFileName = \"/Users/oqpo/Documents/GitHub/darkblock-flow/src/components/Navbar.jsx\",\n  _s = $RefreshSig$();\nimport * as fcl from \"@onflow/fcl\";\nimport styled from \"styled-components\";\nimport { useState, useEffect } from \"react\";\nimport \"../flow/config\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Wrapper = styled.nav`\n  width: -webkit-fill-available;\n  z-index: 1;\n  background-color: ${props => props.bgColor};\n  color: white;\n  position: fixed;\n  top: 0;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 10px 30px;\n\n  h1 {\n    font-size: 2rem;  // Adjust to your desired size\n  }\n\n  button {\n    background-color: white;\n    padding: 2px 40px;\n    max-width: 200px;\n    border: none;\n    border-radius: 8px;\n    font-size: 18px;\n    height: 50px;\n\n    &:hover {\n      color: white;\n      background-color: black;\n      cursor: pointer;\n    }\n  }\n\n  @media (max-width: 768px) {\n    padding: 5px 25px;  // Reduce padding to reduce navbar height\n\n    h1 {\n      font-size: 1.5rem;  // Reduce font size for smaller screens\n    }\n\n    button {\n      padding: 2px 20px;  // Reduce button padding for smaller screens\n      height: 40px;  // Reduce button height for smaller screens\n      font-size: 16px;  // Reduce font size for smaller screens\n    }\n  }\n\n  div {\n    display: flex;\n    gap: 15px;\n  }\n\n  box {\n    display: flex;\n    flex-direction: column;\n    gap: 10px;\n  }\n`;\n_c = Wrapper;\nfunction Navbar() {\n  _s();\n  const [user, setUser] = useState({\n    loggedIn: false,\n    addr: undefined\n  });\n  const [flow, setFlow] = useState(0);\n  const [bgColor, setBgColor] = useState('transparent');\n  useEffect(() => {\n    fcl.currentUser.subscribe(setUser);\n    if (user.addr !== \"\") getFlow(user.addr);\n    const handleScroll = () => {\n      const position = window.pageYOffset;\n      if (position > 6000) {\n        setBgColor('black');\n      } else {\n        setBgColor('transparent');\n      }\n    };\n    window.addEventListener('scroll', handleScroll, {\n      passive: true\n    });\n    return () => {\n      window.removeEventListener('scroll', handleScroll);\n    };\n  }, [user.addr]);\n  const logOut = async () => {\n    await fcl.unauthenticate();\n    setUser({\n      addr: undefined,\n      loggedIn: false\n    });\n  };\n  const logIn = async () => {\n    await fcl.authenticate();\n  };\n  async function getFlow(address) {\n    try {\n      const res = await fcl.query({\n        cadence: `\n                  import FlowToken from 0x7e60df042a9c0868\n                  import FungibleToken from 0x9a0766d93b6608b7\n    \n                  pub fun main(address: Address): UFix64{\n                    let balanceVault =  getAccount(address).getCapability(/public/flowTokenBalance).borrow<&FlowToken.Vault{FungibleToken.Balance}>()!\n                    return balanceVault.balance\n                  }`,\n        args: (arg, t) => [arg(address, t.Address)]\n      });\n      setFlow(res);\n    } catch (error) {\n      console.log(\"err:\", error);\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(Wrapper, {\n    bgColor: bgColor,\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Darkblock on Flow: Demo\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 7\n    }, this), user.loggedIn ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => logOut(),\n        children: \"Logout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"box\", {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"Address - \", user.addr]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"Flow Balance - \", flow]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => logIn(),\n      children: \"Login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 118,\n    columnNumber: 5\n  }, this);\n}\n_s(Navbar, \"IyG0E7DJrOsGV1Q+965sGEk8WC0=\");\n_c2 = Navbar;\nexport default Navbar;\nvar _c, _c2;\n$RefreshReg$(_c, \"Wrapper\");\n$RefreshReg$(_c2, \"Navbar\");","map":{"version":3,"names":["fcl","styled","useState","useEffect","jsxDEV","_jsxDEV","Wrapper","nav","props","bgColor","_c","Navbar","_s","user","setUser","loggedIn","addr","undefined","flow","setFlow","setBgColor","currentUser","subscribe","getFlow","handleScroll","position","window","pageYOffset","addEventListener","passive","removeEventListener","logOut","unauthenticate","logIn","authenticate","address","res","query","cadence","args","arg","t","Address","error","console","log","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","_c2","$RefreshReg$"],"sources":["/Users/oqpo/Documents/GitHub/darkblock-flow/src/components/Navbar.jsx"],"sourcesContent":["import * as fcl from \"@onflow/fcl\";\nimport styled from \"styled-components\";\nimport { useState, useEffect } from \"react\";\nimport \"../flow/config\";\n\nconst Wrapper = styled.nav`\n  width: -webkit-fill-available;\n  z-index: 1;\n  background-color: ${(props) => props.bgColor};\n  color: white;\n  position: fixed;\n  top: 0;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 10px 30px;\n\n  h1 {\n    font-size: 2rem;  // Adjust to your desired size\n  }\n\n  button {\n    background-color: white;\n    padding: 2px 40px;\n    max-width: 200px;\n    border: none;\n    border-radius: 8px;\n    font-size: 18px;\n    height: 50px;\n\n    &:hover {\n      color: white;\n      background-color: black;\n      cursor: pointer;\n    }\n  }\n\n  @media (max-width: 768px) {\n    padding: 5px 25px;  // Reduce padding to reduce navbar height\n\n    h1 {\n      font-size: 1.5rem;  // Reduce font size for smaller screens\n    }\n\n    button {\n      padding: 2px 20px;  // Reduce button padding for smaller screens\n      height: 40px;  // Reduce button height for smaller screens\n      font-size: 16px;  // Reduce font size for smaller screens\n    }\n  }\n\n  div {\n    display: flex;\n    gap: 15px;\n  }\n\n  box {\n    display: flex;\n    flex-direction: column;\n    gap: 10px;\n  }\n`;\n\nfunction Navbar() {\n  const [user, setUser] = useState({ loggedIn: false, addr: undefined });\n  const [flow, setFlow] = useState(0);\n  const [bgColor, setBgColor] = useState('transparent');\n\n  useEffect(() => {\n    fcl.currentUser.subscribe(setUser);\n    if (user.addr !== \"\") getFlow(user.addr);\n\n    const handleScroll = () => {\n      const position = window.pageYOffset;\n      if (position > 6000) {\n        setBgColor('black');\n      } else {\n        setBgColor('transparent');\n      }\n    };\n\n    window.addEventListener('scroll', handleScroll, { passive: true });\n\n    return () => {\n      window.removeEventListener('scroll', handleScroll);\n    };\n  }, [user.addr]);\n\n  const logOut = async () => {\n    await fcl.unauthenticate();\n    setUser({ addr: undefined, loggedIn: false });\n  };\n\n  const logIn = async () => {\n    await fcl.authenticate();\n  };\n\n  async function getFlow(address) {\n    try {\n      const res = await fcl.query({\n        cadence: `\n                  import FlowToken from 0x7e60df042a9c0868\n                  import FungibleToken from 0x9a0766d93b6608b7\n    \n                  pub fun main(address: Address): UFix64{\n                    let balanceVault =  getAccount(address).getCapability(/public/flowTokenBalance).borrow<&FlowToken.Vault{FungibleToken.Balance}>()!\n                    return balanceVault.balance\n                  }`,\n        args: (arg, t) => [arg(address, t.Address)],\n      });\n      setFlow(res);\n    } catch (error) {\n      console.log(\"err:\", error);\n    }\n  }\n  \n  return (\n    <Wrapper bgColor={bgColor}>\n      <h1>Darkblock on Flow: Demo</h1>\n      {user.loggedIn ? (\n        <div>\n          <button onClick={() => logOut()}>Logout</button>\n          <box>\n            <span>Address - {user.addr}</span>\n            <span>Flow Balance - {flow}</span>\n          </box>\n        </div>\n      ) : (\n        <button onClick={() => logIn()}>Login</button>\n      )}\n    </Wrapper>\n  );\n}\n\nexport default Navbar;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}