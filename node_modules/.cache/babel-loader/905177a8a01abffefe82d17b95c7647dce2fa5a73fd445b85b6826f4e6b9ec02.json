{"ast":null,"code":"import _defineProperty from \"/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _createForOfIteratorHelper from \"/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport _objectSpread from \"/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _toConsumableArray from \"/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _slicedToArray from \"/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _regeneratorRuntime from \"/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nvar _HANDLERS$, _HANDLERS$2, _HANDLERS$3, _HANDLERS;\nimport { config } from '@onflow/config';\nexport { config } from '@onflow/config';\nimport * as sdk from '@onflow/sdk';\nimport { invariant as invariant$1, arg, encodeMessageFromSignable, config as config$1, resolve, pipe, interaction, createSignableVoucher, send as send$1, getTransactionStatus, decode, block, getEventsAtBlockHeightRange, getAccount, atBlockHeight } from '@onflow/sdk';\nexport { TestUtils, account, arg, args, atBlockHeight, atBlockId, authorization, authorizations, block, build, createSignableVoucher, decode, getAccount, getBlock, getBlockHeader, getCollection, getEvents, getEventsAtBlockHeightRange, getEventsAtBlockIds, getNetworkParameters, getTransaction, getTransactionStatus, invariant, isBad, isOk, limit, param, params, payer, ping, pipe, proposer, ref, script, send, transaction, validator, voucherIntercept, voucherToTxId, why } from '@onflow/sdk';\nimport { log, LEVELS } from '@onflow/util-logger';\nimport { invariant } from '@onflow/util-invariant';\nimport * as t$1 from '@onflow/types';\nimport fetchTransport from 'cross-fetch';\nimport { withPrefix, sansPrefix } from '@onflow/util-address';\nexport { display, sansPrefix, withPrefix } from '@onflow/util-address';\nimport { subscriber, snapshoter, send, spawn, INIT, SUBSCRIBE, UNSUBSCRIBE, UPDATED as UPDATED$2, SNAPSHOT as SNAPSHOT$1 } from '@onflow/util-actor';\nimport * as rlp from '@onflow/rlp';\nimport { Buffer, encode } from '@onflow/rlp';\nimport { uid } from '@onflow/util-uid';\nimport require$$0 from 'buffer';\nexport { template as cadence, template as cdc } from '@onflow/util-template';\nfunction getChainIdFromAccessNode() {\n  return _getChainIdFromAccessNode.apply(this, arguments);\n}\n/**\n * Sets the default chain id to the chain id of the access node\n *\n * @returns {string} The chain id of the access node\n *\n * @example\n * // returns \"testnet\"\n * setChainIdDefault()\n */\nfunction _getChainIdFromAccessNode() {\n  _getChainIdFromAccessNode = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee29() {\n    var response;\n    return _regeneratorRuntime().wrap(function _callee29$(_context29) {\n      while (1) switch (_context29.prev = _context29.next) {\n        case 0:\n          _context29.next = 2;\n          return sdk.send([sdk.getNetworkParameters()]).then(sdk.decode);\n        case 2:\n          response = _context29.sent;\n          return _context29.abrupt(\"return\", response.chainId);\n        case 4:\n        case \"end\":\n          return _context29.stop();\n      }\n    }, _callee29);\n  }));\n  return _getChainIdFromAccessNode.apply(this, arguments);\n}\nfunction setChainIdDefault() {\n  return _setChainIdDefault.apply(this, arguments);\n}\n/**\n * @description\n * Gets the chain ID if its set, otherwise gets the chain ID from the access node\n *\n * @returns {string} The chain ID of the access node\n * @throws {Error} If the chain ID is not found\n *\n * @example\n * // returns \"testnet\"\n * getChainId()\n */\nfunction _setChainIdDefault() {\n  _setChainIdDefault = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee30() {\n    var network;\n    return _regeneratorRuntime().wrap(function _callee30$(_context30) {\n      while (1) switch (_context30.prev = _context30.next) {\n        case 0:\n          _context30.next = 2;\n          return getChainIdFromAccessNode();\n        case 2:\n          network = _context30.sent;\n          config.put(\"flow.network.default\", network);\n          return _context30.abrupt(\"return\", network);\n        case 5:\n        case \"end\":\n          return _context30.stop();\n      }\n    }, _callee30);\n  }));\n  return _setChainIdDefault.apply(this, arguments);\n}\nfunction getChainId() {\n  return _getChainId.apply(this, arguments);\n}\n/**\n * @description\n * Watches the config for changes to access node and updates the chain id accordingly\n *\n * @returns {Function} A function that unsubscribes the listener\n *\n */\nfunction _getChainId() {\n  _getChainId = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee31() {\n    var network;\n    return _regeneratorRuntime().wrap(function _callee31$(_context31) {\n      while (1) switch (_context31.prev = _context31.next) {\n        case 0:\n          _context31.next = 2;\n          return config.get(\"flow.network.default\");\n        case 2:\n          network = _context31.sent;\n          if (network) {\n            _context31.next = 19;\n            break;\n          }\n          _context31.next = 6;\n          return setChainIdDefault();\n        case 6:\n          network = _context31.sent;\n          if (network) {\n            _context31.next = 19;\n            break;\n          }\n          _context31.next = 10;\n          return config.get(\"flow.network\");\n        case 10:\n          network = _context31.sent;\n          if (!network) {\n            _context31.next = 15;\n            break;\n          }\n          log.deprecate({\n            pkg: \"FCL\",\n            subject: 'Using the \"flow.network\" configuration key for specifying the flow network',\n            message: \"Configuring flow.network is no longer required\",\n            transition: \"https://github.com/onflow/flow-js-sdk/blob/master/packages/fcl/TRANSITIONS.md#0002-deprecate-flow.network-config-key\"\n          });\n          _context31.next = 19;\n          break;\n        case 15:\n          _context31.next = 17;\n          return config.get(\"env\");\n        case 17:\n          network = _context31.sent;\n          if (network) log.deprecate({\n            pkg: \"FCL\",\n            subject: 'Using the \"env\" configuration key for specifying the flow network',\n            message: \"Configuring to specify flow network is no longer required\",\n            transition: \"https://github.com/onflow/flow-js-sdk/blob/master/packages/fcl/TRANSITIONS.md#0001-deprecate-env-config-key\"\n          });\n        case 19:\n          invariant(network, \"Error getting chainId from access node. Please configure flow.network instead\");\n          return _context31.abrupt(\"return\", network);\n        case 21:\n        case \"end\":\n          return _context31.stop();\n      }\n    }, _callee31);\n  }));\n  return _getChainId.apply(this, arguments);\n}\nfunction watchForChainIdChanges() {\n  return config.subscribe(function configSubscriber(config) {\n    var nextAccessNode = config === null || config === void 0 ? void 0 : config[\"accessNode.api\"];\n    if (this.prevAccessNode !== nextAccessNode) {\n      setChainIdDefault();\n    }\n    this.prevAccessNode = nextAccessNode;\n  }.bind({}));\n}\nfunction isAndroid() {\n  return typeof navigator !== \"undefined\" && /android/i.test(navigator.userAgent);\n}\nfunction isSmallIOS() {\n  return typeof navigator !== \"undefined\" && /iPhone|iPod/.test(navigator.userAgent);\n}\nfunction isLargeIOS() {\n  return typeof navigator !== \"undefined\" && /iPad/.test(navigator.userAgent);\n}\nfunction isIOS() {\n  return isSmallIOS() || isLargeIOS();\n}\nfunction isMobile() {\n  return isAndroid() || isIOS();\n}\nvar isServerSide = function isServerSide() {\n  return typeof window === \"undefined\";\n};\nvar SESSION_STORAGE = {\n  can: !isServerSide(),\n  get: function () {\n    var _get = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(key) {\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            return _context.abrupt(\"return\", JSON.parse(sessionStorage.getItem(key)));\n          case 1:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee);\n    }));\n    function get(_x2) {\n      return _get.apply(this, arguments);\n    }\n    return get;\n  }(),\n  put: function () {\n    var _put = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(key, value) {\n      return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n        while (1) switch (_context2.prev = _context2.next) {\n          case 0:\n            return _context2.abrupt(\"return\", sessionStorage.setItem(key, JSON.stringify(value)));\n          case 1:\n          case \"end\":\n            return _context2.stop();\n        }\n      }, _callee2);\n    }));\n    function put(_x3, _x4) {\n      return _put.apply(this, arguments);\n    }\n    return put;\n  }()\n};\nconfig({\n  \"discovery.wallet.method.default\": \"IFRAME/RPC\",\n  \"fcl.storage.default\": SESSION_STORAGE\n});\n\n// Set chain id default on access node change\nwatchForChainIdChanges();\nfunction configLens(_x5) {\n  return _configLens.apply(this, arguments);\n}\nfunction _configLens() {\n  _configLens = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee32(regex) {\n    return _regeneratorRuntime().wrap(function _callee32$(_context32) {\n      while (1) switch (_context32.prev = _context32.next) {\n        case 0:\n          _context32.t0 = Object;\n          _context32.t1 = Object;\n          _context32.next = 4;\n          return config().where(regex);\n        case 4:\n          _context32.t2 = _context32.sent;\n          _context32.t3 = _context32.t1.entries.call(_context32.t1, _context32.t2).map(function (_ref) {\n            var _ref29 = _slicedToArray(_ref, 2),\n              key = _ref29[0],\n              value = _ref29[1];\n            return [key.replace(regex, \"\"), value];\n          });\n          return _context32.abrupt(\"return\", _context32.t0.fromEntries.call(_context32.t0, _context32.t3));\n        case 7:\n        case \"end\":\n          return _context32.stop();\n      }\n    }, _callee32);\n  }));\n  return _configLens.apply(this, arguments);\n}\nvar VERSION = \"1.4.1\";\nvar is = function is(type) {\n  return function (d) {\n    return typeof d === type;\n  };\n};\nvar isRequired = function isRequired(d) {\n  return d != null;\n};\nvar isObject = is(\"object\");\nvar isString = is(\"string\");\nvar isFunc = is(\"function\");\nvar isNumber = is(\"number\");\nfunction normalizeArgs(ax) {\n  if (isFunc(ax)) return ax(sdk.arg, t$1);\n  return [];\n}\nfunction httpDocumentResolver(_x6) {\n  return _httpDocumentResolver.apply(this, arguments);\n}\nfunction _httpDocumentResolver() {\n  _httpDocumentResolver = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee33(_ref) {\n    var url, res, document;\n    return _regeneratorRuntime().wrap(function _callee33$(_context33) {\n      while (1) switch (_context33.prev = _context33.next) {\n        case 0:\n          url = _ref.url;\n          invariant(typeof url !== \"undefined\", \"retrieve({ url }) -- url must be defined\");\n          _context33.prev = 2;\n          _context33.next = 5;\n          return fetchTransport(url);\n        case 5:\n          res = _context33.sent;\n          _context33.next = 11;\n          break;\n        case 8:\n          _context33.prev = 8;\n          _context33.t0 = _context33[\"catch\"](2);\n          throw new Error(\"httpDocumentResolver Error: Failed to retrieve document.\");\n        case 11:\n          if (!res.ok) {\n            _context33.next = 17;\n            break;\n          }\n          _context33.next = 14;\n          return res.json();\n        case 14:\n          _context33.t1 = _context33.sent;\n          _context33.next = 18;\n          break;\n        case 17:\n          _context33.t1 = null;\n        case 18:\n          document = _context33.t1;\n          return _context33.abrupt(\"return\", document);\n        case 20:\n        case \"end\":\n          return _context33.stop();\n      }\n    }, _callee33, null, [[2, 8]]);\n  }));\n  return _httpDocumentResolver.apply(this, arguments);\n}\nvar DOCUMENT_RESOLVERS = new Map([[\"http\", httpDocumentResolver], [\"https\", httpDocumentResolver]]);\nfunction retrieve(_x7) {\n  return _retrieve.apply(this, arguments);\n}\nfunction _retrieve() {\n  _retrieve = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee34(_ref2) {\n    var url, documentResolversFromConfig, urlParts, protocol, resolver, document;\n    return _regeneratorRuntime().wrap(function _callee34$(_context34) {\n      while (1) switch (_context34.prev = _context34.next) {\n        case 0:\n          url = _ref2.url;\n          invariant(typeof url !== \"undefined\", \"retrieve({ url }) -- url must be defined\");\n          invariant(typeof url === \"string\", \"retrieve({ url }) -- url must be a string\");\n          _context34.next = 5;\n          return config().where(/^document\\.resolver\\./);\n        case 5:\n          documentResolversFromConfig = _context34.sent;\n          Object.keys(documentResolversFromConfig).map(function (key) {\n            var resolverFromConfig = documentResolversFromConfig[key];\n            var resolverProtocol = key.replace(/^document\\.resolver\\./, \"\");\n            DOCUMENT_RESOLVERS.set(resolverProtocol, resolverFromConfig);\n          });\n          urlParts = /^(.*):\\/\\/([A-Za-z0-9\\-\\.]+)(:[0-9]+)?(.*)$/.exec(url);\n          invariant(urlParts, \"Failed to parse URL\");\n          protocol = urlParts[1];\n          invariant(urlParts, \"Failed to parse URL protocol\");\n          resolver = DOCUMENT_RESOLVERS.get(protocol);\n          invariant(resolver, \"No resolver found for protcol=\".concat(protocol));\n          _context34.next = 15;\n          return resolver({\n            url: url\n          });\n        case 15:\n          document = _context34.sent;\n          return _context34.abrupt(\"return\", document);\n        case 17:\n        case \"end\":\n          return _context34.stop();\n      }\n    }, _callee34);\n  }));\n  return _retrieve.apply(this, arguments);\n}\nfunction normalizeInteractionTemplate(template) {\n  if (template == null) return null;\n  switch (template[\"f_version\"]) {\n    case \"1.0.0\":\n      return template;\n    default:\n      throw new Error(\"normalizeInteractionTemplate Error: Invalid InteractionTemplate\");\n  }\n}\n\n/**\n * @description Fills import addresses in Cadence for network\n * \n * @param {object} params\n * @param {string} params.network - Network to derive Cadence for\n * @param {object} params.template - Interaction Template to derive Cadence from\n * @returns {string} - Cadence\n */\nfunction deriveCadenceByNetwork(_ref) {\n  var _template;\n  var network = _ref.network,\n    template = _ref.template;\n  invariant$1(network != undefined, \"deriveCadenceByNetwork({ network }) -- network must be defined\");\n  invariant$1(typeof network === \"string\", \"deriveCadenceByNetwork({ network }) -- network must be a string\");\n  invariant$1(template != undefined, \"generateDependencyPin({ template }) -- template must be defined\");\n  invariant$1(typeof template === \"object\", \"generateDependencyPin({ template }) -- template must be an object\");\n  invariant$1(template.f_type === \"InteractionTemplate\", \"generateDependencyPin({ template }) -- template must be an InteractionTemplate\");\n  template = normalizeInteractionTemplate(template);\n  switch (template.f_version) {\n    case \"1.0.0\":\n      var networkDependencies = Object.keys((_template = template) === null || _template === void 0 || (_template = _template.data) === null || _template === void 0 ? void 0 : _template.dependencies).map(function (dependencyPlaceholder) {\n        var _template2;\n        var dependencyNetworkContracts = Object.values((_template2 = template) === null || _template2 === void 0 || (_template2 = _template2.data) === null || _template2 === void 0 || (_template2 = _template2.dependencies) === null || _template2 === void 0 ? void 0 : _template2[dependencyPlaceholder]);\n        invariant$1(dependencyNetworkContracts, \"deriveCadenceByNetwork -- Could not find contracts for dependency placeholder: \".concat(dependencyPlaceholder));\n        invariant$1(dependencyNetworkContracts.length === 0, \"deriveCadenceByNetwork -- Could not find contracts for dependency placeholder: \".concat(dependencyPlaceholder));\n        var dependencyContract = dependencyNetworkContracts[0];\n        var dependencyContractForNetwork = dependencyContract === null || dependencyContract === void 0 ? void 0 : dependencyContract[network];\n        invariant$1(dependencyContractForNetwork, \"deriveCadenceByNetwork -- Could not find \".concat(network, \" network information for dependency: \").concat(dependencyPlaceholder));\n        return [dependencyPlaceholder, dependencyContractForNetwork.address];\n      });\n      return networkDependencies.reduce(function (cadence, _ref2) {\n        var _ref5 = _slicedToArray(_ref2, 2),\n          placeholder = _ref5[0],\n          address = _ref5[1];\n        var regex = new RegExp(\"(\\\\b\" + placeholder + \"\\\\b)\", \"g\");\n        return cadence.replace(regex, address);\n      }, template.data.cadence);\n    default:\n      throw new Error(\"deriveCadenceByNetwork Error: Unsupported template version\");\n  }\n}\nfunction deriveDependencies(_x8) {\n  return _deriveDependencies.apply(this, arguments);\n}\nfunction _deriveDependencies() {\n  _deriveDependencies = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee35(_ref) {\n    var _template$data3;\n    var template, network, derivedDependencies, dependencyPlaceholderKeys, _i2, _dependencyPlaceholde, _template$data4, dependencyPlaceholderKey, dependencyPlaceholder, dependencyPlaceholderContractsKeys, dependencyPlaceholderContract, dependency;\n    return _regeneratorRuntime().wrap(function _callee35$(_context35) {\n      while (1) switch (_context35.prev = _context35.next) {\n        case 0:\n          template = _ref.template;\n          _context35.next = 3;\n          return getChainId();\n        case 3:\n          network = _context35.sent;\n          invariant(network, \"FCL configureDependencies Error: Missing configuration value for 'flow.network'\");\n          derivedDependencies = {};\n          _context35.t0 = template[\"f_version\"];\n          _context35.next = _context35.t0 === \"1.0.0\" ? 9 : 12;\n          break;\n        case 9:\n          dependencyPlaceholderKeys = Object.keys(template === null || template === void 0 || (_template$data3 = template.data) === null || _template$data3 === void 0 ? void 0 : _template$data3.dependencies);\n          for (_i2 = 0, _dependencyPlaceholde = dependencyPlaceholderKeys; _i2 < _dependencyPlaceholde.length; _i2++) {\n            dependencyPlaceholderKey = _dependencyPlaceholde[_i2];\n            dependencyPlaceholder = template === null || template === void 0 || (_template$data4 = template.data) === null || _template$data4 === void 0 ? void 0 : _template$data4.dependencies[dependencyPlaceholderKey];\n            dependencyPlaceholderContractsKeys = Object.keys(dependencyPlaceholder);\n            invariant(dependencyPlaceholderContractsKeys.length > 0, \"FCL configureDependencies Error: No contracts found in template for placeholder=\".concat(dependencyPlaceholderKey));\n            dependencyPlaceholderContract = dependencyPlaceholder[dependencyPlaceholderContractsKeys[0]];\n            dependency = dependencyPlaceholderContract[network];\n            invariant(dependency, \"FCL configureDependencies Error: No dependency information for placeholder=\".concat(dependencyPlaceholderKey, \" contract=\").concat(dependencyPlaceholderContractsKeys[0], \" network=\").concat(network));\n            invariant(dependency === null || dependency === void 0 ? void 0 : dependency.address, \"FCL configureDependencies Error: No address information for placeholder=\".concat(dependencyPlaceholderKey, \" contract=\").concat(dependencyPlaceholderContractsKeys[0], \" network=\").concat(network));\n            derivedDependencies[dependencyPlaceholderKey] = withPrefix(dependency === null || dependency === void 0 ? void 0 : dependency.address);\n          }\n          return _context35.abrupt(\"return\", derivedDependencies);\n        case 12:\n          throw new Error(\"FCL configureDependencies Error: Unsupported template version\");\n        case 13:\n        case \"end\":\n          return _context35.stop();\n      }\n    }, _callee35);\n  }));\n  return _deriveDependencies.apply(this, arguments);\n}\nfunction prepTemplateOpts(_x9) {\n  return _prepTemplateOpts.apply(this, arguments);\n}\nfunction _prepTemplateOpts() {\n  _prepTemplateOpts = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee36(opts) {\n    var dependencies, cadence;\n    return _regeneratorRuntime().wrap(function _callee36$(_context36) {\n      while (1) switch (_context36.prev = _context36.next) {\n        case 0:\n          if (!isString(opts === null || opts === void 0 ? void 0 : opts.template)) {\n            _context36.next = 4;\n            break;\n          }\n          _context36.next = 3;\n          return retrieve({\n            url: opts === null || opts === void 0 ? void 0 : opts.template\n          });\n        case 3:\n          opts.template = _context36.sent;\n        case 4:\n          dependencies = {};\n          if (!(opts !== null && opts !== void 0 && opts.template)) {\n            _context36.next = 10;\n            break;\n          }\n          opts.template = normalizeInteractionTemplate(opts === null || opts === void 0 ? void 0 : opts.template);\n          _context36.next = 9;\n          return deriveDependencies({\n            template: opts.template\n          });\n        case 9:\n          dependencies = _context36.sent;\n        case 10:\n          _context36.t0 = opts.cadence;\n          if (_context36.t0) {\n            _context36.next = 19;\n            break;\n          }\n          _context36.t1 = deriveCadenceByNetwork;\n          _context36.t2 = opts.template;\n          _context36.next = 16;\n          return getChainId();\n        case 16:\n          _context36.t3 = _context36.sent;\n          _context36.t4 = {\n            template: _context36.t2,\n            network: _context36.t3\n          };\n          _context36.t0 = (0, _context36.t1)(_context36.t4);\n        case 19:\n          cadence = _context36.t0;\n          opts.cadence = cadence;\n          opts.dependencies = dependencies;\n          return _context36.abrupt(\"return\", opts);\n        case 23:\n        case \"end\":\n          return _context36.stop();\n      }\n    }, _callee36);\n  }));\n  return _prepTemplateOpts.apply(this, arguments);\n}\nfunction pre(_x10, _x11) {\n  return _pre.apply(this, arguments);\n}\nfunction _pre() {\n  _pre = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee37(type, opts) {\n    return _regeneratorRuntime().wrap(function _callee37$(_context37) {\n      while (1) switch (_context37.prev = _context37.next) {\n        case 0:\n          // prettier-ignore\n          invariant(isRequired(opts), \"\".concat(type, \"(opts) -- opts is required\"));\n          // prettier-ignore\n          invariant(isObject(opts), \"\".concat(type, \"(opts) -- opts must be an object\"));\n          // prettier-ignore\n          invariant(!(opts.cadence && opts.template), \"\".concat(type, \"({ template, cadence }) -- cannot pass both cadence and template\"));\n          // prettier-ignore\n          invariant(isRequired(opts.cadence || (opts === null || opts === void 0 ? void 0 : opts.template)), \"\".concat(type, \"({ cadence }) -- cadence is required\"));\n          // // prettier-ignore\n          invariant(isString(opts.cadence) || (opts === null || opts === void 0 ? void 0 : opts.template), \"\".concat(type, \"({ cadence }) -- cadence must be a string\"));\n          // prettier-ignore\n          _context37.t0 = invariant;\n          _context37.t1 = opts.cadence;\n          if (_context37.t1) {\n            _context37.next = 11;\n            break;\n          }\n          _context37.next = 10;\n          return sdk.config().get(\"flow.network\");\n        case 10:\n          _context37.t1 = _context37.sent;\n        case 11:\n          _context37.t2 = _context37.t1;\n          _context37.t3 = \"\".concat(type, \"(opts) -- Required value for \\\"flow.network\\\" not defined in config. See: \", \"https://github.com/onflow/flow-js-sdk/blob/master/packages/fcl/src/exec/query.md#configuration\");\n          (0, _context37.t0)(_context37.t2, _context37.t3);\n          _context37.t4 = invariant;\n          _context37.next = 17;\n          return sdk.config().get(\"accessNode.api\");\n        case 17:\n          _context37.t5 = _context37.sent;\n          _context37.t6 = \"\".concat(type, \"(opts) -- Required value for \\\"accessNode.api\\\" not defined in config. See: \", \"https://github.com/onflow/flow-js-sdk/blob/master/packages/fcl/src/exec/query.md#configuration\");\n          (0, _context37.t4)(_context37.t5, _context37.t6);\n        case 20:\n        case \"end\":\n          return _context37.stop();\n      }\n    }, _callee37);\n  }));\n  return _pre.apply(this, arguments);\n}\nfunction preMutate(_x12) {\n  return _preMutate.apply(this, arguments);\n}\nfunction _preMutate() {\n  _preMutate = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee38(opts) {\n    return _regeneratorRuntime().wrap(function _callee38$(_context38) {\n      while (1) switch (_context38.prev = _context38.next) {\n        case 0:\n          return _context38.abrupt(\"return\", pre(\"mutate\", opts));\n        case 1:\n        case \"end\":\n          return _context38.stop();\n      }\n    }, _callee38);\n  }));\n  return _preMutate.apply(this, arguments);\n}\nfunction preQuery(_x13) {\n  return _preQuery.apply(this, arguments);\n}\n/**\n * @description\n * Allows you to submit scripts to query the blockchain.\n *\n *  @param {object} opts - Query Options and configuration\n *  @param {string} opts.cadence - Cadence Script used to query Flow\n *  @param {import(\"../fcl\").ArgsFn} [opts.args] - Arguments passed to cadence script\n *  @param {object} [opts.template] - Interaction Template for a script\n *  @param {number} [opts.limit]   - Compute Limit for Query\n *  @returns {Promise}\n *\n *  @example\n *    const cadence = `\n *      cadence: `\n *        pub fun main(a: Int, b: Int, c: Address): Int {\n *          log(c)\n *          return a + b\n *        }\n *    `.trim()\n *\n *    const args = (arg, t) => [\n *      arg(5, t.Int),\n *      arg(7, t.Int),\n *      arg(\"0xb2db43ad6bc345fec9\", t.Address),\n *    ]\n *\n *    await query({ cadence, args })\n */\nfunction _preQuery() {\n  _preQuery = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee39(opts) {\n    return _regeneratorRuntime().wrap(function _callee39$(_context39) {\n      while (1) switch (_context39.prev = _context39.next) {\n        case 0:\n          return _context39.abrupt(\"return\", pre(\"query\", opts));\n        case 1:\n        case \"end\":\n          return _context39.stop();\n      }\n    }, _callee39);\n  }));\n  return _preQuery.apply(this, arguments);\n}\nfunction query() {\n  return _query.apply(this, arguments);\n}\nfunction _query() {\n  _query = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee41() {\n    var opts,\n      _args41 = arguments;\n    return _regeneratorRuntime().wrap(function _callee41$(_context41) {\n      while (1) switch (_context41.prev = _context41.next) {\n        case 0:\n          opts = _args41.length > 0 && _args41[0] !== undefined ? _args41[0] : {};\n          _context41.next = 3;\n          return preQuery(opts);\n        case 3:\n          _context41.next = 5;\n          return prepTemplateOpts(opts);\n        case 5:\n          opts = _context41.sent;\n          return _context41.abrupt(\"return\", sdk.config().overload(opts.dependencies || {}, /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee40() {\n            return _regeneratorRuntime().wrap(function _callee40$(_context40) {\n              while (1) switch (_context40.prev = _context40.next) {\n                case 0:\n                  return _context40.abrupt(\"return\",\n                  // prettier-ignore\n                  sdk.send([sdk.script(opts.cadence), sdk.args(normalizeArgs(opts.args || [])), opts.limit && typeof opts.limit === \"number\" && sdk.limit(opts.limit)]).then(sdk.decode));\n                case 1:\n                case \"end\":\n                  return _context40.stop();\n              }\n            }, _callee40);\n          }))));\n        case 7:\n        case \"end\":\n          return _context41.stop();\n      }\n    }, _callee41);\n  }));\n  return _query.apply(this, arguments);\n}\nfunction fetchServices(_x14, _x15) {\n  return _fetchServices.apply(this, arguments);\n}\nfunction _fetchServices() {\n  _fetchServices = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee42(servicesURL, code) {\n    var url, resp, services, _iterator9, _step9, service;\n    return _regeneratorRuntime().wrap(function _callee42$(_context42) {\n      while (1) switch (_context42.prev = _context42.next) {\n        case 0:\n          if (!(servicesURL == null || code == null)) {\n            _context42.next = 2;\n            break;\n          }\n          return _context42.abrupt(\"return\", []);\n        case 2:\n          url = new URL(servicesURL);\n          url.searchParams.append(\"code\", code);\n          _context42.next = 6;\n          return fetch(url, {\n            method: \"GET\",\n            headers: {\n              \"Content-Type\": \"application/json\"\n            }\n          }).then(function (d) {\n            return d.json();\n          });\n        case 6:\n          resp = _context42.sent;\n          if (!Array.isArray(resp)) {\n            _context42.next = 9;\n            break;\n          }\n          return _context42.abrupt(\"return\", resp);\n        case 9:\n          // Backwards compatibility for First-Gen Wallet Providers\n          services = []; // Convert authorizations into authz services\n          if (Array.isArray(resp.authorizations)) {\n            _iterator9 = _createForOfIteratorHelper(resp.authorizations);\n            try {\n              for (_iterator9.s(); !(_step9 = _iterator9.n()).done;) {\n                service = _step9.value;\n                services.push(_objectSpread({\n                  type: \"authz\",\n                  keyId: resp.keyId\n                }, service));\n              }\n            } catch (err) {\n              _iterator9.e(err);\n            } finally {\n              _iterator9.f();\n            }\n          }\n\n          // Convert Provider info into an authn service\n          if (resp.provider != null) {\n            services.push(_objectSpread({\n              type: \"authn\",\n              id: \"wallet-provider#authn\"\n            }, resp.provider));\n          }\n          return _context42.abrupt(\"return\", services);\n        case 13:\n        case \"end\":\n          return _context42.stop();\n      }\n    }, _callee42);\n  }));\n  return _fetchServices.apply(this, arguments);\n}\nfunction mergeServices() {\n  var sx1 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var sx2 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  // TODO: Make this smarter\n  return [].concat(_toConsumableArray(sx1), _toConsumableArray(sx2));\n}\nvar SERVICE_PRAGMA = {\n  f_type: \"Service\",\n  f_vsn: \"1.0.0\"\n};\nvar IDENTITY_PRAGMA = {\n  f_type: \"Identity\",\n  f_vsn: \"1.0.0\"\n};\nvar USER_PRAGMA = {\n  f_type: \"USER\",\n  f_vsn: \"1.0.0\"\n};\nvar POLLING_RESPONSE_PRAGMA = {\n  f_type: \"PollingResponse\",\n  f_vsn: \"1.0.0\"\n};\nvar COMPOSITE_SIGNATURE_PRAGMA = {\n  f_type: \"CompositeSignature\",\n  f_vsn: \"1.0.0\"\n};\n\n// {\n//   \"f_type\": \"Service\",\n//   \"f_vsn\": \"1.0.0\",\n//   \"type\": \"authn\",\n//   \"uid\": \"uniqueDedupeKey\",\n//   \"endpoint\": \"https://rawr\",\n//   \"id\": \"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx\", // wallets internal id for the user\n//   \"identity\": {\n//     \"address\": \"0x____\"\n//   },\n//   \"provider\": {\n//     \"address\": \"0x____\",\n//     \"name\": \"Best Wallet\",\n//     \"description\": \"The Best Wallet\"\n//     \"icon\": \"https://\",\n//   }\n// }\nfunction normalizeAuthn(service) {\n  if (service == null) return null;\n  switch (service[\"f_vsn\"]) {\n    case \"1.0.0\":\n      return service;\n    default:\n      return _objectSpread(_objectSpread({}, SERVICE_PRAGMA), {}, {\n        type: service.type,\n        uid: service.id,\n        endpoint: service.authn,\n        id: service.pid,\n        provider: {\n          address: withPrefix(service.addr),\n          name: service.name,\n          icon: service.icon\n        }\n      });\n  }\n}\n\n// {\n//   \"f_type\": \"service\",\n//   \"f_vsn\": \"1.0.0\",\n//   \"type\": \"authz\",\n//   \"uid\": \"uniqueDedupeKey\",\n//   \"endpoint\": \"https://rawr\",\n//   \"method\": \"HTTP/POST\", // HTTP/POST | IFRAME/RPC | HTTP/RPC\n//   \"identity\": {\n//      \"address\": \"0x______\",\n//      \"keyId\": 0,\n//   },\n//   \"data\": {}, // included in body of authz request\n//   \"params\": {}, // included as query params on endpoint url\n// }\nfunction normalizeAuthz(service) {\n  if (service == null) return null;\n  switch (service[\"f_vsn\"]) {\n    case \"1.0.0\":\n      return service;\n    default:\n      return _objectSpread(_objectSpread({}, SERVICE_PRAGMA), {}, {\n        type: service.type,\n        uid: service.id,\n        endpoint: service.endpoint,\n        method: service.method,\n        identity: _objectSpread(_objectSpread({}, IDENTITY_PRAGMA), {}, {\n          address: withPrefix(service.addr),\n          keyId: service.keyId\n        }),\n        params: service.params,\n        data: service.data\n      });\n  }\n}\n\n// {\n//   \"f_type\": \"service\",\n//   \"f_vsn\": \"1.0.0\",\n//   \"type\": \"pre-authz\",\n//   \"uid\": \"uniqueDedupeKey\",\n//   \"endpoint\": \"https://rawr\",\n//   \"method\": \"HTTP/POST\", // HTTP/POST | IFRAME/RPC | HTTP/RPC\n//   \"identity\": {\n//      \"address\": \"0x______\",\n//      \"keyId\": 0,\n//   },\n//   \"data\": {}, // included in body of pre-authz request\n//   \"params\": {}, // included as query params on endpoint url\n// }\nfunction normalizePreAuthz(service) {\n  if (service == null) return null;\n  switch (service[\"f_vsn\"]) {\n    case \"1.0.0\":\n      return service;\n    default:\n      return _objectSpread(_objectSpread({}, SERVICE_PRAGMA), {}, {\n        type: service.type,\n        uid: service.id,\n        endpoint: service.endpoint,\n        method: service.method,\n        identity: _objectSpread(_objectSpread({}, IDENTITY_PRAGMA), {}, {\n          address: withPrefix(service.addr),\n          keyId: service.keyId\n        }),\n        params: service.params,\n        data: service.data\n      });\n  }\n}\n\n// {\n//    \"f_type\": \"Service\",\n//    \"f_vsn\": \"1.0.0\",\n//    \"type\": \"frame\",\n//    \"endpoint\": \"https://rawr\",\n//    \"data\": {},   // Sent to frame when ready\n//    \"params\": {}, // include in query params on frame\n// }\nfunction normalizeFrame(service) {\n  if (service == null) return null;\n  switch (service[\"f_vsn\"]) {\n    case \"1.0.0\":\n      return service;\n    default:\n      return _objectSpread(_objectSpread({\n        old: service\n      }, SERVICE_PRAGMA), {}, {\n        type: \"frame\",\n        endpoint: service.endpoint,\n        params: service.params || {},\n        data: service.data || {}\n      });\n  }\n}\n\n// {\n//    \"f_type\": \"Service\",\n//    \"f_vsn\": \"1.0.0\",\n//    \"type\": \"back-channel-rpc\",\n//    \"endpoint\": \"https://rawr\",\n//    \"method\": \"HTTP/GET\", // HTTP/GET | HTTP/POST\n//    \"data\": {},           // included in body of rpc\n//    \"params\": {},         // included as query params on endpoint url\n// }\nfunction normalizeBackChannelRpc(service) {\n  if (service == null) return null;\n  switch (service[\"f_vsn\"]) {\n    case \"1.0.0\":\n      return service;\n    default:\n      return _objectSpread(_objectSpread({}, SERVICE_PRAGMA), {}, {\n        type: \"back-channel-rpc\",\n        endpoint: service.endpoint,\n        method: service.method,\n        params: service.params || {},\n        data: service.data || {}\n      });\n  }\n}\n\n// {\n//   \"f_type\": \"Service\",\n//   \"f_vsn\": \"1.0.0\",\n//   \"type\": \"open-id\",\n//   \"uid\": \"uniqueDedupeKey\",\n//   \"method: \"data\",\n//   \"data\": {\n//      \"profile\": {\n//        \"name\": \"Bob\",\n//        \"family_name\": \"Builder\",\n//        \"given_name\": \"Robert\",\n//        \"middle_name\": \"the\",\n//        \"nickname\": \"Bob the Builder\",\n//        \"perferred_username\": \"bob\",\n//        \"profile\": \"https://www.bobthebuilder.com/\",\n//        \"picture\": \"https://avatars.onflow.org/avatar/bob\",\n//        \"gender\": \"...\",\n//        \"birthday\": \"2001-01-18\",\n//        \"zoneinfo\": \"America/Vancouver\",\n//        \"locale\": \"en-us\",\n//        \"updated_at\": \"1614970797388\"\n//      },\n//      \"email\": {\n//        \"email\": \"bob@bob.bob\",\n//        \"email_verified\": true\n//      },\n//      \"address\": {\n//        \"address\": \"One Apple Park Way, Cupertino, CA 95014, USA\"\n//      },\n//      \"phone\": {\n//        \"phone_number\": \"+1 (xxx) yyy-zzzz\",\n//        \"phone_number_verified\": true\n//      },\n//      \"social\": {\n//        \"twitter\": \"@_qvvg\",\n//        \"twitter_verified\": true\n//      },\n//   }\n// }\nfunction normalizeOpenId(service) {\n  if (service == null) return null;\n  switch (service[\"f_vsn\"]) {\n    case \"1.0.0\":\n      return service;\n    default:\n      return null;\n  }\n}\n\n// {\n//   \"f_type\": \"Service\",\n//   \"f_vsn\": \"1.0.0\",\n//   \"type\": \"user-signature\",\n//   \"uid\": \"uniqueDedupeKey\",\n//   \"endpoint\": \"https://rawr\",\n//   \"method\": \"IFRAME/RPC\", // HTTP/POST | IFRAME/RPC | HTTP/RPC\n//   \"id\": \"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx\", // wallets internal id for the user\n//   \"data\": {}, // included in body of user-signature request\n//   \"params\": {}, // included as query params on endpoint url\n// }\nfunction normalizeUserSignature(service) {\n  if (service == null) return null;\n  switch (service[\"f_vsn\"]) {\n    case \"1.0.0\":\n      return service;\n    default:\n      throw new Error(\"Invalid user-signature service\");\n  }\n}\n\n// {\n//    \"f_type\": \"Service\",\n//    \"f_vsn\": \"1.0.0\",\n//    type: \"local-view\",\n//    method: \"VIEW/IFRAME\",\n//    endpoint: \"https://woot.org/authz/local\",\n//    data: {},\n//    params: {},\n// }\nfunction normalizeLocalView(resp) {\n  if (resp == null) return null;\n  if (resp.method == null) {\n    resp = _objectSpread(_objectSpread({}, resp), {}, {\n      type: \"local-view\",\n      method: \"VIEW/IFRAME\"\n    });\n  }\n  switch (resp[\"f_vsn\"]) {\n    case \"1.0.0\":\n      return resp;\n    default:\n      return _objectSpread(_objectSpread({}, SERVICE_PRAGMA), {}, {\n        type: resp.type || \"local-view\",\n        method: resp.method,\n        endpoint: resp.endpoint,\n        data: resp.data || {},\n        params: resp.params || {}\n      });\n  }\n}\n\n// {\n//   \"f_type\": \"Service\",                    // Its a service!\n//   \"f_vsn\": \"1.0.0\",                       // Follows the v1.0.0 spec for the service\n//   \"type\": \"account-proof\",                // the type of service it is\n//   \"method\": \"DATA\",                       // Its data!\n//   \"uid\": \"awesome-wallet#account-proof\",  // A unique identifier for the service\n//   \"data\": {\n//     \"f_type\": \"account-proof\",\n//     \"f_vsn\": \"1.0.0\",\n//     \"nonce\": \"0A1BC2FF\",                  // Nonce signed by the current account-proof (minimum 32 bytes in total, i.e 64 hex characters)\n//     \"address\": \"0xUSER\",                  // The user's address (8 bytes, i.e 16 hex characters)\n//     \"signature\": CompositeSignature,      // address (sans-prefix), keyId, signature (hex)\n// }\n\nfunction normalizeAccountProof(service) {\n  if (service == null) return null;\n  switch (service[\"f_vsn\"]) {\n    case \"1.0.0\":\n      return service;\n    default:\n      throw new Error(\"FCL Normalizer Error: Invalid account-proof service\");\n  }\n}\n\n// {\n//   \"f_type\": \"Service\",\n//   \"f_vsn\": \"1.0.0\",\n//   \"type\": \"authn-refresh\",\n//   \"uid\": \"uniqueDedupeKey\",\n//   \"endpoint\": \"https://rawr\",\n//   \"method\": \"HTTP/POST\",  // \"HTTP/POST\", // HTTP/POST | IFRAME/RPC | HTTP/RPC\n//   \"id\": \"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx\", // wallets internal id for the user\n//   \"data\": {}, // included in body of request\n//   \"params\": {}, // included as query params on endpoint url\n// }\nfunction normalizeAuthnRefresh(service) {\n  if (service == null) return null;\n  switch (service[\"f_vsn\"]) {\n    case \"1.0.0\":\n      return service;\n    default:\n      throw new Error(\"Invalid authn-refresh service\");\n  }\n}\nvar serviceNormalizers = {\n  \"back-channel-rpc\": normalizeBackChannelRpc,\n  \"pre-authz\": normalizePreAuthz,\n  authz: normalizeAuthz,\n  authn: normalizeAuthn,\n  frame: normalizeFrame,\n  \"open-id\": normalizeOpenId,\n  \"user-signature\": normalizeUserSignature,\n  \"local-view\": normalizeLocalView,\n  \"account-proof\": normalizeAccountProof,\n  \"authn-refresh\": normalizeAuthnRefresh\n};\nfunction normalizeService(service, data) {\n  try {\n    var normalized = serviceNormalizers[service.type](service, data);\n    return normalized;\n  } catch (error) {\n    console.error(\"Unrecognized FCL Service Type [\".concat(service.type, \"]\"), service, error);\n    return service;\n  }\n}\nfunction deriveCompositeId(authn) {\n  return rlp.encode([authn.provider.address || authn.provider.name || \"UNSPECIFIED\", authn.id]).toString(\"hex\");\n}\nfunction normalizeData(data) {\n  data.addr = data.addr ? withPrefix(data.addr) : null;\n  data.paddr = data.paddr ? withPrefix(data.paddr) : null;\n  return data;\n}\nfunction findService(type, services) {\n  return services.find(function (d) {\n    return d.type === type;\n  });\n}\nfunction buildUser(_x16) {\n  return _buildUser.apply(this, arguments);\n}\nfunction _buildUser() {\n  _buildUser = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee43(data) {\n    var services, authn;\n    return _regeneratorRuntime().wrap(function _callee43$(_context43) {\n      while (1) switch (_context43.prev = _context43.next) {\n        case 0:\n          data = normalizeData(data);\n          _context43.t0 = mergeServices;\n          _context43.t1 = data.services || [];\n          _context43.next = 5;\n          return fetchServices(data.hks, data.code);\n        case 5:\n          _context43.t2 = _context43.sent;\n          services = (0, _context43.t0)(_context43.t1, _context43.t2).map(function (service) {\n            return normalizeService(service, data);\n          });\n          authn = findService(\"authn\", services);\n          return _context43.abrupt(\"return\", _objectSpread(_objectSpread({}, USER_PRAGMA), {}, {\n            addr: withPrefix(data.addr),\n            cid: deriveCompositeId(authn),\n            loggedIn: true,\n            services: services,\n            expiresAt: data.expires\n          }));\n        case 9:\n        case \"end\":\n          return _context43.stop();\n      }\n    }, _callee43);\n  }));\n  return _buildUser.apply(this, arguments);\n}\nfunction serviceOfType() {\n  var services = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var type = arguments.length > 1 ? arguments[1] : undefined;\n  return services.find(function (service) {\n    return service.type === type;\n  });\n}\nfunction serviceEndpoint(service) {\n  var _window;\n  var url = new URL(service.endpoint);\n  if ((_window = window) !== null && _window !== void 0 && (_window = _window.location) !== null && _window !== void 0 && _window.origin) {\n    url.searchParams.append(\"l6n\", window.location.origin);\n  }\n  if (service.params != null) {\n    for (var _i = 0, _Object$entries = Object.entries(service.params || {}); _i < _Object$entries.length; _i++) {\n      var _Object$entries$_i = _slicedToArray(_Object$entries[_i], 2),\n        key = _Object$entries$_i[0],\n        value = _Object$entries$_i[1];\n      url.searchParams.append(key, value);\n    }\n  }\n  return url;\n}\nfunction fetchService(service) {\n  var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var method = opts.method || \"POST\";\n  var body = method === \"GET\" ? undefined : JSON.stringify(opts.data || service.data || {});\n  return fetch(serviceEndpoint(service), {\n    method: method,\n    headers: _objectSpread(_objectSpread(_objectSpread({}, service.headers || {}), opts.headers || {}), {}, {\n      \"Content-Type\": \"application/json\"\n    }),\n    body: body\n  }).then(function (d) {\n    return d.json();\n  });\n}\n\n// {\n//    \"f_type\": \"PollingResponse\",\n//    \"f_vsn\": \"1.0.0\",\n//    \"status\": \"PENDING\", // PENDING | APPROVED | DECLINED | REDIRECT\n//    \"reason\": null,      // Reason for Declining Transaction\n//    \"data\": null,        // Return value for APPROVED\n//    \"updates\": BackChannelRpc,\n//    \"local\": Frame,\n// }\nfunction normalizePollingResponse(resp) {\n  var _resp$status, _resp$reason;\n  if (resp == null) return null;\n  switch (resp[\"f_vsn\"]) {\n    case \"1.0.0\":\n      return resp;\n    default:\n      return _objectSpread(_objectSpread({}, POLLING_RESPONSE_PRAGMA), {}, {\n        status: (_resp$status = resp.status) !== null && _resp$status !== void 0 ? _resp$status : \"APPROVED\",\n        reason: (_resp$reason = resp.reason) !== null && _resp$reason !== void 0 ? _resp$reason : null,\n        data: resp.compositeSignature || resp.data || _objectSpread({}, resp) || {},\n        updates: normalizeBackChannelRpc(resp.authorizationUpdates),\n        local: normalizeFrame((resp.local || [])[0])\n      });\n  }\n}\nvar OPTIONS = {\n  \"HTTP/GET\": \"GET\",\n  \"HTTP/POST\": \"POST\"\n};\nvar serviceMethod = function serviceMethod(service) {\n  invariant(OPTIONS[service.method], \"Invalid Service Method for type back-channel-rpc\", {\n    service: service\n  });\n  return OPTIONS[service.method];\n};\nfunction poll(_x17) {\n  return _poll.apply(this, arguments);\n}\nfunction _poll() {\n  _poll = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee44(service) {\n    var canContinue,\n      resp,\n      _args44 = arguments;\n    return _regeneratorRuntime().wrap(function _callee44$(_context44) {\n      while (1) switch (_context44.prev = _context44.next) {\n        case 0:\n          canContinue = _args44.length > 1 && _args44[1] !== undefined ? _args44[1] : function () {\n            return true;\n          };\n          invariant(service, \"Missing Polling Service\", {\n            service: service\n          });\n          if (canContinue()) {\n            _context44.next = 4;\n            break;\n          }\n          throw new Error(\"Externally Halted\");\n        case 4:\n          _context44.prev = 4;\n          if (!(typeof document !== \"undefined\" && document.visibilityState === \"hidden\")) {\n            _context44.next = 9;\n            break;\n          }\n          _context44.next = 8;\n          return new Promise(function (r) {\n            return setTimeout(r, 500);\n          });\n        case 8:\n          return _context44.abrupt(\"return\", poll(service, canContinue));\n        case 9:\n          _context44.next = 11;\n          return fetchService(service, {\n            method: serviceMethod(service)\n          }).then(normalizePollingResponse);\n        case 11:\n          resp = _context44.sent;\n          _context44.next = 17;\n          break;\n        case 14:\n          _context44.prev = 14;\n          _context44.t0 = _context44[\"catch\"](4);\n          throw _context44.t0;\n        case 17:\n          _context44.t1 = resp.status;\n          _context44.next = _context44.t1 === \"APPROVED\" ? 20 : _context44.t1 === \"DECLINED\" ? 21 : 22;\n          break;\n        case 20:\n          return _context44.abrupt(\"return\", resp.data);\n        case 21:\n          throw new Error(\"Declined: \".concat(resp.reason || \"No reason supplied.\"));\n        case 22:\n          _context44.next = 24;\n          return new Promise(function (r) {\n            return setTimeout(r, 500);\n          });\n        case 24:\n          return _context44.abrupt(\"return\", poll(resp.updates, canContinue));\n        case 25:\n        case \"end\":\n          return _context44.stop();\n      }\n    }, _callee44, null, [[4, 14]]);\n  }));\n  return _poll.apply(this, arguments);\n}\nvar FRAME = \"FCL_IFRAME\";\nvar FRAME_STYLES = \"\\n  position:fixed;\\n  top: 0px;\\n  right: 0px;\\n  bottom: 0px;\\n  left: 0px;\\n  height: 100%;\\n  width: 100vw;\\n  display:block;\\n  background:rgba(0,0,0,0.25);\\n  z-index: 2147483647;\\n  box-sizing: border-box;\\n  color-scheme: light;\\n\";\nfunction renderFrame(src) {\n  invariant(!document.getElementById(FRAME), \"Attempt at triggering multiple Frames\", {\n    src: src\n  });\n  var $frame = document.createElement(\"iframe\");\n  $frame.src = src;\n  $frame.id = FRAME;\n  $frame.allow = \"usb *; hid *\";\n  $frame.frameBorder = \"0\";\n  $frame.style.cssText = FRAME_STYLES;\n  document.body.append($frame);\n  var unmount = function unmount() {\n    if (document.getElementById(FRAME)) {\n      document.getElementById(FRAME).remove();\n    }\n  };\n  return [$frame.contentWindow, unmount];\n}\nvar POP = \"FCL_POP\";\nvar popup = null;\nvar previousUrl$1 = null;\nfunction popupWindow(url, windowName, win, w, h) {\n  var y = win.top.outerHeight / 2 + win.top.screenY - h / 2;\n  var x = win.top.outerWidth / 2 + win.top.screenX - w / 2;\n  var popup = win.open(url, windowName, \"toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width=\".concat(w, \", height=\").concat(h, \", top=\").concat(y, \", left=\").concat(x));\n  if (!popup) throw new Error(\"Popup failed to open (was it blocked by a popup blocker?)\");\n  return popup;\n}\nfunction renderPop(src) {\n  var _popup;\n  if (popup == null || (_popup = popup) !== null && _popup !== void 0 && _popup.closed) {\n    popup = popupWindow(src, POP, window, 640, 770);\n  } else if (previousUrl$1 !== src) {\n    popup.location.replace(src);\n    popup.focus();\n  } else {\n    popup.focus();\n  }\n  previousUrl$1 = src;\n  var unmount = function unmount() {\n    if (popup && !popup.closed) {\n      popup.close();\n    }\n    popup = null;\n  };\n  return [popup, unmount];\n}\nvar tab$1 = null;\nvar previousUrl = null;\nfunction renderTab(src) {\n  var _tab$;\n  if (tab$1 == null || (_tab$ = tab$1) !== null && _tab$ !== void 0 && _tab$.closed) {\n    tab$1 = window.open(src, \"_blank\");\n    if (!tab$1) throw new Error(\"Tab failed to open (was it blocked by the browser?)\");\n  } else if (previousUrl !== src) {\n    tab$1.location.replace(src);\n    tab$1.focus();\n  } else {\n    tab$1.focus();\n  }\n  previousUrl = src;\n  var unmount = function unmount() {\n    if (tab$1 && !tab$1.closed) {\n      tab$1.close();\n    }\n    tab$1 = null;\n  };\n  return [tab$1, unmount];\n}\nvar VIEWS = {\n  \"VIEW/IFRAME\": renderFrame,\n  \"VIEW/POP\": renderPop,\n  \"VIEW/TAB\": renderTab\n};\nfunction execLocal(_x18) {\n  return _execLocal.apply(this, arguments);\n}\nfunction _execLocal() {\n  _execLocal = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee45(service) {\n    var opts,\n      _args45 = arguments;\n    return _regeneratorRuntime().wrap(function _callee45$(_context45) {\n      while (1) switch (_context45.prev = _context45.next) {\n        case 0:\n          opts = _args45.length > 1 && _args45[1] !== undefined ? _args45[1] : {};\n          _context45.prev = 1;\n          return _context45.abrupt(\"return\", VIEWS[service.method](serviceEndpoint(service), opts));\n        case 5:\n          _context45.prev = 5;\n          _context45.t0 = _context45[\"catch\"](1);\n          console.error(\"execLocal({service, opts = {}})\", _context45.t0, {\n            service: service,\n            opts: opts\n          });\n          throw _context45.t0;\n        case 9:\n        case \"end\":\n          return _context45.stop();\n      }\n    }, _callee45, null, [[1, 5]]);\n  }));\n  return _execLocal.apply(this, arguments);\n}\nfunction execHttpPost(_x19) {\n  return _execHttpPost.apply(this, arguments);\n}\nfunction _execHttpPost() {\n  _execHttpPost = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee46(_ref) {\n    var service, body, config, opts, resp, canContinue, _yield$execLocal, _yield$execLocal2, _2, unmount, _close;\n    return _regeneratorRuntime().wrap(function _callee46$(_context46) {\n      while (1) switch (_context46.prev = _context46.next) {\n        case 0:\n          service = _ref.service, body = _ref.body, config = _ref.config, opts = _ref.opts;\n          _context46.next = 3;\n          return fetchService(service, {\n            data: _objectSpread({\n              fclVersion: VERSION,\n              service: {\n                params: service.params,\n                data: service.data,\n                type: service.type\n              },\n              config: config\n            }, body)\n          }).then(normalizePollingResponse);\n        case 3:\n          resp = _context46.sent;\n          if (!(resp.status === \"APPROVED\")) {\n            _context46.next = 8;\n            break;\n          }\n          return _context46.abrupt(\"return\", resp.data);\n        case 8:\n          if (!(resp.status === \"DECLINED\")) {\n            _context46.next = 12;\n            break;\n          }\n          throw new Error(\"Declined: \".concat(resp.reason || \"No reason supplied.\"));\n        case 12:\n          if (!(resp.status === \"REDIRECT\")) {\n            _context46.next = 16;\n            break;\n          }\n          return _context46.abrupt(\"return\", resp);\n        case 16:\n          if (!(resp.status === \"PENDING\")) {\n            _context46.next = 28;\n            break;\n          }\n          canContinue = true;\n          _context46.next = 20;\n          return execLocal(normalizeLocalView(resp.local));\n        case 20:\n          _yield$execLocal = _context46.sent;\n          _yield$execLocal2 = _slicedToArray(_yield$execLocal, 2);\n          _2 = _yield$execLocal2[0];\n          unmount = _yield$execLocal2[1];\n          _close = function _close() {\n            try {\n              unmount();\n              canContinue = false;\n            } catch (error) {\n              console.error(\"Frame Close Error\", error);\n            }\n          };\n          return _context46.abrupt(\"return\", poll(resp.updates, function () {\n            return canContinue;\n          }).then(function (serviceResponse) {\n            _close();\n            return serviceResponse;\n          }).catch(function (error) {\n            console.error(error);\n            _close();\n            throw error;\n          }));\n        case 28:\n          console.error(\"Auto Decline: Invalid Response\", {\n            service: service,\n            resp: resp\n          });\n          throw new Error(\"Auto Decline: Invalid Response\");\n        case 30:\n        case \"end\":\n          return _context46.stop();\n      }\n    }, _callee46);\n  }));\n  return _execHttpPost.apply(this, arguments);\n}\nvar CLOSE_EVENT = \"FCL:VIEW:CLOSE\";\nvar READY_EVENT = \"FCL:VIEW:READY\";\nvar RESPONSE_EVENT = \"FCL:VIEW:RESPONSE\";\nvar _ = function _(e) {\n  return typeof e === \"string\" && e.toLowerCase();\n};\nvar IGNORE = new Set([\"monetizationstart\", \"monetizationpending\", \"monetizationprogress\", \"monetizationstop\"]);\nvar deprecate = function deprecate(was, want) {\n  return console.warn(\"DEPRECATION NOTICE\", \"Received \".concat(was, \", please use \").concat(want, \" for this and future versions of FCL\"));\n};\nvar buildMessageHandler = function buildMessageHandler(_ref) {\n  var close = _ref.close,\n    send = _ref.send,\n    onReady = _ref.onReady,\n    onResponse = _ref.onResponse,\n    onMessage = _ref.onMessage;\n  return function (e) {\n    try {\n      if (typeof e.data !== \"object\") return;\n      if (IGNORE.has(e.data.type)) return;\n      if (_(e.data.type) === _(CLOSE_EVENT)) close();\n      if (_(e.data.type) === _(READY_EVENT)) onReady(e, {\n        send: send,\n        close: close\n      });\n      if (_(e.data.type) === _(RESPONSE_EVENT)) onResponse(e, {\n        send: send,\n        close: close\n      });\n      onMessage(e, {\n        send: send,\n        close: close\n      });\n\n      // Backwards Compatible\n      if (_(e.data.type) === _(\"FCL:FRAME:READY\")) {\n        deprecate(e.data.type, READY_EVENT);\n        onReady(e, {\n          send: send,\n          close: close\n        });\n      }\n      if (_(e.data.type) === _(\"FCL:FRAME:RESPONSE\")) {\n        deprecate(e.data.type, RESPONSE_EVENT);\n        onResponse(e, {\n          send: send,\n          close: close\n        });\n      }\n      if (_(e.data.type) === _(\"FCL:FRAME:CLOSE\")) {\n        deprecate(e.data.type, CLOSE_EVENT);\n        close();\n      }\n      //\n      if (_(e.data.type) === _(\"FCL::CHALLENGE::RESPONSE\")) {\n        deprecate(e.data.type, RESPONSE_EVENT);\n        onResponse(e, {\n          send: send,\n          close: close\n        });\n      }\n      if (_(e.data.type) === _(\"FCL::AUTHZ_READY\")) {\n        deprecate(e.data.type, READY_EVENT);\n        onReady(e, {\n          send: send,\n          close: close\n        });\n      }\n      if (_(e.data.type) === _(\"FCL::CHALLENGE::CANCEL\")) {\n        deprecate(e.data.type, CLOSE_EVENT);\n        close();\n      }\n      if (_(e.data.type) === _(\"FCL::CANCEL\")) {\n        deprecate(e.data.type, CLOSE_EVENT);\n        close();\n      }\n    } catch (error) {\n      console.error(\"Frame Callback Error\", error);\n      close();\n    }\n  };\n};\nvar noop$3 = function noop$3() {};\nfunction frame(service) {\n  var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  if (service == null) return {\n    send: noop$3,\n    close: noop$3\n  };\n  var onClose = opts.onClose || noop$3;\n  var onMessage = opts.onMessage || noop$3;\n  var onReady = opts.onReady || noop$3;\n  var onResponse = opts.onResponse || noop$3;\n  var handler = buildMessageHandler({\n    close: close,\n    send: send,\n    onReady: onReady,\n    onResponse: onResponse,\n    onMessage: onMessage\n  });\n  window.addEventListener(\"message\", handler);\n  var _renderFrame = renderFrame(serviceEndpoint(service)),\n    _renderFrame2 = _slicedToArray(_renderFrame, 2),\n    $frame = _renderFrame2[0],\n    unmount = _renderFrame2[1];\n  return {\n    send: send,\n    close: close\n  };\n  function close() {\n    try {\n      window.removeEventListener(\"message\", handler);\n      unmount();\n      onClose();\n    } catch (error) {\n      console.error(\"Frame Close Error\", error);\n    }\n  }\n  function send(msg) {\n    try {\n      $frame.postMessage(JSON.parse(JSON.stringify(msg || {})), \"*\");\n    } catch (error) {\n      console.error(\"Frame Send Error\", msg, error);\n    }\n  }\n}\nfunction execIframeRPC(_ref) {\n  var service = _ref.service,\n    body = _ref.body,\n    config = _ref.config,\n    opts = _ref.opts;\n  return new Promise(function (resolve, reject) {\n    var id = uid();\n    var includeOlderJsonRpcCall = opts.includeOlderJsonRpcCall;\n    frame(service, {\n      onReady: function onReady(_, _ref2) {\n        return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n          var send;\n          return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n            while (1) switch (_context3.prev = _context3.next) {\n              case 0:\n                send = _ref2.send;\n                _context3.prev = 1;\n                send({\n                  type: \"FCL:VIEW:READY:RESPONSE\",\n                  fclVersion: VERSION,\n                  body: body,\n                  service: {\n                    params: service.params,\n                    data: service.data,\n                    type: service.type\n                  },\n                  config: config\n                });\n                send({\n                  fclVersion: VERSION,\n                  type: \"FCL:FRAME:READY:RESPONSE\",\n                  body: body,\n                  service: {\n                    params: service.params,\n                    data: service.data,\n                    type: service.type\n                  },\n                  config: config,\n                  deprecated: {\n                    message: \"FCL:FRAME:READY:RESPONSE is deprecated and replaced with type: FCL:VIEW:READY:RESPONSE\"\n                  }\n                });\n                if (includeOlderJsonRpcCall) {\n                  send({\n                    jsonrpc: \"2.0\",\n                    id: id,\n                    method: \"fcl:sign\",\n                    params: [body, service.params],\n                    deprecated: {\n                      message: \"jsonrpc is deprecated and replaced with type: FCL:VIEW:READY:RESPONSE\"\n                    }\n                  });\n                }\n                _context3.next = 10;\n                break;\n              case 7:\n                _context3.prev = 7;\n                _context3.t0 = _context3[\"catch\"](1);\n                throw _context3.t0;\n              case 10:\n              case \"end\":\n                return _context3.stop();\n            }\n          }, _callee3, null, [[1, 7]]);\n        }))();\n      },\n      onResponse: function onResponse(e, _ref3) {\n        var close = _ref3.close;\n        try {\n          if (typeof e.data !== \"object\") return;\n          var resp = normalizePollingResponse(e.data);\n          switch (resp.status) {\n            case \"APPROVED\":\n              resolve(resp.data);\n              close();\n              break;\n            case \"DECLINED\":\n              reject(\"Declined: \".concat(resp.reason || \"No reason supplied\"));\n              close();\n              break;\n            case \"REDIRECT\":\n              resolve(resp);\n              close();\n              break;\n            default:\n              reject(\"Declined: No reason supplied\");\n              close();\n              break;\n          }\n        } catch (error) {\n          console.error(\"execIframeRPC onResponse error\", error);\n          throw error;\n        }\n      },\n      onMessage: function onMessage(e, _ref4) {\n        var close = _ref4.close;\n        try {\n          if (typeof e.data !== \"object\") return;\n          if (e.data.jsonrpc !== \"2.0\") return;\n          if (e.data.id !== id) return;\n          var resp = normalizePollingResponse(e.data.result);\n          switch (resp.status) {\n            case \"APPROVED\":\n              resolve(resp.data);\n              close();\n              break;\n            case \"DECLINED\":\n              reject(\"Declined: \".concat(resp.reason || \"No reason supplied\"));\n              close();\n              break;\n            case \"REDIRECT\":\n              resolve(resp);\n              close();\n              break;\n            default:\n              reject(\"Declined: No reason supplied\");\n              close();\n              break;\n          }\n        } catch (error) {\n          console.error(\"execIframeRPC onMessage error\", error);\n          throw error;\n        }\n      },\n      onClose: function onClose() {\n        reject(\"Declined: Externally Halted\");\n      }\n    });\n  });\n}\nvar noop$2 = function noop$2() {};\nfunction pop(service) {\n  var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  if (service == null) return {\n    send: noop$2,\n    close: noop$2\n  };\n  var onClose = opts.onClose || noop$2;\n  var onMessage = opts.onMessage || noop$2;\n  var onReady = opts.onReady || noop$2;\n  var onResponse = opts.onResponse || noop$2;\n  var handler = buildMessageHandler({\n    close: close,\n    send: send,\n    onReady: onReady,\n    onResponse: onResponse,\n    onMessage: onMessage\n  });\n  window.addEventListener(\"message\", handler);\n  var _renderPop = renderPop(serviceEndpoint(service)),\n    _renderPop2 = _slicedToArray(_renderPop, 2),\n    $pop = _renderPop2[0],\n    unmount = _renderPop2[1];\n  var timer = setInterval(function () {\n    if ($pop && $pop.closed) {\n      close();\n    }\n  }, 500);\n  return {\n    send: send,\n    close: close\n  };\n  function close() {\n    try {\n      window.removeEventListener(\"message\", handler);\n      clearInterval(timer);\n      unmount();\n      onClose();\n    } catch (error) {\n      console.error(\"Popup Close Error\", error);\n    }\n  }\n  function send(msg) {\n    try {\n      $pop.postMessage(JSON.parse(JSON.stringify(msg || {})), \"*\");\n    } catch (error) {\n      console.error(\"Popup Send Error\", msg, error);\n    }\n  }\n}\nfunction execPopRPC(_ref) {\n  var service = _ref.service,\n    body = _ref.body,\n    config = _ref.config,\n    opts = _ref.opts;\n  return new Promise(function (resolve, reject) {\n    var id = uid();\n    var redir = opts.redir,\n      includeOlderJsonRpcCall = opts.includeOlderJsonRpcCall;\n    pop(service, {\n      onReady: function onReady(_, _ref2) {\n        return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4() {\n          var send;\n          return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n            while (1) switch (_context4.prev = _context4.next) {\n              case 0:\n                send = _ref2.send;\n                _context4.prev = 1;\n                send({\n                  fclVersion: VERSION,\n                  type: \"FCL:VIEW:READY:RESPONSE\",\n                  body: body,\n                  service: {\n                    params: service.params,\n                    data: service.data,\n                    type: service.type\n                  },\n                  config: config\n                });\n                send({\n                  fclVersion: VERSION,\n                  type: \"FCL:FRAME:READY:RESPONSE\",\n                  body: body,\n                  service: {\n                    params: service.params,\n                    data: service.data,\n                    type: service.type\n                  },\n                  config: config,\n                  deprecated: {\n                    message: \"FCL:FRAME:READY:RESPONSE is deprecated and replaced with type: FCL:VIEW:READY:RESPONSE\"\n                  }\n                });\n                if (includeOlderJsonRpcCall) {\n                  send({\n                    jsonrpc: \"2.0\",\n                    id: id,\n                    method: \"fcl:sign\",\n                    params: [body, service.params]\n                  });\n                }\n                _context4.next = 10;\n                break;\n              case 7:\n                _context4.prev = 7;\n                _context4.t0 = _context4[\"catch\"](1);\n                throw _context4.t0;\n              case 10:\n              case \"end\":\n                return _context4.stop();\n            }\n          }, _callee4, null, [[1, 7]]);\n        }))();\n      },\n      onResponse: function onResponse(e, _ref3) {\n        var close = _ref3.close;\n        try {\n          if (typeof e.data !== \"object\") return;\n          var resp = normalizePollingResponse(e.data);\n          switch (resp.status) {\n            case \"APPROVED\":\n              resolve(resp.data);\n              !redir && close();\n              break;\n            case \"DECLINED\":\n              reject(\"Declined: \".concat(resp.reason || \"No reason supplied\"));\n              close();\n              break;\n            case \"REDIRECT\":\n              resolve(resp);\n              close();\n              break;\n            default:\n              reject(\"Declined: No reason supplied\");\n              close();\n              break;\n          }\n        } catch (error) {\n          console.error(\"execPopRPC onResponse error\", error);\n          throw error;\n        }\n      },\n      onMessage: function onMessage(e, _ref4) {\n        var close = _ref4.close;\n        try {\n          if (typeof e.data !== \"object\") return;\n          if (e.data.jsonrpc !== \"2.0\") return;\n          if (e.data.id !== id) return;\n          var resp = normalizePollingResponse(e.data.result);\n          switch (resp.status) {\n            case \"APPROVED\":\n              resolve(resp.data);\n              !redir && close();\n              break;\n            case \"DECLINED\":\n              reject(\"Declined: \".concat(resp.reason || \"No reason supplied\"));\n              close();\n              break;\n            case \"REDIRECT\":\n              resolve(resp);\n              close();\n              break;\n            default:\n              reject(\"Declined: No reason supplied\");\n              close();\n              break;\n          }\n        } catch (error) {\n          console.error(\"execPopRPC onMessage error\", error);\n          throw error;\n        }\n      },\n      onClose: function onClose() {\n        reject(\"Declined: Externally Halted\");\n      }\n    });\n  });\n}\nvar noop$1 = function noop$1() {};\nfunction tab(service) {\n  var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  if (service == null) return {\n    send: noop$1,\n    close: noop$1\n  };\n  var onClose = opts.onClose || noop$1;\n  var onMessage = opts.onMessage || noop$1;\n  var onReady = opts.onReady || noop$1;\n  var onResponse = opts.onResponse || noop$1;\n  var handler = buildMessageHandler({\n    close: close,\n    send: send,\n    onReady: onReady,\n    onResponse: onResponse,\n    onMessage: onMessage\n  });\n  window.addEventListener(\"message\", handler);\n  var _renderTab = renderTab(serviceEndpoint(service)),\n    _renderTab2 = _slicedToArray(_renderTab, 2),\n    $tab = _renderTab2[0],\n    unmount = _renderTab2[1];\n  var timer = setInterval(function () {\n    if ($tab && $tab.closed) {\n      close();\n    }\n  }, 500);\n  return {\n    send: send,\n    close: close\n  };\n  function close() {\n    try {\n      window.removeEventListener(\"message\", handler);\n      clearInterval(timer);\n      unmount();\n      onClose();\n    } catch (error) {\n      console.error(\"Tab Close Error\", error);\n    }\n  }\n  function send(msg) {\n    try {\n      $tab.postMessage(JSON.parse(JSON.stringify(msg || {})), \"*\");\n    } catch (error) {\n      console.error(\"Tab Send Error\", msg, error);\n    }\n  }\n}\nfunction execTabRPC(_ref) {\n  var service = _ref.service,\n    body = _ref.body,\n    config = _ref.config,\n    opts = _ref.opts;\n  return new Promise(function (resolve, reject) {\n    var id = uid();\n    var redir = opts.redir,\n      includeOlderJsonRpcCall = opts.includeOlderJsonRpcCall;\n    tab(service, {\n      onReady: function onReady(_, _ref2) {\n        return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5() {\n          var send;\n          return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n            while (1) switch (_context5.prev = _context5.next) {\n              case 0:\n                send = _ref2.send;\n                _context5.prev = 1;\n                send({\n                  fclVersion: VERSION,\n                  type: \"FCL:VIEW:READY:RESPONSE\",\n                  body: body,\n                  service: {\n                    params: service.params,\n                    data: service.data,\n                    type: service.type\n                  },\n                  config: config\n                });\n                send({\n                  fclVersion: VERSION,\n                  type: \"FCL:FRAME:READY:RESPONSE\",\n                  body: body,\n                  service: {\n                    params: service.params,\n                    data: service.data,\n                    type: service.type\n                  },\n                  config: config,\n                  deprecated: {\n                    message: \"FCL:FRAME:READY:RESPONSE is deprecated and replaced with type: FCL:VIEW:READY:RESPONSE\"\n                  }\n                });\n                if (includeOlderJsonRpcCall) {\n                  send({\n                    jsonrpc: \"2.0\",\n                    id: id,\n                    method: \"fcl:sign\",\n                    params: [body, service.params]\n                  });\n                }\n                _context5.next = 10;\n                break;\n              case 7:\n                _context5.prev = 7;\n                _context5.t0 = _context5[\"catch\"](1);\n                throw _context5.t0;\n              case 10:\n              case \"end\":\n                return _context5.stop();\n            }\n          }, _callee5, null, [[1, 7]]);\n        }))();\n      },\n      onResponse: function onResponse(e, _ref3) {\n        var close = _ref3.close;\n        try {\n          if (typeof e.data !== \"object\") return;\n          var resp = normalizePollingResponse(e.data);\n          switch (resp.status) {\n            case \"APPROVED\":\n              resolve(resp.data);\n              !redir && close();\n              break;\n            case \"DECLINED\":\n              reject(\"Declined: \".concat(resp.reason || \"No reason supplied\"));\n              close();\n              break;\n            case \"REDIRECT\":\n              resolve(resp);\n              close();\n              break;\n            default:\n              reject(\"Declined: No reason supplied\");\n              close();\n              break;\n          }\n        } catch (error) {\n          console.error(\"execPopRPC onResponse error\", error);\n          throw error;\n        }\n      },\n      onMessage: function onMessage(e, _ref4) {\n        var close = _ref4.close;\n        try {\n          if (typeof e.data !== \"object\") return;\n          if (e.data.jsonrpc !== \"2.0\") return;\n          if (e.data.id !== id) return;\n          var resp = normalizePollingResponse(e.data.result);\n          switch (resp.status) {\n            case \"APPROVED\":\n              resolve(resp.data);\n              !redir && close();\n              break;\n            case \"DECLINED\":\n              reject(\"Declined: \".concat(resp.reason || \"No reason supplied\"));\n              close();\n              break;\n            case \"REDIRECT\":\n              resolve(resp);\n              close();\n              break;\n            default:\n              reject(\"Declined: No reason supplied\");\n              close();\n              break;\n          }\n        } catch (error) {\n          console.error(\"execPopRPC onMessage error\", error);\n          throw error;\n        }\n      },\n      onClose: function onClose() {\n        reject(\"Declined: Externally Halted\");\n      }\n    });\n  });\n}\nvar noop = function noop() {};\nfunction extension(service) {\n  var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  if (service == null) return {\n    send: noop,\n    close: noop\n  };\n  var onClose = opts.onClose || noop;\n  var onMessage = opts.onMessage || noop;\n  var onReady = opts.onReady || noop;\n  var onResponse = opts.onResponse || noop;\n  var handler = buildMessageHandler({\n    close: close,\n    send: send,\n    onReady: onReady,\n    onResponse: onResponse,\n    onMessage: onMessage\n  });\n  window.addEventListener(\"message\", handler);\n  send({\n    service: service\n  });\n  return {\n    send: send,\n    close: close\n  };\n  function close() {\n    try {\n      window.removeEventListener(\"message\", handler);\n      onClose();\n    } catch (error) {\n      console.error(\"Ext Close Error\", error);\n    }\n  }\n  function send(msg) {\n    try {\n      window && window.postMessage(JSON.parse(JSON.stringify(msg || {})), \"*\");\n    } catch (error) {\n      console.error(\"Ext Send Error\", msg, error);\n    }\n  }\n}\nfunction execExtRPC(_ref) {\n  var service = _ref.service,\n    body = _ref.body,\n    config = _ref.config,\n    opts = _ref.opts;\n  return new Promise(function (resolve, reject) {\n    extension(service, {\n      onReady: function onReady(_, _ref2) {\n        return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6() {\n          var send;\n          return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n            while (1) switch (_context6.prev = _context6.next) {\n              case 0:\n                send = _ref2.send;\n                _context6.prev = 1;\n                send({\n                  fclVersion: VERSION,\n                  type: \"FCL:VIEW:READY:RESPONSE\",\n                  body: body,\n                  service: {\n                    params: service.params,\n                    data: service.data,\n                    type: service.type\n                  },\n                  config: config\n                });\n                _context6.next = 8;\n                break;\n              case 5:\n                _context6.prev = 5;\n                _context6.t0 = _context6[\"catch\"](1);\n                throw _context6.t0;\n              case 8:\n              case \"end\":\n                return _context6.stop();\n            }\n          }, _callee6, null, [[1, 5]]);\n        }))();\n      },\n      onResponse: function onResponse(e, _ref3) {\n        var close = _ref3.close;\n        try {\n          if (typeof e.data !== \"object\") return;\n          var resp = normalizePollingResponse(e.data);\n          switch (resp.status) {\n            case \"APPROVED\":\n              resolve(resp.data);\n              close();\n              break;\n            case \"DECLINED\":\n              reject(\"Declined: \".concat(resp.reason || \"No reason supplied\"));\n              close();\n              break;\n            case \"REDIRECT\":\n              resolve(resp);\n              close();\n              break;\n            default:\n              reject(\"Declined: No reason supplied\");\n              close();\n              break;\n          }\n        } catch (error) {\n          console.error(\"execExtRPC onResponse error\", error);\n          throw error;\n        }\n      },\n      onClose: function onClose() {\n        reject(\"Declined: Externally Halted\");\n      }\n    });\n  });\n}\nvar CORE_STRATEGIES = {\n  \"HTTP/RPC\": execHttpPost,\n  \"HTTP/POST\": execHttpPost,\n  \"IFRAME/RPC\": execIframeRPC,\n  \"POP/RPC\": execPopRPC,\n  \"TAB/RPC\": execTabRPC,\n  \"EXT/RPC\": execExtRPC\n};\nvar supportedPlugins = [\"ServicePlugin\"];\nvar supportedServicePlugins = [\"discovery-service\"];\nvar validateDiscoveryPlugin = function validateDiscoveryPlugin(servicePlugin) {\n  var services = servicePlugin.services,\n    serviceStrategy = servicePlugin.serviceStrategy;\n  invariant(Array.isArray(services) && services.length, \"Array of Discovery Services is required\");\n  var _iterator = _createForOfIteratorHelper(services),\n    _step;\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var ds = _step.value;\n      invariant(isRequired(ds.f_type) && ds.f_type === \"Service\", \"Service is required\");\n      invariant(isRequired(ds.type) && ds.type === \"authn\", \"Service must be type authn. Received \".concat(ds.type));\n      invariant(ds.method in CORE_STRATEGIES || serviceStrategy.method === ds.method, \"Service method \".concat(ds.method, \" is not supported\"));\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n  invariant(isRequired(serviceStrategy), \"Service strategy is required\");\n  invariant(isRequired(serviceStrategy.method) && isString(serviceStrategy.method), \"Service strategy method is required\");\n  invariant(isRequired(serviceStrategy.exec) && isFunc(serviceStrategy.exec), \"Service strategy exec function is required\");\n  return {\n    discoveryServices: services,\n    serviceStrategy: serviceStrategy\n  };\n};\nvar ServiceRegistry = function ServiceRegistry() {\n  var services = new Set();\n  var strategies = new Map(Object.entries(CORE_STRATEGIES));\n  var add = function add(servicePlugin) {\n    invariant(supportedServicePlugins.includes(servicePlugin.type), \"Service Plugin type \".concat(servicePlugin.type, \" is not supported\"));\n    if (servicePlugin.type === \"discovery-service\") {\n      var _validateDiscoveryPlu = validateDiscoveryPlugin(servicePlugin),\n        discoveryServices = _validateDiscoveryPlu.discoveryServices,\n        serviceStrategy = _validateDiscoveryPlu.serviceStrategy;\n      setServices(discoveryServices);\n      if (!strategies.has(serviceStrategy.method)) {\n        strategies.set(serviceStrategy.method, serviceStrategy.exec);\n      } else {\n        log({\n          title: \"Add Service Plugin\",\n          message: \"Service strategy for \".concat(serviceStrategy.method, \" already exists\"),\n          level: LEVELS.warn\n        });\n      }\n    }\n  };\n  var setServices = function setServices(discoveryServices) {\n    return services = new Set(_toConsumableArray(discoveryServices));\n  };\n  var getServices = function getServices() {\n    return _toConsumableArray(services);\n  };\n  var getStrategy = function getStrategy(method) {\n    return strategies.get(method);\n  };\n  var getStrategies = function getStrategies() {\n    return _toConsumableArray(strategies.keys());\n  };\n  return Object.freeze({\n    add: add,\n    getServices: getServices,\n    getStrategy: getStrategy,\n    getStrategies: getStrategies\n  });\n};\nvar validatePlugins = function validatePlugins(plugins) {\n  var pluginsArray;\n  invariant(plugins, \"No plugins supplied\");\n  if (!Array.isArray(plugins)) {\n    pluginsArray = [plugins];\n  } else {\n    pluginsArray = _toConsumableArray(plugins);\n  }\n  var _iterator2 = _createForOfIteratorHelper(pluginsArray),\n    _step2;\n  try {\n    for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n      var p = _step2.value;\n      invariant(isRequired(p.name), \"Plugin name is required\");\n      invariant(isRequired(p.f_type), \"Plugin f_type is required\");\n      invariant(supportedPlugins.includes(p.f_type), \"Plugin type \".concat(p.f_type, \" is not supported\"));\n    }\n  } catch (err) {\n    _iterator2.e(err);\n  } finally {\n    _iterator2.f();\n  }\n  return pluginsArray;\n};\nvar PluginRegistry = function PluginRegistry() {\n  var pluginsMap = new Map();\n  var getPlugins = function getPlugins() {\n    return pluginsMap;\n  };\n  var add = function add(plugins) {\n    var pluginsArray = validatePlugins(plugins);\n    var _iterator3 = _createForOfIteratorHelper(pluginsArray),\n      _step3;\n    try {\n      for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n        var p = _step3.value;\n        pluginsMap.set(p.name, p);\n        if (p.f_type === \"ServicePlugin\") {\n          serviceRegistry.add(p);\n        }\n      }\n    } catch (err) {\n      _iterator3.e(err);\n    } finally {\n      _iterator3.f();\n    }\n  };\n  return Object.freeze({\n    add: add,\n    getPlugins: getPlugins\n  });\n};\nvar serviceRegistry = ServiceRegistry();\nvar pluginRegistry = PluginRegistry();\nvar execStrategy = /*#__PURE__*/function () {\n  var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee7(_ref) {\n    var service, body, config, opts, strategy;\n    return _regeneratorRuntime().wrap(function _callee7$(_context7) {\n      while (1) switch (_context7.prev = _context7.next) {\n        case 0:\n          service = _ref.service, body = _ref.body, config = _ref.config, opts = _ref.opts;\n          strategy = serviceRegistry.getStrategy(service.method);\n          return _context7.abrupt(\"return\", strategy({\n            service: service,\n            body: body,\n            config: config,\n            opts: opts\n          }));\n        case 3:\n        case \"end\":\n          return _context7.stop();\n      }\n    }, _callee7);\n  }));\n  return function execStrategy(_x20) {\n    return _ref6.apply(this, arguments);\n  };\n}();\nfunction execService(_x21) {\n  return _execService.apply(this, arguments);\n} // {\n//    \"f_type\": \"CompositeSignature\",\n//    \"f_vsn\": \"1.0.0\",\n//    \"addr\": \"_____\",         // sans-prefix\n//    \"signature\": \"adfe1234\", // hex\n//    \"keyId\": 3,\n// }\nfunction _execService() {\n  _execService = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee47(_ref2) {\n    var _window$location$host, _window3;\n    var service, _ref2$msg, msg, _ref2$config, config, _ref2$opts, opts, execConfig, res;\n    return _regeneratorRuntime().wrap(function _callee47$(_context47) {\n      while (1) switch (_context47.prev = _context47.next) {\n        case 0:\n          service = _ref2.service, _ref2$msg = _ref2.msg, msg = _ref2$msg === void 0 ? {} : _ref2$msg, _ref2$config = _ref2.config, config = _ref2$config === void 0 ? {} : _ref2$config, _ref2$opts = _ref2.opts, opts = _ref2$opts === void 0 ? {} : _ref2$opts;\n          msg.data = service.data;\n          _context47.next = 4;\n          return configLens(/^service\\./);\n        case 4:\n          _context47.t0 = _context47.sent;\n          _context47.next = 7;\n          return configLens(/^app\\.detail\\./);\n        case 7:\n          _context47.t1 = _context47.sent;\n          _context47.t2 = _objectSpread;\n          _context47.t3 = _objectSpread({}, config.client);\n          _context47.t4 = {};\n          _context47.t5 = VERSION;\n          _context47.t6 = (_window$location$host = (_window3 = window) === null || _window3 === void 0 || (_window3 = _window3.location) === null || _window3 === void 0 ? void 0 : _window3.hostname) !== null && _window$location$host !== void 0 ? _window$location$host : null;\n          _context47.next = 15;\n          return getChainId();\n        case 15:\n          _context47.t7 = _context47.sent;\n          _context47.t8 = {\n            fclVersion: _context47.t5,\n            fclLibrary: \"https://github.com/onflow/fcl-js\",\n            hostname: _context47.t6,\n            network: _context47.t7\n          };\n          _context47.t9 = (0, _context47.t2)(_context47.t3, _context47.t4, _context47.t8);\n          execConfig = {\n            services: _context47.t0,\n            app: _context47.t1,\n            client: _context47.t9\n          };\n          _context47.prev = 19;\n          _context47.next = 22;\n          return execStrategy({\n            service: service,\n            body: msg,\n            config: execConfig,\n            opts: opts\n          });\n        case 22:\n          res = _context47.sent;\n          if (!(res.status === \"REDIRECT\")) {\n            _context47.next = 30;\n            break;\n          }\n          invariant(service.type === res.data.type, \"Cannot shift recursive service type in execService\");\n          _context47.next = 27;\n          return execService({\n            service: res.data,\n            msg: msg,\n            config: execConfig,\n            opts: opts\n          });\n        case 27:\n          return _context47.abrupt(\"return\", _context47.sent);\n        case 30:\n          return _context47.abrupt(\"return\", res);\n        case 31:\n          _context47.next = 37;\n          break;\n        case 33:\n          _context47.prev = 33;\n          _context47.t10 = _context47[\"catch\"](19);\n          log({\n            title: \"Error on execService \".concat(service === null || service === void 0 ? void 0 : service.type),\n            message: _context47.t10,\n            level: LEVELS.error\n          });\n          throw _context47.t10;\n        case 37:\n        case \"end\":\n          return _context47.stop();\n      }\n    }, _callee47, null, [[19, 33]]);\n  }));\n  return _execService.apply(this, arguments);\n}\nfunction normalizeCompositeSignature(resp) {\n  if (resp == null) return null;\n  switch (resp[\"f_vsn\"]) {\n    case \"1.0.0\":\n      return resp;\n    default:\n      return _objectSpread(_objectSpread({}, COMPOSITE_SIGNATURE_PRAGMA), {}, {\n        addr: sansPrefix(resp.addr || resp.address),\n        signature: resp.signature || resp.sig,\n        keyId: resp.keyId\n      });\n  }\n}\nvar makeDiscoveryServices = /*#__PURE__*/function () {\n  var _ref7 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee8() {\n    var _window2;\n    var extensionServices;\n    return _regeneratorRuntime().wrap(function _callee8$(_context8) {\n      while (1) switch (_context8.prev = _context8.next) {\n        case 0:\n          extensionServices = ((_window2 = window) === null || _window2 === void 0 ? void 0 : _window2.fcl_extensions) || [];\n          return _context8.abrupt(\"return\", [].concat(_toConsumableArray(extensionServices), _toConsumableArray(serviceRegistry.getServices())));\n        case 2:\n        case \"end\":\n          return _context8.stop();\n      }\n    }, _callee8);\n  }));\n  return function makeDiscoveryServices() {\n    return _ref7.apply(this, arguments);\n  };\n}();\nfunction getDiscoveryService(_x22) {\n  return _getDiscoveryService.apply(this, arguments);\n}\nfunction _getDiscoveryService() {\n  _getDiscoveryService = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee48(service) {\n    var _service$endpoint;\n    var discoveryAuthnInclude, discoveryWalletMethod, method, endpoint;\n    return _regeneratorRuntime().wrap(function _callee48$(_context48) {\n      while (1) switch (_context48.prev = _context48.next) {\n        case 0:\n          _context48.next = 2;\n          return config.get(\"discovery.authn.include\", []);\n        case 2:\n          discoveryAuthnInclude = _context48.sent;\n          _context48.next = 5;\n          return config.first([\"discovery.wallet.method\", \"discovery.wallet.method.default\"]);\n        case 5:\n          discoveryWalletMethod = _context48.sent;\n          method = service !== null && service !== void 0 && service.method ? service.method : discoveryWalletMethod;\n          if (!((_service$endpoint = service === null || service === void 0 ? void 0 : service.endpoint) !== null && _service$endpoint !== void 0)) {\n            _context48.next = 11;\n            break;\n          }\n          _context48.t0 = _service$endpoint;\n          _context48.next = 14;\n          break;\n        case 11:\n          _context48.next = 13;\n          return config.first([\"discovery.wallet\", \"challenge.handshake\"]);\n        case 13:\n          _context48.t0 = _context48.sent;\n        case 14:\n          endpoint = _context48.t0;\n          invariant(endpoint, \"\\n    If no service is passed to \\\"authenticate,\\\" then \\\"discovery.wallet\\\" must be defined in fcl config.\\n    See: \\\"https://docs.onflow.org/fcl/reference/api/#setting-configuration-values\\\"\\n    \");\n          return _context48.abrupt(\"return\", _objectSpread(_objectSpread({}, service), {}, {\n            type: \"authn\",\n            endpoint: endpoint,\n            method: method,\n            discoveryAuthnInclude: discoveryAuthnInclude\n          }));\n        case 17:\n        case \"end\":\n          return _context48.stop();\n      }\n    }, _callee48);\n  }));\n  return _getDiscoveryService.apply(this, arguments);\n}\nfunction getServices(_x23) {\n  return _getServices.apply(this, arguments);\n}\nfunction _getServices() {\n  _getServices = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee49(_ref) {\n    var _window4;\n    var types, endpoint, include, url;\n    return _regeneratorRuntime().wrap(function _callee49$(_context49) {\n      while (1) switch (_context49.prev = _context49.next) {\n        case 0:\n          types = _ref.types;\n          _context49.next = 3;\n          return config.get(\"discovery.authn.endpoint\");\n        case 3:\n          endpoint = _context49.sent;\n          invariant(Boolean(endpoint), \"\\\"discovery.authn.endpoint\\\" in config must be defined.\");\n          _context49.next = 7;\n          return config.get(\"discovery.authn.include\", []);\n        case 7:\n          include = _context49.sent;\n          url = new URL(endpoint);\n          _context49.t0 = fetch;\n          _context49.t1 = url;\n          _context49.t2 = {\n            \"Content-Type\": \"application/json\"\n          };\n          _context49.t3 = JSON;\n          _context49.t4 = types;\n          _context49.t5 = VERSION;\n          _context49.t6 = include;\n          _context49.next = 18;\n          return makeDiscoveryServices();\n        case 18:\n          _context49.t7 = _context49.sent;\n          _context49.t8 = serviceRegistry.getStrategies();\n          _context49.t9 = (_window4 = window) === null || _window4 === void 0 || (_window4 = _window4.navigator) === null || _window4 === void 0 ? void 0 : _window4.userAgent;\n          _context49.next = 23;\n          return getChainId();\n        case 23:\n          _context49.t10 = _context49.sent;\n          _context49.t11 = {\n            type: _context49.t4,\n            fclVersion: _context49.t5,\n            include: _context49.t6,\n            clientServices: _context49.t7,\n            supportedStrategies: _context49.t8,\n            userAgent: _context49.t9,\n            network: _context49.t10\n          };\n          _context49.t12 = _context49.t3.stringify.call(_context49.t3, _context49.t11);\n          _context49.t13 = {\n            method: \"POST\",\n            headers: _context49.t2,\n            body: _context49.t12\n          };\n          return _context49.abrupt(\"return\", (0, _context49.t0)(_context49.t1, _context49.t13).then(function (d) {\n            return d.json();\n          }));\n        case 28:\n        case \"end\":\n          return _context49.stop();\n      }\n    }, _callee49);\n  }));\n  return _getServices.apply(this, arguments);\n}\nvar SERVICE_ACTOR_KEYS = {\n  AUTHN: \"authn\",\n  RESULTS: \"results\",\n  SNAPSHOT: \"SNAPSHOT\",\n  UPDATED: \"UPDATED\",\n  UPDATE_RESULTS: \"UPDATE_RESULTS\"\n};\nvar warn = function warn(fact, msg) {\n  if (fact) {\n    console.warn(\"\\n      %cFCL Warning\\n      ============================\\n      \".concat(msg, \"\\n      For more info, please see the docs: https://docs.onflow.org/fcl/\\n      ============================\\n      \"), \"font-weight:bold;font-family:monospace;\");\n  }\n};\nvar fetchServicesFromDiscovery = /*#__PURE__*/function () {\n  var _ref8 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee9() {\n    var services;\n    return _regeneratorRuntime().wrap(function _callee9$(_context9) {\n      while (1) switch (_context9.prev = _context9.next) {\n        case 0:\n          _context9.prev = 0;\n          _context9.next = 3;\n          return getServices({\n            types: [SERVICE_ACTOR_KEYS.AUTHN]\n          });\n        case 3:\n          services = _context9.sent;\n          send(SERVICE_ACTOR_KEYS.AUTHN, SERVICE_ACTOR_KEYS.UPDATE_RESULTS, {\n            results: services\n          });\n          _context9.next = 10;\n          break;\n        case 7:\n          _context9.prev = 7;\n          _context9.t0 = _context9[\"catch\"](0);\n          log({\n            title: \"\".concat(_context9.t0.name, \" Error fetching Discovery API services.\"),\n            message: _context9.t0.message,\n            level: LEVELS.error\n          });\n        case 10:\n        case \"end\":\n          return _context9.stop();\n      }\n    }, _callee9, null, [[0, 7]]);\n  }));\n  return function fetchServicesFromDiscovery() {\n    return _ref8.apply(this, arguments);\n  };\n}();\nvar HANDLERS$3 = (_HANDLERS$ = {}, _defineProperty(_HANDLERS$, INIT, function () {\n  var _ref9 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee11(ctx) {\n    return _regeneratorRuntime().wrap(function _callee11$(_context11) {\n      while (1) switch (_context11.prev = _context11.next) {\n        case 0:\n          warn(typeof window === \"undefined\", '\"fcl.discovery\" is only available in the browser.');\n          // If you call this before the window is loaded extensions will not be set yet\n          if (document.readyState === 'complete') {\n            fetchServicesFromDiscovery();\n          } else {\n            window.onload = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee10() {\n              return _regeneratorRuntime().wrap(function _callee10$(_context10) {\n                while (1) switch (_context10.prev = _context10.next) {\n                  case 0:\n                    fetchServicesFromDiscovery();\n                  case 1:\n                  case \"end\":\n                    return _context10.stop();\n                }\n              }, _callee10);\n            }));\n          }\n        case 2:\n        case \"end\":\n          return _context11.stop();\n      }\n    }, _callee11);\n  }));\n  return function (_x24) {\n    return _ref9.apply(this, arguments);\n  };\n}()), _defineProperty(_HANDLERS$, SERVICE_ACTOR_KEYS.UPDATE_RESULTS, function (ctx, _letter, data) {\n  ctx.merge(data);\n  ctx.broadcast(SERVICE_ACTOR_KEYS.UPDATED, _objectSpread({}, ctx.all()));\n}), _defineProperty(_HANDLERS$, SUBSCRIBE, function (ctx, letter) {\n  ctx.subscribe(letter.from);\n  ctx.send(letter.from, SERVICE_ACTOR_KEYS.UPDATED, _objectSpread({}, ctx.all()));\n}), _defineProperty(_HANDLERS$, UNSUBSCRIBE, function (ctx, letter) {\n  return ctx.unsubscribe(letter.from);\n}), _defineProperty(_HANDLERS$, SERVICE_ACTOR_KEYS.SNAPSHOT, function () {\n  var _ref11 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee12(ctx, letter) {\n    return _regeneratorRuntime().wrap(function _callee12$(_context12) {\n      while (1) switch (_context12.prev = _context12.next) {\n        case 0:\n          return _context12.abrupt(\"return\", letter.reply(_objectSpread({}, ctx.all())));\n        case 1:\n        case \"end\":\n          return _context12.stop();\n      }\n    }, _callee12);\n  }));\n  return function (_x25, _x26) {\n    return _ref11.apply(this, arguments);\n  };\n}()), _HANDLERS$);\nvar spawnProviders = function spawnProviders() {\n  return spawn(HANDLERS$3, SERVICE_ACTOR_KEYS.AUTHN);\n};\n\n/**\n * @typedef {import(\"@onflow/typedefs\").Service} Service\n */\n\n/**\n * @callback SubscriptionCallback\n * @returns {Service[]}\n */\n\n/**\n * @description\n * Discovery methods for interacting with Authn.\n * \n * @typedef {object} Authn\n * @property {Function} subscribe - Subscribe to Discovery authn services\n * @property {Function} snapshot - Get the current Discovery authn services spanshot\n * @property {Function} update - Trigger an update of authn services\n */\nvar authn = {\n  /**\n   * @description - Subscribe to Discovery authn services\n   * @param {Function} cb\n   * @returns {SubscriptionCallback}\n   */\n  subscribe: function subscribe(cb) {\n    return subscriber(SERVICE_ACTOR_KEYS.AUTHN, spawnProviders, cb);\n  },\n  /**\n   * @description - Get the current Discovery authn services spanshot\n   * @returns {Service[]}\n   */\n  snapshot: function snapshot() {\n    return snapshoter(SERVICE_ACTOR_KEYS.AUTHN, spawnProviders);\n  },\n  /**\n   * @description - Trigger an update of authn services\n   * @returns {void}\n   */\n  update: function update() {\n    return fetchServicesFromDiscovery();\n  }\n};\nvar discovery = {\n  authn: authn\n};\n\n/**\n * @typedef {import(\"@onflow/typedefs\").CurrentUser} CurrentUser\n * @typedef {import(\"@onflow/typedefs\").CompositeSignature} CompositeSignature\n */\n\nvar isFn = function isFn(d) {\n  return typeof d === \"function\";\n};\nvar NAME = \"CURRENT_USER\";\nvar UPDATED$1 = \"CURRENT_USER/UPDATED\";\nvar SNAPSHOT = \"SNAPSHOT\";\nvar SET_CURRENT_USER = \"SET_CURRENT_USER\";\nvar DEL_CURRENT_USER = \"DEL_CURRENT_USER\";\nvar DATA = \"{\\n  \\\"f_type\\\": \\\"User\\\",\\n  \\\"f_vsn\\\": \\\"1.0.0\\\",\\n  \\\"addr\\\":null,\\n  \\\"cid\\\":null,\\n  \\\"loggedIn\\\":null,\\n  \\\"expiresAt\\\":null,\\n  \\\"services\\\":[]\\n}\";\nvar getStoredUser = /*#__PURE__*/function () {\n  var _ref12 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee13(storage) {\n    var fallback, stored;\n    return _regeneratorRuntime().wrap(function _callee13$(_context13) {\n      while (1) switch (_context13.prev = _context13.next) {\n        case 0:\n          fallback = JSON.parse(DATA);\n          _context13.next = 3;\n          return storage.get(NAME);\n        case 3:\n          stored = _context13.sent;\n          if (!(stored != null && fallback[\"f_vsn\"] !== stored[\"f_vsn\"])) {\n            _context13.next = 7;\n            break;\n          }\n          storage.removeItem(NAME);\n          return _context13.abrupt(\"return\", fallback);\n        case 7:\n          return _context13.abrupt(\"return\", stored || fallback);\n        case 8:\n        case \"end\":\n          return _context13.stop();\n      }\n    }, _callee13);\n  }));\n  return function getStoredUser(_x27) {\n    return _ref12.apply(this, arguments);\n  };\n}();\nvar HANDLERS$2 = (_HANDLERS$2 = {}, _defineProperty(_HANDLERS$2, INIT, function () {\n  var _ref13 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee14(ctx) {\n    var storage, user;\n    return _regeneratorRuntime().wrap(function _callee14$(_context14) {\n      while (1) switch (_context14.prev = _context14.next) {\n        case 0:\n          if (typeof window === \"undefined\") {\n            console.warn(\"\\n        %cFCL Warning\\n        ============================\\n        \\\"currentUser\\\" is only available in the browser.\\n        For more info, please see the docs: https://docs.onflow.org/fcl/\\n        ============================\\n        \", \"font-weight:bold;font-family:monospace;\");\n          }\n          ctx.merge(JSON.parse(DATA));\n          _context14.next = 4;\n          return config.first([\"fcl.storage\", \"fcl.storage.default\"]);\n        case 4:\n          storage = _context14.sent;\n          if (!storage.can) {\n            _context14.next = 10;\n            break;\n          }\n          _context14.next = 8;\n          return getStoredUser(storage);\n        case 8:\n          user = _context14.sent;\n          if (notExpired(user)) ctx.merge(user);\n        case 10:\n        case \"end\":\n          return _context14.stop();\n      }\n    }, _callee14);\n  }));\n  return function (_x28) {\n    return _ref13.apply(this, arguments);\n  };\n}()), _defineProperty(_HANDLERS$2, SUBSCRIBE, function (ctx, letter) {\n  ctx.subscribe(letter.from);\n  ctx.send(letter.from, UPDATED$1, _objectSpread({}, ctx.all()));\n}), _defineProperty(_HANDLERS$2, UNSUBSCRIBE, function (ctx, letter) {\n  ctx.unsubscribe(letter.from);\n}), _defineProperty(_HANDLERS$2, SNAPSHOT, function () {\n  var _ref14 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee15(ctx, letter) {\n    return _regeneratorRuntime().wrap(function _callee15$(_context15) {\n      while (1) switch (_context15.prev = _context15.next) {\n        case 0:\n          letter.reply(_objectSpread({}, ctx.all()));\n        case 1:\n        case \"end\":\n          return _context15.stop();\n      }\n    }, _callee15);\n  }));\n  return function (_x29, _x30) {\n    return _ref14.apply(this, arguments);\n  };\n}()), _defineProperty(_HANDLERS$2, SET_CURRENT_USER, function () {\n  var _ref15 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee16(ctx, letter, data) {\n    var storage;\n    return _regeneratorRuntime().wrap(function _callee16$(_context16) {\n      while (1) switch (_context16.prev = _context16.next) {\n        case 0:\n          ctx.merge(data);\n          _context16.next = 3;\n          return config.first([\"fcl.storage\", \"fcl.storage.default\"]);\n        case 3:\n          storage = _context16.sent;\n          if (storage.can) storage.put(NAME, ctx.all());\n          ctx.broadcast(UPDATED$1, _objectSpread({}, ctx.all()));\n        case 6:\n        case \"end\":\n          return _context16.stop();\n      }\n    }, _callee16);\n  }));\n  return function (_x31, _x32, _x33) {\n    return _ref15.apply(this, arguments);\n  };\n}()), _defineProperty(_HANDLERS$2, DEL_CURRENT_USER, function () {\n  var _ref16 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee17(ctx, letter) {\n    var storage;\n    return _regeneratorRuntime().wrap(function _callee17$(_context17) {\n      while (1) switch (_context17.prev = _context17.next) {\n        case 0:\n          ctx.merge(JSON.parse(DATA));\n          _context17.next = 3;\n          return config.first([\"fcl.storage\", \"fcl.storage.default\"]);\n        case 3:\n          storage = _context17.sent;\n          if (storage.can) storage.put(NAME, ctx.all());\n          ctx.broadcast(UPDATED$1, _objectSpread({}, ctx.all()));\n        case 6:\n        case \"end\":\n          return _context17.stop();\n      }\n    }, _callee17);\n  }));\n  return function (_x34, _x35) {\n    return _ref16.apply(this, arguments);\n  };\n}()), _HANDLERS$2);\nvar spawnCurrentUser = function spawnCurrentUser() {\n  return spawn(HANDLERS$2, NAME);\n};\nfunction notExpired(user) {\n  return user.expiresAt == null || user.expiresAt === 0 || user.expiresAt > Date.now();\n}\nfunction getAccountProofData() {\n  return _getAccountProofData.apply(this, arguments);\n}\nfunction _getAccountProofData() {\n  _getAccountProofData = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee50() {\n    var accountProofDataResolver, accountProofData;\n    return _regeneratorRuntime().wrap(function _callee50$(_context50) {\n      while (1) switch (_context50.prev = _context50.next) {\n        case 0:\n          _context50.next = 2;\n          return config.get(\"fcl.accountProof.resolver\");\n        case 2:\n          accountProofDataResolver = _context50.sent;\n          if (!(accountProofDataResolver == null)) {\n            _context50.next = 5;\n            break;\n          }\n          return _context50.abrupt(\"return\");\n        case 5:\n          if (isFn(accountProofDataResolver)) {\n            _context50.next = 8;\n            break;\n          }\n          log({\n            title: \"Account Proof Data Resolver must be a function\",\n            message: \"Check fcl.accountProof.resolver configuration.\\n                Expected: fcl.accountProof.resolver: async () => { ... }\\n                Received: fcl.accountProof.resolver: \".concat(typeof accountProofDataResolver, \"\\n                \"),\n            level: LEVELS.warn\n          });\n          return _context50.abrupt(\"return\");\n        case 8:\n          _context50.next = 10;\n          return accountProofDataResolver();\n        case 10:\n          accountProofData = _context50.sent;\n          if (!(accountProofData == null)) {\n            _context50.next = 13;\n            break;\n          }\n          return _context50.abrupt(\"return\");\n        case 13:\n          invariant(typeof accountProofData.appIdentifier === \"string\", \"appIdentifier must be a string\");\n          invariant(/^[0-9a-f]+$/i.test(accountProofData.nonce), \"Nonce must be a hex string\");\n          return _context50.abrupt(\"return\", accountProofData);\n        case 16:\n        case \"end\":\n          return _context50.stop();\n      }\n    }, _callee50);\n  }));\n  return _getAccountProofData.apply(this, arguments);\n}\nvar makeConfig = /*#__PURE__*/function () {\n  var _ref17 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee18(_ref) {\n    var discoveryAuthnInclude;\n    return _regeneratorRuntime().wrap(function _callee18$(_context18) {\n      while (1) switch (_context18.prev = _context18.next) {\n        case 0:\n          discoveryAuthnInclude = _ref.discoveryAuthnInclude;\n          _context18.t0 = discoveryAuthnInclude;\n          _context18.next = 4;\n          return makeDiscoveryServices();\n        case 4:\n          _context18.t1 = _context18.sent;\n          _context18.t2 = serviceRegistry.getStrategies();\n          _context18.t3 = {\n            discoveryAuthnInclude: _context18.t0,\n            clientServices: _context18.t1,\n            supportedStrategies: _context18.t2\n          };\n          return _context18.abrupt(\"return\", {\n            client: _context18.t3\n          });\n        case 8:\n        case \"end\":\n          return _context18.stop();\n      }\n    }, _callee18);\n  }));\n  return function makeConfig(_x36) {\n    return _ref17.apply(this, arguments);\n  };\n}();\n\n/**\n * @description - Authenticate a user\n * @param {object} [opts] - Options\n * @param {object} [opts.service] - Optional service to use for authentication\n * @param {boolean} [opts.redir=false] - Optional flag to allow window to stay open after authentication\n * @returns {Promise<CurrentUser>} - User object\n */\nfunction authenticate$1() {\n  return _authenticate$.apply(this, arguments);\n}\n/**\n * @description - Unauthenticate a user\n * @returns {void}\n */\nfunction _authenticate$() {\n  _authenticate$ = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee52() {\n    var _service$provider, _service$provider2;\n    var _ref31,\n      service,\n      _ref31$redir,\n      redir,\n      _service$provider3,\n      _args52 = arguments;\n    return _regeneratorRuntime().wrap(function _callee52$(_context52) {\n      while (1) switch (_context52.prev = _context52.next) {\n        case 0:\n          _ref31 = _args52.length > 0 && _args52[0] !== undefined ? _args52[0] : {}, service = _ref31.service, _ref31$redir = _ref31.redir, redir = _ref31$redir === void 0 ? false : _ref31$redir;\n          if (!(service && !(service !== null && service !== void 0 && (_service$provider = service.provider) !== null && _service$provider !== void 0 && _service$provider.is_installed) && service !== null && service !== void 0 && (_service$provider2 = service.provider) !== null && _service$provider2 !== void 0 && _service$provider2.requires_install)) {\n            _context52.next = 4;\n            break;\n          }\n          window.location.href = service === null || service === void 0 || (_service$provider3 = service.provider) === null || _service$provider3 === void 0 ? void 0 : _service$provider3.install_link;\n          return _context52.abrupt(\"return\");\n        case 4:\n          return _context52.abrupt(\"return\", new Promise( /*#__PURE__*/function () {\n            var _ref32 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee51(resolve, reject) {\n              var opts, user, discoveryService, refreshService, accountProofData, response, _response;\n              return _regeneratorRuntime().wrap(function _callee51$(_context51) {\n                while (1) switch (_context51.prev = _context51.next) {\n                  case 0:\n                    spawnCurrentUser();\n                    opts = {\n                      redir: redir\n                    };\n                    _context51.next = 4;\n                    return snapshot();\n                  case 4:\n                    user = _context51.sent;\n                    _context51.next = 7;\n                    return getDiscoveryService(service);\n                  case 7:\n                    discoveryService = _context51.sent;\n                    refreshService = serviceOfType(user.services, \"authn-refresh\");\n                    if (!user.loggedIn) {\n                      _context51.next = 37;\n                      break;\n                    }\n                    if (!refreshService) {\n                      _context51.next = 36;\n                      break;\n                    }\n                    _context51.prev = 11;\n                    _context51.next = 14;\n                    return execService({\n                      service: refreshService,\n                      msg: accountProofData,\n                      opts: opts\n                    });\n                  case 14:\n                    response = _context51.sent;\n                    _context51.t0 = send;\n                    _context51.t1 = NAME;\n                    _context51.t2 = SET_CURRENT_USER;\n                    _context51.next = 20;\n                    return buildUser(response);\n                  case 20:\n                    _context51.t3 = _context51.sent;\n                    (0, _context51.t0)(_context51.t1, _context51.t2, _context51.t3);\n                    _context51.next = 27;\n                    break;\n                  case 24:\n                    _context51.prev = 24;\n                    _context51.t4 = _context51[\"catch\"](11);\n                    log({\n                      title: \"\".concat(_context51.t4.name, \" Could not refresh wallet authentication.\"),\n                      message: _context51.t4.message,\n                      level: LEVELS.error\n                    });\n                  case 27:\n                    _context51.prev = 27;\n                    _context51.t5 = resolve;\n                    _context51.next = 31;\n                    return snapshot();\n                  case 31:\n                    _context51.t6 = _context51.sent;\n                    return _context51.abrupt(\"return\", (0, _context51.t5)(_context51.t6));\n                  case 34:\n                    _context51.next = 37;\n                    break;\n                  case 36:\n                    return _context51.abrupt(\"return\", resolve(user));\n                  case 37:\n                    _context51.prev = 37;\n                    _context51.next = 40;\n                    return getAccountProofData();\n                  case 40:\n                    accountProofData = _context51.sent;\n                    _context51.next = 47;\n                    break;\n                  case 43:\n                    _context51.prev = 43;\n                    _context51.t7 = _context51[\"catch\"](37);\n                    log({\n                      title: \"\".concat(_context51.t7.name, \" On Authentication: Could not resolve account proof data.\"),\n                      message: _context51.t7.message,\n                      level: LEVELS.error\n                    });\n                    return _context51.abrupt(\"return\", reject(_context51.t7));\n                  case 47:\n                    _context51.prev = 47;\n                    _context51.t8 = execService;\n                    _context51.t9 = discoveryService;\n                    _context51.t10 = accountProofData;\n                    _context51.next = 53;\n                    return makeConfig(discoveryService);\n                  case 53:\n                    _context51.t11 = _context51.sent;\n                    _context51.t12 = opts;\n                    _context51.t13 = {\n                      service: _context51.t9,\n                      msg: _context51.t10,\n                      config: _context51.t11,\n                      opts: _context51.t12\n                    };\n                    _context51.next = 58;\n                    return (0, _context51.t8)(_context51.t13);\n                  case 58:\n                    _response = _context51.sent;\n                    _context51.t14 = send;\n                    _context51.t15 = NAME;\n                    _context51.t16 = SET_CURRENT_USER;\n                    _context51.next = 64;\n                    return buildUser(_response);\n                  case 64:\n                    _context51.t17 = _context51.sent;\n                    (0, _context51.t14)(_context51.t15, _context51.t16, _context51.t17);\n                    _context51.next = 71;\n                    break;\n                  case 68:\n                    _context51.prev = 68;\n                    _context51.t18 = _context51[\"catch\"](47);\n                    log({\n                      title: \"\".concat(_context51.t18, \" On Authentication\"),\n                      message: _context51.t18,\n                      level: LEVELS.error\n                    });\n                  case 71:\n                    _context51.prev = 71;\n                    _context51.t19 = resolve;\n                    _context51.next = 75;\n                    return snapshot();\n                  case 75:\n                    _context51.t20 = _context51.sent;\n                    (0, _context51.t19)(_context51.t20);\n                    return _context51.finish(71);\n                  case 78:\n                  case \"end\":\n                    return _context51.stop();\n                }\n              }, _callee51, null, [[11, 24, 27, 34], [37, 43], [47, 68, 71, 78]]);\n            }));\n            return function (_x63, _x64) {\n              return _ref32.apply(this, arguments);\n            };\n          }()));\n        case 5:\n        case \"end\":\n          return _context52.stop();\n      }\n    }, _callee52);\n  }));\n  return _authenticate$.apply(this, arguments);\n}\nfunction unauthenticate$1() {\n  spawnCurrentUser();\n  send(NAME, DEL_CURRENT_USER);\n}\nvar normalizePreAuthzResponse = function normalizePreAuthzResponse(authz) {\n  return {\n    f_type: \"PreAuthzResponse\",\n    f_vsn: \"1.0.0\",\n    proposer: (authz || {}).proposer,\n    payer: (authz || {}).payer || [],\n    authorization: (authz || {}).authorization || []\n  };\n};\nfunction resolvePreAuthz(authz) {\n  var resp = normalizePreAuthzResponse(authz);\n  var axs = [];\n  if (resp.proposer != null) axs.push([\"PROPOSER\", resp.proposer]);\n  var _iterator4 = _createForOfIteratorHelper(resp.payer || []),\n    _step4;\n  try {\n    for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n      var az = _step4.value;\n      axs.push([\"PAYER\", az]);\n    }\n  } catch (err) {\n    _iterator4.e(err);\n  } finally {\n    _iterator4.f();\n  }\n  var _iterator5 = _createForOfIteratorHelper(resp.authorization || []),\n    _step5;\n  try {\n    for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {\n      var _az = _step5.value;\n      axs.push([\"AUTHORIZER\", _az]);\n    }\n  } catch (err) {\n    _iterator5.e(err);\n  } finally {\n    _iterator5.f();\n  }\n  var result = axs.map(function (_ref2) {\n    var _ref18 = _slicedToArray(_ref2, 2),\n      role = _ref18[0],\n      az = _ref18[1];\n    return {\n      tempId: [az.identity.address, az.identity.keyId].join(\"|\"),\n      addr: az.identity.address,\n      keyId: az.identity.keyId,\n      signingFunction: function signingFunction(signable) {\n        return execService({\n          service: az,\n          msg: signable\n        });\n      },\n      role: {\n        proposer: role === \"PROPOSER\",\n        payer: role === \"PAYER\",\n        authorizer: role === \"AUTHORIZER\"\n      }\n    };\n  });\n  return result;\n}\n\n/**\n * @description\n * Produces the needed authorization details for the current user to submit transactions to Flow\n * It defines a signing function that connects to a user's wallet provider to produce signatures to submit transactions.\n * \n * @param {object} account - Account object\n * @returns {Promise<object>} - Account object with signing function\n */\nfunction authorization(_x37) {\n  return _authorization.apply(this, arguments);\n}\n/**\n * @description\n * The callback passed to subscribe will be called when the user authenticates and un-authenticates, making it easy to update the UI accordingly.\n * \n * @param {Function} callback - Callback function\n * @returns {Function} - Unsubscribe function\n */\nfunction _authorization() {\n  _authorization = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee55(account) {\n    return _regeneratorRuntime().wrap(function _callee55$(_context55) {\n      while (1) switch (_context55.prev = _context55.next) {\n        case 0:\n          spawnCurrentUser();\n          return _context55.abrupt(\"return\", _objectSpread(_objectSpread({}, account), {}, {\n            tempId: \"CURRENT_USER\",\n            resolve: function resolve(account, preSignable) {\n              return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee54() {\n                var user, authz, preAuthz, windowRef;\n                return _regeneratorRuntime().wrap(function _callee54$(_context54) {\n                  while (1) switch (_context54.prev = _context54.next) {\n                    case 0:\n                      _context54.next = 2;\n                      return authenticate$1({\n                        redir: true\n                      });\n                    case 2:\n                      user = _context54.sent;\n                      authz = serviceOfType(user.services, \"authz\");\n                      preAuthz = serviceOfType(user.services, \"pre-authz\");\n                      if (!preAuthz) {\n                        _context54.next = 11;\n                        break;\n                      }\n                      _context54.t0 = resolvePreAuthz;\n                      _context54.next = 9;\n                      return execService({\n                        service: preAuthz,\n                        msg: preSignable\n                      });\n                    case 9:\n                      _context54.t1 = _context54.sent;\n                      return _context54.abrupt(\"return\", (0, _context54.t0)(_context54.t1));\n                    case 11:\n                      if (!authz) {\n                        _context54.next = 14;\n                        break;\n                      }\n                      if (isMobile() && authz.method === \"WC/RPC\") {\n                        windowRef = window.open(\"\", \"_blank\");\n                      }\n                      return _context54.abrupt(\"return\", _objectSpread(_objectSpread({}, account), {}, {\n                        tempId: \"CURRENT_USER\",\n                        resolve: null,\n                        addr: sansPrefix(authz.identity.address),\n                        keyId: authz.identity.keyId,\n                        sequenceNum: null,\n                        signature: null,\n                        signingFunction: function signingFunction(signable) {\n                          return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee53() {\n                            return _regeneratorRuntime().wrap(function _callee53$(_context53) {\n                              while (1) switch (_context53.prev = _context53.next) {\n                                case 0:\n                                  _context53.t0 = normalizeCompositeSignature;\n                                  _context53.next = 3;\n                                  return execService({\n                                    service: authz,\n                                    msg: signable,\n                                    opts: {\n                                      includeOlderJsonRpcCall: true,\n                                      windowRef: windowRef\n                                    }\n                                  });\n                                case 3:\n                                  _context53.t1 = _context53.sent;\n                                  return _context53.abrupt(\"return\", (0, _context53.t0)(_context53.t1));\n                                case 5:\n                                case \"end\":\n                                  return _context53.stop();\n                              }\n                            }, _callee53);\n                          }))();\n                        }\n                      }));\n                    case 14:\n                      throw new Error(\"No Authz or PreAuthz Service configured for CURRENT_USER\");\n                    case 15:\n                    case \"end\":\n                      return _context54.stop();\n                  }\n                }, _callee54);\n              }))();\n            }\n          }));\n        case 2:\n        case \"end\":\n          return _context55.stop();\n      }\n    }, _callee55);\n  }));\n  return _authorization.apply(this, arguments);\n}\nfunction subscribe(callback) {\n  spawnCurrentUser();\n  var EXIT = \"@EXIT\";\n  var self = spawn( /*#__PURE__*/function () {\n    var _ref19 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee19(ctx) {\n      var letter;\n      return _regeneratorRuntime().wrap(function _callee19$(_context19) {\n        while (1) switch (_context19.prev = _context19.next) {\n          case 0:\n            ctx.send(NAME, SUBSCRIBE);\n          case 1:\n            if (!1) {\n              _context19.next = 11;\n              break;\n            }\n            _context19.next = 4;\n            return ctx.receive();\n          case 4:\n            letter = _context19.sent;\n            if (!(letter.tag === EXIT)) {\n              _context19.next = 8;\n              break;\n            }\n            ctx.send(NAME, UNSUBSCRIBE);\n            return _context19.abrupt(\"return\");\n          case 8:\n            callback(letter.data);\n            _context19.next = 1;\n            break;\n          case 11:\n          case \"end\":\n            return _context19.stop();\n        }\n      }, _callee19);\n    }));\n    return function (_x38) {\n      return _ref19.apply(this, arguments);\n    };\n  }());\n  return function () {\n    return send(self, EXIT);\n  };\n}\n\n/**\n * @description - Gets the current user\n * @returns {Promise<CurrentUser>} - User object\n */\nfunction snapshot() {\n  spawnCurrentUser();\n  return send(NAME, SNAPSHOT, null, {\n    expectReply: true,\n    timeout: 0\n  });\n}\n\n/**\n * @description - Resolves the current user as an argument\n * @returns {Promise<Function>}\n */\nfunction resolveArgument() {\n  return _resolveArgument.apply(this, arguments);\n}\nfunction _resolveArgument() {\n  _resolveArgument = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee56() {\n    var _yield$authenticate$, addr;\n    return _regeneratorRuntime().wrap(function _callee56$(_context56) {\n      while (1) switch (_context56.prev = _context56.next) {\n        case 0:\n          _context56.next = 2;\n          return authenticate$1();\n        case 2:\n          _yield$authenticate$ = _context56.sent;\n          addr = _yield$authenticate$.addr;\n          return _context56.abrupt(\"return\", arg(withPrefix(addr), t$1.Address));\n        case 5:\n        case \"end\":\n          return _context56.stop();\n      }\n    }, _callee56);\n  }));\n  return _resolveArgument.apply(this, arguments);\n}\nvar makeSignable = function makeSignable(msg) {\n  invariant(/^[0-9a-f]+$/i.test(msg), \"Message must be a hex string\");\n  return {\n    message: msg\n  };\n};\n\n/**\n * @description - A method to use allowing the user to personally sign data via FCL Compatible Wallets/Services.\n * @param {string} msg - Message to sign\n * @returns {Promise<CompositeSignature[]>} - Array of CompositeSignatures\n */\nfunction signUserMessage(_x39) {\n  return _signUserMessage.apply(this, arguments);\n}\nfunction _signUserMessage() {\n  _signUserMessage = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee57(msg) {\n    var user, signingService, response;\n    return _regeneratorRuntime().wrap(function _callee57$(_context57) {\n      while (1) switch (_context57.prev = _context57.next) {\n        case 0:\n          spawnCurrentUser();\n          _context57.next = 3;\n          return authenticate$1({\n            redir: true\n          });\n        case 3:\n          user = _context57.sent;\n          signingService = serviceOfType(user.services, \"user-signature\");\n          invariant(signingService, \"Current user must have authorized a signing service.\");\n          _context57.prev = 6;\n          _context57.next = 9;\n          return execService({\n            service: signingService,\n            msg: makeSignable(msg)\n          });\n        case 9:\n          response = _context57.sent;\n          if (!Array.isArray(response)) {\n            _context57.next = 14;\n            break;\n          }\n          return _context57.abrupt(\"return\", response.map(function (compSigs) {\n            return normalizeCompositeSignature(compSigs);\n          }));\n        case 14:\n          return _context57.abrupt(\"return\", [normalizeCompositeSignature(response)]);\n        case 15:\n          _context57.next = 20;\n          break;\n        case 17:\n          _context57.prev = 17;\n          _context57.t0 = _context57[\"catch\"](6);\n          return _context57.abrupt(\"return\", _context57.t0);\n        case 20:\n        case \"end\":\n          return _context57.stop();\n      }\n    }, _callee57, null, [[6, 17]]);\n  }));\n  return _signUserMessage.apply(this, arguments);\n}\nvar currentUser = function currentUser() {\n  return {\n    authenticate: authenticate$1,\n    unauthenticate: unauthenticate$1,\n    authorization: authorization,\n    signUserMessage: signUserMessage,\n    subscribe: subscribe,\n    snapshot: snapshot,\n    resolveArgument: resolveArgument\n  };\n};\ncurrentUser.authenticate = authenticate$1;\ncurrentUser.unauthenticate = unauthenticate$1;\ncurrentUser.authorization = authorization;\ncurrentUser.signUserMessage = signUserMessage;\ncurrentUser.subscribe = subscribe;\ncurrentUser.snapshot = snapshot;\ncurrentUser.resolveArgument = resolveArgument;\n\n/**\n * @description\n * Allows you to submit transactions to the blockchain to potentially mutate the state.\n *\n *  @param {object} opts - Mutation Options and configuration\n *  @param {string} opts.cadence - Cadence Transaction used to mutate Flow\n *  @param {import(\"../fcl\").ArgsFn} [opts.args] - Arguments passed to cadence transaction\n *  @param {object} [opts.template] - Interaction Template for a transaction\n *  @param {number} [opts.limit] - Compute Limit for transaction\n *  @returns {Promise<string>} Transaction Id\n *\n * @example\n *    fcl.mutate({\n *      cadence: `\n *        transaction(a: Int, b: Int, c: Address) {\n *          prepare(acct: AuthAccount) {\n *            log(acct)\n *            log(a)\n *            log(b)\n *            log(c)\n *          }\n *        }\n *      `,\n *      args: (arg, t) => [\n *        arg(6, t.Int),\n *        arg(7, t.Int),\n *        arg(\"0xba1132bc08f82fe2\", t.Address),\n *      ],\n *    })\n *\n *\n *  Options:\n *    type Options = {\n *      template: InteractionTemplate | String // InteractionTemplate or url to one\n *      cadence: String!,\n *      args: (arg, t) => Array<Arg>,\n *      limit: Number,\n *      authz: AuthzFn, // will overload the trinity of signatory roles\n *      proposer: AuthzFn, // will overload the proposer signatory role\n *      payer: AuthzFn, // will overload the payer signatory role\n *      authorizations: [AuthzFn], // an array of authorization functions used as authorizations signatory roles\n *    }\n */\nfunction mutate() {\n  return _mutate.apply(this, arguments);\n}\n/**\n * @description\n * Listens for messages from FCL\n * \n * @param {string} messageType - Message type\n * @param {Function} cb - Callback function\n * @returns {Function} - Function to remove event listener\n */\nfunction _mutate() {\n  _mutate = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee59() {\n    var opts,\n      txid,\n      _authz,\n      _args59 = arguments;\n    return _regeneratorRuntime().wrap(function _callee59$(_context59) {\n      while (1) switch (_context59.prev = _context59.next) {\n        case 0:\n          opts = _args59.length > 0 && _args59[0] !== undefined ? _args59[0] : {};\n          _context59.prev = 1;\n          _context59.next = 4;\n          return preMutate(opts);\n        case 4:\n          _context59.next = 6;\n          return prepTemplateOpts(opts);\n        case 6:\n          opts = _context59.sent;\n          _context59.next = 9;\n          return sdk.config().get(\"fcl.authz\", currentUser().authorization);\n        case 9:\n          _authz = _context59.sent;\n          txid = sdk.config().overload(opts.dependencies || {}, /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee58() {\n            return _regeneratorRuntime().wrap(function _callee58$(_context58) {\n              while (1) switch (_context58.prev = _context58.next) {\n                case 0:\n                  return _context58.abrupt(\"return\",\n                  // prettier-ignore\n                  sdk.send([sdk.transaction(opts.cadence), sdk.args(normalizeArgs(opts.args || [])), opts.limit && isNumber(opts.limit) && sdk.limit(opts.limit),\n                  // opts.proposer > opts.authz > authz\n                  sdk.proposer(opts.proposer || opts.authz || _authz),\n                  // opts.payer > opts.authz > authz\n                  sdk.payer(opts.payer || opts.authz || _authz),\n                  // opts.authorizations > [opts.authz > authz]\n                  sdk.authorizations(opts.authorizations || [opts.authz || _authz])]).then(sdk.decode));\n                case 1:\n                case \"end\":\n                  return _context58.stop();\n              }\n            }, _callee58);\n          })));\n          return _context59.abrupt(\"return\", txid);\n        case 14:\n          _context59.prev = 14;\n          _context59.t0 = _context59[\"catch\"](1);\n          throw _context59.t0;\n        case 17:\n        case \"end\":\n          return _context59.stop();\n      }\n    }, _callee59, null, [[1, 14]]);\n  }));\n  return _mutate.apply(this, arguments);\n}\nvar onMessageFromFCL = function onMessageFromFCL(messageType) {\n  var cb = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : function () {};\n  var buildData = function buildData(data) {\n    var _data$body;\n    if (data.deprecated) console.warn(\"DEPRECATION NOTICE\", data.deprecated.message);\n    data === null || data === void 0 || (_data$body = data.body) === null || _data$body === void 0 || delete _data$body.interaction;\n    return data;\n  };\n  var internal = function internal(e) {\n    var data = e.data;\n    if (typeof data !== \"object\") return;\n    if (typeof data == null) return;\n    if (data.type !== messageType) return;\n    cb(buildData(data));\n  };\n  window.addEventListener(\"message\", internal);\n  return function () {\n    return window.removeEventListener(\"message\", internal);\n  };\n};\n\n/**\n * @description\n * Sends message to FCL window\n * \n * @param {string} type - Message type\n * @param {object} msg - Message object\n * @returns {void}\n * \n * @example\n * sendMsgToFCL(\"FCL:VIEW:RESPONSE\", {\n *    f_type: \"PollingResponse\",\n *    f_vsn: \"1.0.0\",\n *    status: \"APPROVED\",\n *    reason: null,\n *    data: data,\n *  })\n */\nvar sendMsgToFCL = function sendMsgToFCL(type) {\n  var msg = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  if (window.location !== window.parent.location) {\n    window.parent.postMessage(_objectSpread(_objectSpread({}, msg), {}, {\n      type: type\n    }), \"*\");\n  } else if (window.opener) {\n    window.opener.postMessage(_objectSpread(_objectSpread({}, msg), {}, {\n      type: type\n    }), \"*\");\n  } else {\n    throw new Error(\"Unable to communicate with parent FCL instance\");\n  }\n};\n\n/**\n * @description\n * Listens for \"FCL:VIEW:READY:RESPONSE\" and sends \"FCL:VIEW:READY\"\n * \n * @param {Function} cb - Callback function\n * @param {object} msg - Message object\n * @returns {void}\n */\nvar ready = function ready(cb) {\n  onMessageFromFCL(\"FCL:VIEW:READY:RESPONSE\", cb);\n  sendMsgToFCL(\"FCL:VIEW:READY\");\n};\n\n/**\n * @description\n * Sends \"FCL:VIEW:CLOSE\"\n * \n * @returns {void}\n */\nvar close = function close() {\n  sendMsgToFCL(\"FCL:VIEW:CLOSE\");\n};\n\n/**\n * @description\n * Sends \"FCL:VIEW:RESPONSE\" with status \"APPROVED\"\n * \n * @param {object} data - Data object\n * @returns {void}\n */\nvar approve = function approve(data) {\n  sendMsgToFCL(\"FCL:VIEW:RESPONSE\", {\n    f_type: \"PollingResponse\",\n    f_vsn: \"1.0.0\",\n    status: \"APPROVED\",\n    reason: null,\n    data: data\n  });\n};\n\n/**\n * @description\n * Sends \"FCL:VIEW:RESPONSE\" with status \"DECLINED\"\n * \n * @param {string} reason - Reason for declining\n * @returns {void}\n */\nvar decline = function decline(reason) {\n  sendMsgToFCL(\"FCL:VIEW:RESPONSE\", {\n    f_type: \"PollingResponse\",\n    f_vsn: \"1.0.0\",\n    status: \"DECLINED\",\n    reason: reason,\n    data: null\n  });\n};\n\n/**\n * @description\n * Sends \"FCL:VIEW:RESPONSE\" with status \"REDIRECT\"\n * \n * @param {object} data - Data object\n * @returns {void}\n */\nvar redirect = function redirect(data) {\n  sendMsgToFCL(\"FCL:VIEW:RESPONSE\", {\n    f_type: \"PollingResponse\",\n    f_vsn: \"1.0.0\",\n    status: \"REDIRECT\",\n    reason: null,\n    data: data\n  });\n};\n\n/**\n * @description\n * Constructs a new CompositeSignature instance.\n *\n * @param {string} addr - Flow Address\n * @param {number} keyId - Key ID\n * @param {string} signature - Signature as a hex string\n */\nfunction CompositeSignature(addr, keyId, signature) {\n  this.f_type = COMPOSITE_SIGNATURE_PRAGMA.f_type;\n  this.f_vsn = COMPOSITE_SIGNATURE_PRAGMA.f_vsn;\n  this.addr = withPrefix(addr);\n  this.keyId = Number(keyId);\n  this.signature = signature;\n}\nvar rightPaddedHexBuffer = function rightPaddedHexBuffer(value, pad) {\n  return Buffer.from(value.padEnd(pad * 2, \"0\"), \"hex\");\n};\nvar leftPaddedHexBuffer = function leftPaddedHexBuffer(value, pad) {\n  return Buffer.from(value.padStart(pad * 2, \"0\"), \"hex\");\n};\nvar addressBuffer = function addressBuffer(addr) {\n  return leftPaddedHexBuffer(addr, 8);\n};\nvar nonceBuffer = function nonceBuffer(nonce) {\n  return Buffer.from(nonce, \"hex\");\n};\nvar encodeAccountProof = function encodeAccountProof(_ref) {\n  var address = _ref.address,\n    nonce = _ref.nonce,\n    appIdentifier = _ref.appIdentifier;\n  var includeDomainTag = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n  invariant(address, \"Encode Message For Provable Authn Error: address must be defined\");\n  invariant(nonce, \"Encode Message For Provable Authn Error: nonce must be defined\");\n  invariant(appIdentifier, \"Encode Message For Provable Authn Error: appIdentifier must be defined\");\n  invariant(nonce.length >= 64, \"Encode Message For Provable Authn Error: nonce must be minimum of 32 bytes\");\n  var ACCOUNT_PROOF_DOMAIN_TAG = rightPaddedHexBuffer(Buffer.from(\"FCL-ACCOUNT-PROOF-V0.0\").toString(\"hex\"), 32);\n  if (includeDomainTag) {\n    return Buffer.concat([ACCOUNT_PROOF_DOMAIN_TAG, encode([appIdentifier, addressBuffer(sansPrefix(address)), nonceBuffer(nonce)])]).toString(\"hex\");\n  }\n  return encode([appIdentifier, addressBuffer(sansPrefix(address)), nonceBuffer(nonce)]).toString(\"hex\");\n};\nfunction injectExtService(service) {\n  if (service.type === \"authn\" && service.endpoint != null) {\n    if (!Array.isArray(window.fcl_extensions)) {\n      window.fcl_extensions = [];\n    }\n    window.fcl_extensions.push(service);\n  } else {\n    console.warn(\"Authn service is required\");\n  }\n}\nvar index$2 = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  sendMsgToFCL: sendMsgToFCL,\n  ready: ready,\n  close: close,\n  approve: approve,\n  decline: decline,\n  redirect: redirect,\n  onMessageFromFCL: onMessageFromFCL,\n  encodeMessageFromSignable: encodeMessageFromSignable,\n  CompositeSignature: CompositeSignature,\n  encodeAccountProof: encodeAccountProof,\n  injectExtService: injectExtService\n});\nvar ACCOUNT_PROOF = \"ACCOUNT_PROOF\";\nvar USER_SIGNATURE = \"USER_SIGNATURE\";\nvar validateArgs = function validateArgs(args) {\n  if (args.appIdentifier) {\n    var appIdentifier = args.appIdentifier,\n      address = args.address,\n      nonce = args.nonce,\n      signatures = args.signatures;\n    invariant(isString(appIdentifier), \"verifyAccountProof({ appIdentifier }) -- appIdentifier must be a string\");\n    invariant(isString(address) && sansPrefix(address).length === 16, \"verifyAccountProof({ address }) -- address must be a valid address\");\n    invariant(/^[0-9a-f]+$/i.test(nonce), \"nonce must be a hex string\");\n    invariant(Array.isArray(signatures) && signatures.every(function (sig, i, arr) {\n      return sig.f_type === \"CompositeSignature\";\n    }), \"Must include an Array of CompositeSignatures to verify\");\n    invariant(signatures.map(function (cs) {\n      return cs.addr;\n    }).every(function (addr, i, arr) {\n      return addr === arr[0];\n    }), \"User signatures to be verified must be from a single account address\");\n    return true;\n  } else {\n    var message = args.message,\n      _address = args.address,\n      compSigs = args.compSigs;\n    invariant(/^[0-9a-f]+$/i.test(message), \"Signed message must be a hex string\");\n    invariant(isString(_address) && sansPrefix(_address).length === 16, \"verifyUserSignatures({ address }) -- address must be a valid address\");\n    invariant(Array.isArray(compSigs) && compSigs.every(function (sig, i, arr) {\n      return sig.f_type === \"CompositeSignature\";\n    }), \"Must include an Array of CompositeSignatures to verify\");\n    invariant(compSigs.map(function (cs) {\n      return cs.addr;\n    }).every(function (addr, i, arr) {\n      return addr === arr[0];\n    }), \"User signatures to be verified must be from a single account address\");\n    return true;\n  }\n};\n\n// TODO: pass in option for contract but we're connected to testnet\n// log address + network -> in sync?\nvar getVerifySignaturesScript = /*#__PURE__*/function () {\n  var _ref20 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee20(sig, opts) {\n    var verifyFunction, network, fclCryptoContract;\n    return _regeneratorRuntime().wrap(function _callee20$(_context20) {\n      while (1) switch (_context20.prev = _context20.next) {\n        case 0:\n          verifyFunction = sig === \"ACCOUNT_PROOF\" ? \"verifyAccountProofSignatures\" : \"verifyUserSignatures\";\n          _context20.next = 3;\n          return getChainId();\n        case 3:\n          network = _context20.sent;\n          invariant(opts.fclCryptoContract || network === \"testnet\" || network === \"mainnet\", \"${verifyFunction}({ fclCryptoContract }) -- config.flow.network must be specified (testnet || mainnet) or contract address provided via opts.fclCryptoContract\");\n          if (opts.fclCryptoContract) {\n            fclCryptoContract = opts.fclCryptoContract;\n          } else {\n            fclCryptoContract = network === \"testnet\" ? \"0x74daa6f9c7ef24b1\" : \"0xb4b82a1c9d21d284\";\n          }\n          return _context20.abrupt(\"return\", \"\\n      import FCLCrypto from \".concat(fclCryptoContract, \"\\n\\n      pub fun main(\\n          address: Address, \\n          message: String, \\n          keyIndices: [Int], \\n          signatures: [String]\\n      ): Bool {\\n        return FCLCrypto.\").concat(verifyFunction, \"(address: address, message: message, keyIndices: keyIndices, signatures: signatures)\\n      }\\n    \"));\n        case 7:\n        case \"end\":\n          return _context20.stop();\n      }\n    }, _callee20);\n  }));\n  return function getVerifySignaturesScript(_x40, _x41) {\n    return _ref20.apply(this, arguments);\n  };\n}();\n\n/**\n * @description\n * Verify a valid account proof signature or signatures for an account on Flow.\n *\n * @param {string} appIdentifier - A message string in hexadecimal format\n * @param {object} accountProofData - An object consisting of address, nonce, and signatures\n * @param {string} accountProofData.address - A Flow account address\n * @param {string} accountProofData.nonce - A random string in hexadecimal format (minimum 32 bytes in total, i.e 64 hex characters)\n * @param {object[]} accountProofData.signatures - An array of composite signatures to verify\n * @param {object} [opts={}] - Options object\n * @param {string} opts.fclCryptoContract - An optional override Flow account address where the FCLCrypto contract is deployed\n * @returns {Promise<boolean>} - Returns true if the signature is valid, false otherwise\n *\n * @example\n *\n *  const accountProofData = {\n *   address: \"0x123\",\n *   nonce: \"F0123\"\n *   signatures: [{f_type: \"CompositeSignature\", f_vsn: \"1.0.0\", addr: \"0x123\", keyId: 0, signature: \"abc123\"}],\n *  }\n *\n *  const isValid = await fcl.AppUtils.verifyAccountProof(\n *    \"AwesomeAppId\",\n *    accountProofData,\n *    {fclCryptoContract}\n *  )\n */\nfunction verifyAccountProof(_x42, _x43) {\n  return _verifyAccountProof.apply(this, arguments);\n}\n/**\n * @description\n * Verify a valid signature/s for an account on Flow.\n *\n * @param {string} message - A message string in hexadecimal format\n * @param {Array} compSigs - An array of Composite Signatures\n * @param {string} compSigs[].addr - The account address\n * @param {number} compSigs[].keyId - The account keyId\n * @param {string} compSigs[].signature - The signature to verify\n * @param {object} [opts={}] - Options object\n * @param {string} opts.fclCryptoContract - An optional override of Flow account address where the FCLCrypto contract is deployed\n * @returns {boolean} - Returns true if the signature is valid, false otherwise\n *\n * @example\n *\n *  const isValid = await fcl.AppUtils.verifyUserSignatures(\n *    Buffer.from('FOO').toString(\"hex\"),\n *    [{f_type: \"CompositeSignature\", f_vsn: \"1.0.0\", addr: \"0x123\", keyId: 0, signature: \"abc123\"}],\n *    {fclCryptoContract}\n *  )\n */\nfunction _verifyAccountProof() {\n  _verifyAccountProof = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee60(appIdentifier, _ref) {\n    var address,\n      nonce,\n      signatures,\n      opts,\n      message,\n      signaturesArr,\n      keyIndices,\n      _iterator10,\n      _step10,\n      el,\n      _args60 = arguments;\n    return _regeneratorRuntime().wrap(function _callee60$(_context60) {\n      while (1) switch (_context60.prev = _context60.next) {\n        case 0:\n          address = _ref.address, nonce = _ref.nonce, signatures = _ref.signatures;\n          opts = _args60.length > 2 && _args60[2] !== undefined ? _args60[2] : {};\n          validateArgs({\n            appIdentifier: appIdentifier,\n            address: address,\n            nonce: nonce,\n            signatures: signatures\n          });\n          message = encodeAccountProof({\n            address: address,\n            nonce: nonce,\n            appIdentifier: appIdentifier\n          }, false);\n          signaturesArr = [];\n          keyIndices = [];\n          _iterator10 = _createForOfIteratorHelper(signatures);\n          try {\n            for (_iterator10.s(); !(_step10 = _iterator10.n()).done;) {\n              el = _step10.value;\n              signaturesArr.push(el.signature);\n              keyIndices.push(el.keyId.toString());\n            }\n          } catch (err) {\n            _iterator10.e(err);\n          } finally {\n            _iterator10.f();\n          }\n          _context60.t0 = query;\n          _context60.next = 11;\n          return getVerifySignaturesScript(ACCOUNT_PROOF, opts);\n        case 11:\n          _context60.t1 = _context60.sent;\n          _context60.t2 = function args(arg, t) {\n            return [arg(withPrefix(address), t.Address), arg(message, t.String), arg(keyIndices, t.Array(t.Int)), arg(signaturesArr, t.Array(t.String))];\n          };\n          _context60.t3 = {\n            cadence: _context60.t1,\n            args: _context60.t2\n          };\n          return _context60.abrupt(\"return\", (0, _context60.t0)(_context60.t3));\n        case 15:\n        case \"end\":\n          return _context60.stop();\n      }\n    }, _callee60);\n  }));\n  return _verifyAccountProof.apply(this, arguments);\n}\nfunction verifyUserSignatures$1(_x44, _x45) {\n  return _verifyUserSignatures$.apply(this, arguments);\n}\nfunction _verifyUserSignatures$() {\n  _verifyUserSignatures$ = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee61(message, compSigs) {\n    var opts,\n      address,\n      signaturesArr,\n      keyIndices,\n      _iterator11,\n      _step11,\n      el,\n      _args61 = arguments;\n    return _regeneratorRuntime().wrap(function _callee61$(_context61) {\n      while (1) switch (_context61.prev = _context61.next) {\n        case 0:\n          opts = _args61.length > 2 && _args61[2] !== undefined ? _args61[2] : {};\n          address = withPrefix(compSigs[0].addr);\n          validateArgs({\n            message: message,\n            address: address,\n            compSigs: compSigs\n          });\n          signaturesArr = [];\n          keyIndices = [];\n          _iterator11 = _createForOfIteratorHelper(compSigs);\n          try {\n            for (_iterator11.s(); !(_step11 = _iterator11.n()).done;) {\n              el = _step11.value;\n              signaturesArr.push(el.signature);\n              keyIndices.push(el.keyId.toString());\n            }\n          } catch (err) {\n            _iterator11.e(err);\n          } finally {\n            _iterator11.f();\n          }\n          _context61.t0 = query;\n          _context61.next = 10;\n          return getVerifySignaturesScript(USER_SIGNATURE, opts);\n        case 10:\n          _context61.t1 = _context61.sent;\n          _context61.t2 = function args(arg, t) {\n            return [arg(address, t.Address), arg(message, t.String), arg(keyIndices, t.Array(t.Int)), arg(signaturesArr, t.Array(t.String))];\n          };\n          _context61.t3 = {\n            cadence: _context61.t1,\n            args: _context61.t2\n          };\n          return _context61.abrupt(\"return\", (0, _context61.t0)(_context61.t3));\n        case 14:\n        case \"end\":\n          return _context61.stop();\n      }\n    }, _callee61);\n  }));\n  return _verifyUserSignatures$.apply(this, arguments);\n}\nvar index$1 = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  verifyAccountProof: verifyAccountProof,\n  verifyUserSignatures: verifyUserSignatures$1\n});\n\n/**\n * Verify a valid signature/s for an account on Flow.\n *\n * @deprecated since version '1.0.0-alpha.0', use AppUtils.verifyUserSignatures instead\n *\n */\nvar verifyUserSignatures = log.deprecate({\n  pkg: \"FCL\",\n  subject: \"fcl.verifyUserSignatures()\",\n  message: \"Please use fcl.AppUtils.verifyUserSignatures()\",\n  callback: function verifyUserSignatures(message, compSigs) {\n    return verifyUserSignatures$1(message, compSigs);\n  }\n});\nvar serialize = /*#__PURE__*/function () {\n  var _ref21 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee21() {\n    var args,\n      opts,\n      resolveFunction,\n      _args21 = arguments;\n    return _regeneratorRuntime().wrap(function _callee21$(_context21) {\n      while (1) switch (_context21.prev = _context21.next) {\n        case 0:\n          args = _args21.length > 0 && _args21[0] !== undefined ? _args21[0] : [];\n          opts = _args21.length > 1 && _args21[1] !== undefined ? _args21[1] : {};\n          _context21.next = 4;\n          return config$1.first([\"sdk.resolve\"], opts.resolve || resolve);\n        case 4:\n          resolveFunction = _context21.sent;\n          if (!Array.isArray(args)) {\n            _context21.next = 9;\n            break;\n          }\n          _context21.next = 8;\n          return pipe(interaction(), args);\n        case 8:\n          args = _context21.sent;\n        case 9:\n          _context21.t0 = JSON;\n          _context21.t1 = createSignableVoucher;\n          _context21.next = 13;\n          return resolveFunction(args);\n        case 13:\n          _context21.t2 = _context21.sent;\n          _context21.t3 = (0, _context21.t1)(_context21.t2);\n          return _context21.abrupt(\"return\", _context21.t0.stringify.call(_context21.t0, _context21.t3, null, 2));\n        case 16:\n        case \"end\":\n          return _context21.stop();\n      }\n    }, _callee21);\n  }));\n  return function serialize() {\n    return _ref21.apply(this, arguments);\n  };\n}();\n\n/**\n * @typedef {import(\"@onflow/typedefs\").Transaction} Transaction\n */\n\n/**\n * @typedef {import(\"@onflow/typedefs\").TransactionStatus} TransactionStatus\n */\n\nvar RATE$1 = 2500;\nvar POLL = \"POLL\";\nvar fetchTxStatus = /*#__PURE__*/function () {\n  var _ref22 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee22(transactionId) {\n    return _regeneratorRuntime().wrap(function _callee22$(_context22) {\n      while (1) switch (_context22.prev = _context22.next) {\n        case 0:\n          return _context22.abrupt(\"return\", send$1([getTransactionStatus(transactionId)]).then(decode));\n        case 1:\n        case \"end\":\n          return _context22.stop();\n      }\n    }, _callee22);\n  }));\n  return function fetchTxStatus(_x46) {\n    return _ref22.apply(this, arguments);\n  };\n}();\nvar isExpired = function isExpired(tx) {\n  return tx.status === 5;\n};\nvar isSealed = function isSealed(tx) {\n  return tx.status >= 4;\n};\nvar isExecuted = function isExecuted(tx) {\n  return tx.status >= 3;\n};\nvar isFinalized = function isFinalized(tx) {\n  return tx.status >= 2;\n};\nvar isPending = function isPending(tx) {\n  return tx.status >= 1;\n};\nvar isUnknown = function isUnknown(tx) {\n  return tx.status >= 0;\n};\nvar isDiff = function isDiff(cur, next) {\n  return JSON.stringify(cur) !== JSON.stringify(next);\n};\nvar HANDLERS$1 = (_HANDLERS$3 = {}, _defineProperty(_HANDLERS$3, INIT, function () {\n  var _ref23 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee23(ctx) {\n    return _regeneratorRuntime().wrap(function _callee23$(_context23) {\n      while (1) switch (_context23.prev = _context23.next) {\n        case 0:\n          ctx.sendSelf(POLL);\n        case 1:\n        case \"end\":\n          return _context23.stop();\n      }\n    }, _callee23);\n  }));\n  return function (_x47) {\n    return _ref23.apply(this, arguments);\n  };\n}()), _defineProperty(_HANDLERS$3, SUBSCRIBE, function (ctx, letter) {\n  ctx.subscribe(letter.from);\n  ctx.send(letter.from, UPDATED$2, ctx.all());\n}), _defineProperty(_HANDLERS$3, UNSUBSCRIBE, function (ctx, letter) {\n  ctx.unsubscribe(letter.from);\n}), _defineProperty(_HANDLERS$3, SNAPSHOT$1, function () {\n  var _ref24 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee24(ctx, letter) {\n    return _regeneratorRuntime().wrap(function _callee24$(_context24) {\n      while (1) switch (_context24.prev = _context24.next) {\n        case 0:\n          letter.reply(ctx.all());\n        case 1:\n        case \"end\":\n          return _context24.stop();\n      }\n    }, _callee24);\n  }));\n  return function (_x48, _x49) {\n    return _ref24.apply(this, arguments);\n  };\n}()), _defineProperty(_HANDLERS$3, POLL, function () {\n  var _ref25 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee25(ctx) {\n    var tx;\n    return _regeneratorRuntime().wrap(function _callee25$(_context25) {\n      while (1) switch (_context25.prev = _context25.next) {\n        case 0:\n          _context25.prev = 0;\n          _context25.next = 3;\n          return fetchTxStatus(ctx.self());\n        case 3:\n          tx = _context25.sent;\n          _context25.next = 9;\n          break;\n        case 6:\n          _context25.prev = 6;\n          _context25.t0 = _context25[\"catch\"](0);\n          return _context25.abrupt(\"return\", ctx.fatalError(_context25.t0));\n        case 9:\n          if (!isSealed(tx)) setTimeout(function () {\n            return ctx.sendSelf(POLL);\n          }, RATE$1);\n          if (isDiff(ctx.all(), tx)) ctx.broadcast(UPDATED$2, tx);\n          ctx.merge(tx);\n        case 12:\n        case \"end\":\n          return _context25.stop();\n      }\n    }, _callee25, null, [[0, 6]]);\n  }));\n  return function (_x50) {\n    return _ref25.apply(this, arguments);\n  };\n}()), _HANDLERS$3);\nvar scoped = function scoped(transactionId) {\n  if (typeof transactionId === \"object\") transactionId = transactionId.transactionId;\n  if (transactionId == null) throw new Error(\"transactionId required\");\n  return transactionId;\n};\nvar spawnTransaction = function spawnTransaction(transactionId) {\n  return spawn(HANDLERS$1, scoped(transactionId));\n};\n\n/**\n * @callback SubscriptionCallback\n * @param {TransactionStatus} txStatus\n * @returns {void}\n */\n\n/**\n * Provides methods for interacting with a transaction\n * \n * @param {string} transactionId - The transaction ID\n * @returns {{\n *    snapshot: function(): Promise<TransactionStatus>,\n *    subscribe: function(SubscriptionCallback): function(): void,\n *    onceFinalized: function(): Promise<TransactionStatus>,\n *    onceExecuted: function(): Promise<TransactionStatus>,\n *    onceSealed: function(): Promise<TransactionStatus>\n * }}\n */\nfunction transaction(transactionId) {\n  function snapshot() {\n    return snapshoter(transactionId, spawnTransaction);\n  }\n  function subscribe(callback) {\n    return subscriber(scoped(transactionId), spawnTransaction, callback);\n  }\n  function once(predicate) {\n    return function innerOnce() {\n      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var suppress = opts.suppress || false;\n      return new Promise(function (resolve, reject) {\n        var unsub = subscribe(function (txStatus, error) {\n          if ((error || txStatus.statusCode) && !suppress) {\n            reject(error || txStatus.errorMessage);\n            unsub();\n          } else if (predicate(txStatus)) {\n            resolve(txStatus);\n            unsub();\n          }\n        });\n      });\n    };\n  }\n  return {\n    snapshot: snapshot,\n    subscribe: subscribe,\n    onceFinalized: once(isFinalized),\n    onceExecuted: once(isExecuted),\n    onceSealed: once(isSealed)\n  };\n}\ntransaction.isUnknown = isUnknown;\ntransaction.isPending = isPending;\ntransaction.isFinalized = isFinalized;\ntransaction.isExecuted = isExecuted;\ntransaction.isSealed = isSealed;\ntransaction.isExpired = isExpired;\nvar RATE = 10000;\nvar UPDATED = \"UPDATED\";\nvar TICK = \"TICK\";\nvar HIGH_WATER_MARK = \"hwm\";\nvar scheduleTick = /*#__PURE__*/function () {\n  var _ref26 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee26(ctx) {\n    return _regeneratorRuntime().wrap(function _callee26$(_context26) {\n      while (1) switch (_context26.prev = _context26.next) {\n        case 0:\n          _context26.t0 = setTimeout;\n          _context26.t1 = function () {\n            return ctx.sendSelf(TICK);\n          };\n          _context26.next = 4;\n          return config$1().get(\"fcl.eventPollRate\", RATE);\n        case 4:\n          _context26.t2 = _context26.sent;\n          return _context26.abrupt(\"return\", (0, _context26.t0)(_context26.t1, _context26.t2));\n        case 6:\n        case \"end\":\n          return _context26.stop();\n      }\n    }, _callee26);\n  }));\n  return function scheduleTick(_x51) {\n    return _ref26.apply(this, arguments);\n  };\n}();\nvar HANDLERS = (_HANDLERS = {}, _defineProperty(_HANDLERS, TICK, function () {\n  var _ref27 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee27(ctx) {\n    var hwm, next, data, _iterator6, _step6, d;\n    return _regeneratorRuntime().wrap(function _callee27$(_context27) {\n      while (1) switch (_context27.prev = _context27.next) {\n        case 0:\n          if (ctx.hasSubs()) {\n            _context27.next = 2;\n            break;\n          }\n          return _context27.abrupt(\"return\");\n        case 2:\n          hwm = ctx.get(HIGH_WATER_MARK);\n          if (!(hwm == null)) {\n            _context27.next = 18;\n            break;\n          }\n          _context27.t0 = ctx;\n          _context27.t1 = HIGH_WATER_MARK;\n          _context27.next = 8;\n          return block();\n        case 8:\n          _context27.t2 = _context27.sent;\n          _context27.t0.put.call(_context27.t0, _context27.t1, _context27.t2);\n          _context27.t3 = ctx;\n          _context27.t4 = TICK;\n          _context27.next = 14;\n          return scheduleTick(ctx);\n        case 14:\n          _context27.t5 = _context27.sent;\n          _context27.t3.put.call(_context27.t3, _context27.t4, _context27.t5);\n          _context27.next = 34;\n          break;\n        case 18:\n          _context27.next = 20;\n          return block();\n        case 20:\n          next = _context27.sent;\n          ctx.put(HIGH_WATER_MARK, next);\n          if (!(hwm.height < next.height)) {\n            _context27.next = 28;\n            break;\n          }\n          _context27.next = 25;\n          return send$1([getEventsAtBlockHeightRange(ctx.self(), hwm.height + 1, next.height)]).then(decode);\n        case 25:\n          data = _context27.sent;\n          _iterator6 = _createForOfIteratorHelper(data);\n          try {\n            for (_iterator6.s(); !(_step6 = _iterator6.n()).done;) {\n              d = _step6.value;\n              ctx.broadcast(UPDATED, d.data);\n            }\n          } catch (err) {\n            _iterator6.e(err);\n          } finally {\n            _iterator6.f();\n          }\n        case 28:\n          _context27.t6 = ctx;\n          _context27.t7 = TICK;\n          _context27.next = 32;\n          return scheduleTick(ctx);\n        case 32:\n          _context27.t8 = _context27.sent;\n          _context27.t6.put.call(_context27.t6, _context27.t7, _context27.t8);\n        case 34:\n        case \"end\":\n          return _context27.stop();\n      }\n    }, _callee27);\n  }));\n  return function (_x52) {\n    return _ref27.apply(this, arguments);\n  };\n}()), _defineProperty(_HANDLERS, SUBSCRIBE, function () {\n  var _ref28 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee28(ctx, letter) {\n    return _regeneratorRuntime().wrap(function _callee28$(_context28) {\n      while (1) switch (_context28.prev = _context28.next) {\n        case 0:\n          if (ctx.hasSubs()) {\n            _context28.next = 7;\n            break;\n          }\n          _context28.t0 = ctx;\n          _context28.t1 = TICK;\n          _context28.next = 5;\n          return scheduleTick(ctx);\n        case 5:\n          _context28.t2 = _context28.sent;\n          _context28.t0.put.call(_context28.t0, _context28.t1, _context28.t2);\n        case 7:\n          ctx.subscribe(letter.from);\n        case 8:\n        case \"end\":\n          return _context28.stop();\n      }\n    }, _callee28);\n  }));\n  return function (_x53, _x54) {\n    return _ref28.apply(this, arguments);\n  };\n}()), _defineProperty(_HANDLERS, UNSUBSCRIBE, function (ctx, letter) {\n  ctx.unsubscribe(letter.from);\n  if (!ctx.hasSubs()) {\n    clearTimeout(ctx.get(TICK));\n    ctx.delete(TICK);\n    ctx.delete(HIGH_WATER_MARK);\n  }\n}), _HANDLERS);\nvar spawnEvents = function spawnEvents(key) {\n  return spawn(HANDLERS, key);\n};\n\n/**\n * @typedef {import(\"@onflow/typedefs\").Event} Event\n */\n\n/**\n * @typedef {object} SubscribeObject\n * @property {Function} subscribe - The subscribe function.\n */\n\n/**\n * @callback SubscriptionCallback\n * @returns {Event}\n */\n\n/**\n * @description - Subscribe to events\n * @param {string} key - A valid event name\n * @returns {SubscribeObject}\n * \n * @example\n * import * as fcl from \"@onflow/fcl\"\n * fcl.events(eventName).subscribe((event) => console.log(event))\n */\nfunction events(key) {\n  return {\n    /**\n     * @description - Subscribe to events\n     * @param {Function} callback - The callback function\n     * @returns {SubscriptionCallback}\n     */\n    subscribe: function subscribe(callback) {\n      return subscriber(key, spawnEvents, callback);\n    }\n  };\n}\nvar sha3 = {};\nvar sponge = {};\nvar permute = {};\nvar chi = {};\nvar copy = function copy(I, i) {\n  return function (O, o) {\n    var oi = o * 2;\n    var ii = i * 2;\n    O[oi] = I[ii];\n    O[oi + 1] = I[ii + 1];\n  };\n};\nvar copy_1 = copy;\n(function (exports) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports[\"default\"] = void 0;\n  var _copy = _interopRequireDefault(copy_1);\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      \"default\": obj\n    };\n  }\n  var chi = function chi(_ref) {\n    var A = _ref.A,\n      C = _ref.C;\n    for (var y = 0; y < 25; y += 5) {\n      for (var x = 0; x < 5; x++) {\n        (0, _copy[\"default\"])(A, y + x)(C, x);\n      }\n      for (var _x = 0; _x < 5; _x++) {\n        var xy = (y + _x) * 2;\n        var x1 = (_x + 1) % 5 * 2;\n        var x2 = (_x + 2) % 5 * 2;\n        A[xy] ^= ~C[x1] & C[x2];\n        A[xy + 1] ^= ~C[x1 + 1] & C[x2 + 1];\n      }\n    }\n  };\n  var _default = chi;\n  exports[\"default\"] = _default;\n})(chi);\nvar iota = {};\nvar roundConstants = {};\n(function (exports) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports[\"default\"] = void 0;\n  var ROUND_CONSTANTS = new Uint32Array([0, 1, 0, 32898, 2147483648, 32906, 2147483648, 2147516416, 0, 32907, 0, 2147483649, 2147483648, 2147516545, 2147483648, 32777, 0, 138, 0, 136, 0, 2147516425, 0, 2147483658, 0, 2147516555, 2147483648, 139, 2147483648, 32905, 2147483648, 32771, 2147483648, 32770, 2147483648, 128, 0, 32778, 2147483648, 2147483658, 2147483648, 2147516545, 2147483648, 32896, 0, 2147483649, 2147483648, 2147516424]);\n  var _default = ROUND_CONSTANTS;\n  exports[\"default\"] = _default;\n})(roundConstants);\n(function (exports) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports[\"default\"] = void 0;\n  var _roundConstants = _interopRequireDefault(roundConstants);\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      \"default\": obj\n    };\n  }\n  var iota = function iota(_ref) {\n    var A = _ref.A,\n      roundIndex = _ref.roundIndex;\n    var i = roundIndex * 2;\n    A[0] ^= _roundConstants[\"default\"][i];\n    A[1] ^= _roundConstants[\"default\"][i + 1];\n  };\n  var _default = iota;\n  exports[\"default\"] = _default;\n})(iota);\nvar rhoPi = {};\nvar piShuffles = {};\n(function (exports) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports[\"default\"] = void 0;\n  var PI_SHUFFLES = [10, 7, 11, 17, 18, 3, 5, 16, 8, 21, 24, 4, 15, 23, 19, 13, 12, 2, 20, 14, 22, 9, 6, 1];\n  var _default = PI_SHUFFLES;\n  exports[\"default\"] = _default;\n})(piShuffles);\nvar rhoOffsets = {};\n(function (exports) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports[\"default\"] = void 0;\n  var RHO_OFFSETS = [1, 3, 6, 10, 15, 21, 28, 36, 45, 55, 2, 14, 27, 41, 56, 8, 25, 43, 62, 18, 39, 61, 20, 44];\n  var _default = RHO_OFFSETS;\n  exports[\"default\"] = _default;\n})(rhoOffsets);\n(function (exports) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports[\"default\"] = void 0;\n  var _piShuffles = _interopRequireDefault(piShuffles);\n  var _rhoOffsets = _interopRequireDefault(rhoOffsets);\n  var _copy = _interopRequireDefault(copy_1);\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      \"default\": obj\n    };\n  }\n  var rhoPi = function rhoPi(_ref) {\n    var A = _ref.A,\n      C = _ref.C,\n      W = _ref.W;\n    (0, _copy[\"default\"])(A, 1)(W, 0);\n    var H = 0;\n    var L = 0;\n    var Wi = 0;\n    var ri = 32;\n    for (var i = 0; i < 24; i++) {\n      var j = _piShuffles[\"default\"][i];\n      var r = _rhoOffsets[\"default\"][i];\n      (0, _copy[\"default\"])(A, j)(C, 0);\n      H = W[0];\n      L = W[1];\n      ri = 32 - r;\n      Wi = r < 32 ? 0 : 1;\n      W[Wi] = H << r | L >>> ri;\n      W[(Wi + 1) % 2] = L << r | H >>> ri;\n      (0, _copy[\"default\"])(W, 0)(A, j);\n      (0, _copy[\"default\"])(C, 0)(W, 0);\n    }\n  };\n  var _default = rhoPi;\n  exports[\"default\"] = _default;\n})(rhoPi);\nvar theta = {};\n(function (exports) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports[\"default\"] = void 0;\n  var _copy = _interopRequireDefault(copy_1);\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      \"default\": obj\n    };\n  }\n  var theta = function theta(_ref) {\n    var A = _ref.A,\n      C = _ref.C,\n      D = _ref.D,\n      W = _ref.W;\n    var H = 0;\n    var L = 0;\n    for (var x = 0; x < 5; x++) {\n      var x20 = x * 2;\n      var x21 = (x + 5) * 2;\n      var x22 = (x + 10) * 2;\n      var x23 = (x + 15) * 2;\n      var x24 = (x + 20) * 2;\n      C[x20] = A[x20] ^ A[x21] ^ A[x22] ^ A[x23] ^ A[x24];\n      C[x20 + 1] = A[x20 + 1] ^ A[x21 + 1] ^ A[x22 + 1] ^ A[x23 + 1] ^ A[x24 + 1];\n    }\n    for (var _x = 0; _x < 5; _x++) {\n      (0, _copy[\"default\"])(C, (_x + 1) % 5)(W, 0);\n      H = W[0];\n      L = W[1];\n      W[0] = H << 1 | L >>> 31;\n      W[1] = L << 1 | H >>> 31;\n      D[_x * 2] = C[(_x + 4) % 5 * 2] ^ W[0];\n      D[_x * 2 + 1] = C[(_x + 4) % 5 * 2 + 1] ^ W[1];\n      for (var y = 0; y < 25; y += 5) {\n        A[(y + _x) * 2] ^= D[_x * 2];\n        A[(y + _x) * 2 + 1] ^= D[_x * 2 + 1];\n      }\n    }\n  };\n  var _default = theta;\n  exports[\"default\"] = _default;\n})(theta);\n(function (exports) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports[\"default\"] = void 0;\n  var _chi = _interopRequireDefault(chi);\n  var _iota = _interopRequireDefault(iota);\n  var _rhoPi = _interopRequireDefault(rhoPi);\n  var _theta = _interopRequireDefault(theta);\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      \"default\": obj\n    };\n  }\n  var permute = function permute() {\n    var C = new Uint32Array(10);\n    var D = new Uint32Array(10);\n    var W = new Uint32Array(2);\n    return function (A) {\n      for (var roundIndex = 0; roundIndex < 24; roundIndex++) {\n        (0, _theta[\"default\"])({\n          A: A,\n          C: C,\n          D: D,\n          W: W\n        });\n        (0, _rhoPi[\"default\"])({\n          A: A,\n          C: C,\n          W: W\n        });\n        (0, _chi[\"default\"])({\n          A: A,\n          C: C\n        });\n        (0, _iota[\"default\"])({\n          A: A,\n          roundIndex: roundIndex\n        });\n      }\n      C.fill(0);\n      D.fill(0);\n      W.fill(0);\n    };\n  };\n  var _default = permute;\n  exports[\"default\"] = _default;\n})(permute);\n(function (exports) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports[\"default\"] = void 0;\n  var _buffer = require$$0;\n  var _permute = _interopRequireDefault(permute);\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      \"default\": obj\n    };\n  }\n  var xorWords = function xorWords(I, O) {\n    for (var i = 0; i < I.length; i += 8) {\n      var o = i / 4;\n      O[o] ^= I[i + 7] << 24 | I[i + 6] << 16 | I[i + 5] << 8 | I[i + 4];\n      O[o + 1] ^= I[i + 3] << 24 | I[i + 2] << 16 | I[i + 1] << 8 | I[i];\n    }\n    return O;\n  };\n  var readWords = function readWords(I, O) {\n    for (var o = 0; o < O.length; o += 8) {\n      var i = o / 4;\n      O[o] = I[i + 1];\n      O[o + 1] = I[i + 1] >>> 8;\n      O[o + 2] = I[i + 1] >>> 16;\n      O[o + 3] = I[i + 1] >>> 24;\n      O[o + 4] = I[i];\n      O[o + 5] = I[i] >>> 8;\n      O[o + 6] = I[i] >>> 16;\n      O[o + 7] = I[i] >>> 24;\n    }\n    return O;\n  };\n  var Sponge = function Sponge(_ref) {\n    var _this = this;\n    var capacity = _ref.capacity,\n      padding = _ref.padding;\n    var keccak = (0, _permute[\"default\"])();\n    var stateSize = 200;\n    var blockSize = capacity / 8;\n    var queueSize = stateSize - capacity / 4;\n    var queueOffset = 0;\n    var state = new Uint32Array(stateSize / 4);\n    var queue = _buffer.Buffer.allocUnsafe(queueSize);\n    this.absorb = function (buffer) {\n      for (var i = 0; i < buffer.length; i++) {\n        queue[queueOffset] = buffer[i];\n        queueOffset += 1;\n        if (queueOffset >= queueSize) {\n          xorWords(queue, state);\n          keccak(state);\n          queueOffset = 0;\n        }\n      }\n      return _this;\n    };\n    this.squeeze = function () {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var output = {\n        buffer: options.buffer || _buffer.Buffer.allocUnsafe(blockSize),\n        padding: options.padding || padding,\n        queue: _buffer.Buffer.allocUnsafe(queue.length),\n        state: new Uint32Array(state.length)\n      };\n      queue.copy(output.queue);\n      for (var i = 0; i < state.length; i++) {\n        output.state[i] = state[i];\n      }\n      output.queue.fill(0, queueOffset);\n      output.queue[queueOffset] |= output.padding;\n      output.queue[queueSize - 1] |= 128;\n      xorWords(output.queue, output.state);\n      for (var offset = 0; offset < output.buffer.length; offset += queueSize) {\n        keccak(output.state);\n        readWords(output.state, output.buffer.slice(offset, offset + queueSize));\n      }\n      return output.buffer;\n    };\n    this.reset = function () {\n      queue.fill(0);\n      state.fill(0);\n      queueOffset = 0;\n      return _this;\n    };\n    return this;\n  };\n  var _default = Sponge;\n  exports[\"default\"] = _default;\n})(sponge);\n(function (exports) {\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports[\"default\"] = exports.SHAKE = exports.SHA3Hash = exports.SHA3 = exports.Keccak = void 0;\n  var _buffer = require$$0;\n  var _sponge = _interopRequireDefault(sponge);\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      \"default\": obj\n    };\n  }\n  var createHash = function createHash(_ref) {\n    var allowedSizes = _ref.allowedSizes,\n      defaultSize = _ref.defaultSize,\n      padding = _ref.padding;\n    return function Hash() {\n      var _this = this;\n      var size = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultSize;\n      if (!this || this.constructor !== Hash) {\n        return new Hash(size);\n      }\n      if (allowedSizes && !allowedSizes.includes(size)) {\n        throw new Error(\"Unsupported hash length\");\n      }\n      var sponge = new _sponge[\"default\"]({\n        capacity: size\n      });\n      this.update = function (input) {\n        var encoding = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"utf8\";\n        if (_buffer.Buffer.isBuffer(input)) {\n          sponge.absorb(input);\n          return _this;\n        }\n        if (typeof input === \"string\") {\n          return _this.update(_buffer.Buffer.from(input, encoding));\n        }\n        throw new TypeError(\"Not a string or buffer\");\n      };\n      this.digest = function () {\n        var formatOrOptions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"binary\";\n        var options = typeof formatOrOptions === \"string\" ? {\n          format: formatOrOptions\n        } : formatOrOptions;\n        var buffer = sponge.squeeze({\n          buffer: options.buffer,\n          padding: options.padding || padding\n        });\n        if (options.format && options.format !== \"binary\") {\n          return buffer.toString(options.format);\n        }\n        return buffer;\n      };\n      this.reset = function () {\n        sponge.reset();\n        return _this;\n      };\n      return this;\n    };\n  };\n  var Keccak = createHash({\n    allowedSizes: [224, 256, 384, 512],\n    defaultSize: 512,\n    padding: 1\n  });\n  exports.Keccak = Keccak;\n  var SHA3 = createHash({\n    allowedSizes: [224, 256, 384, 512],\n    defaultSize: 512,\n    padding: 6\n  });\n  exports.SHA3 = SHA3;\n  var SHAKE = createHash({\n    allowedSizes: [128, 256],\n    defaultSize: 256,\n    padding: 31\n  });\n  exports.SHAKE = SHAKE;\n  var SHA3Hash = Keccak;\n  exports.SHA3Hash = SHA3Hash;\n  SHA3.SHA3Hash = SHA3Hash;\n  var _default = SHA3;\n  exports[\"default\"] = _default;\n})(sha3);\nfunction genHash(_x55) {\n  return _genHash.apply(this, arguments);\n}\n/**\n * @description Generates Interaction Template ID for a given Interaction Template\n *  \n * @param {object} params\n * @param {object} params.template - Interaction Template\n * @returns {Promise<string>} - Interaction Template ID\n */\nfunction _genHash() {\n  _genHash = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee62(utf8String) {\n    var sha;\n    return _regeneratorRuntime().wrap(function _callee62$(_context62) {\n      while (1) switch (_context62.prev = _context62.next) {\n        case 0:\n          sha = new sha3.SHA3(256);\n          sha.update(Buffer.from(utf8String, \"utf8\"));\n          return _context62.abrupt(\"return\", sha.digest(\"hex\"));\n        case 3:\n        case \"end\":\n          return _context62.stop();\n      }\n    }, _callee62);\n  }));\n  return _genHash.apply(this, arguments);\n}\nfunction generateTemplateId(_x56) {\n  return _generateTemplateId.apply(this, arguments);\n}\n/**\n * @description Returns whether a set of auditors have audited a given Interaction Template\n * \n * @param {object} params\n * @param {object} params.template - Interaction Template\n * @param {Array<string>} params.auditors - Array of auditors\n * @param {object} opts\n * @param {string} opts.flowInteractionAuditContract - Flow Interaction Template Audit contract address\n * @returns {Promise<object>} - Object of auditor addresses and audit status\n */\nfunction _generateTemplateId() {\n  _generateTemplateId = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee71(_ref) {\n    var template, templateData, messages, dependencies, _arguments, encodedHex;\n    return _regeneratorRuntime().wrap(function _callee71$(_context71) {\n      while (1) switch (_context71.prev = _context71.next) {\n        case 0:\n          template = _ref.template;\n          invariant$1(template != undefined, \"generateTemplateId({ template }) -- template must be defined\");\n          invariant$1(typeof template === \"object\", \"generateTemplateId({ template }) -- template must be an object\");\n          invariant$1(typeof template.f_type === \"InteractionTemplate\", \"generateTemplateId({ template }) -- template object must be an InteractionTemplate\");\n          template = normalizeInteractionTemplate(template);\n          _context71.t0 = template.f_version;\n          _context71.next = _context71.t0 === \"1.0.0\" ? 8 : 40;\n          break;\n        case 8:\n          templateData = template.data;\n          _context71.next = 11;\n          return Promise.all(Object.keys(templateData.messages).map( /*#__PURE__*/function () {\n            var _ref34 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee64(messageKey) {\n              var _templateData$message;\n              return _regeneratorRuntime().wrap(function _callee64$(_context64) {\n                while (1) switch (_context64.prev = _context64.next) {\n                  case 0:\n                    _context64.next = 2;\n                    return genHash(messageKey);\n                  case 2:\n                    _context64.t0 = _context64.sent;\n                    _context64.next = 5;\n                    return Promise.all(Object.keys((_templateData$message = templateData.messages) === null || _templateData$message === void 0 || (_templateData$message = _templateData$message[messageKey]) === null || _templateData$message === void 0 ? void 0 : _templateData$message.i18n).map( /*#__PURE__*/function () {\n                      var _ref35 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee63(i18nkeylanguage) {\n                        var _templateData$message2;\n                        return _regeneratorRuntime().wrap(function _callee63$(_context63) {\n                          while (1) switch (_context63.prev = _context63.next) {\n                            case 0:\n                              _context63.next = 2;\n                              return genHash(i18nkeylanguage);\n                            case 2:\n                              _context63.t0 = _context63.sent;\n                              _context63.next = 5;\n                              return genHash((_templateData$message2 = templateData.messages) === null || _templateData$message2 === void 0 || (_templateData$message2 = _templateData$message2[messageKey]) === null || _templateData$message2 === void 0 || (_templateData$message2 = _templateData$message2.i18n) === null || _templateData$message2 === void 0 ? void 0 : _templateData$message2[i18nkeylanguage]);\n                            case 5:\n                              _context63.t1 = _context63.sent;\n                              return _context63.abrupt(\"return\", [_context63.t0, _context63.t1]);\n                            case 7:\n                            case \"end\":\n                              return _context63.stop();\n                          }\n                        }, _callee63);\n                      }));\n                      return function (_x66) {\n                        return _ref35.apply(this, arguments);\n                      };\n                    }()));\n                  case 5:\n                    _context64.t1 = _context64.sent;\n                    return _context64.abrupt(\"return\", [_context64.t0, _context64.t1]);\n                  case 7:\n                  case \"end\":\n                    return _context64.stop();\n                }\n              }, _callee64);\n            }));\n            return function (_x65) {\n              return _ref34.apply(this, arguments);\n            };\n          }()));\n        case 11:\n          messages = _context71.sent;\n          _context71.next = 14;\n          return Promise.all(Object.keys(templateData === null || templateData === void 0 ? void 0 : templateData.dependencies).map( /*#__PURE__*/function () {\n            var _ref36 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee67(dependencyAddressPlaceholder) {\n              var _templateData$depende;\n              return _regeneratorRuntime().wrap(function _callee67$(_context67) {\n                while (1) switch (_context67.prev = _context67.next) {\n                  case 0:\n                    _context67.next = 2;\n                    return genHash(dependencyAddressPlaceholder);\n                  case 2:\n                    _context67.t0 = _context67.sent;\n                    _context67.next = 5;\n                    return Promise.all(Object.keys(templateData === null || templateData === void 0 || (_templateData$depende = templateData.dependencies) === null || _templateData$depende === void 0 ? void 0 : _templateData$depende[dependencyAddressPlaceholder]).map( /*#__PURE__*/function () {\n                      var _ref37 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee66(dependencyContract) {\n                        var _templateData$depende2;\n                        return _regeneratorRuntime().wrap(function _callee66$(_context66) {\n                          while (1) switch (_context66.prev = _context66.next) {\n                            case 0:\n                              _context66.next = 2;\n                              return genHash(dependencyContract);\n                            case 2:\n                              _context66.t0 = _context66.sent;\n                              _context66.next = 5;\n                              return Promise.all(Object.keys(templateData === null || templateData === void 0 || (_templateData$depende2 = templateData.dependencies) === null || _templateData$depende2 === void 0 || (_templateData$depende2 = _templateData$depende2[dependencyAddressPlaceholder]) === null || _templateData$depende2 === void 0 ? void 0 : _templateData$depende2[dependencyContract]).map( /*#__PURE__*/function () {\n                                var _ref38 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee65(dependencyContractNetwork) {\n                                  var _templateData$depende3, _templateData$depende4, _templateData$depende5, _templateData$depende6, _templateData$depende7;\n                                  return _regeneratorRuntime().wrap(function _callee65$(_context65) {\n                                    while (1) switch (_context65.prev = _context65.next) {\n                                      case 0:\n                                        _context65.next = 2;\n                                        return genHash(dependencyContractNetwork);\n                                      case 2:\n                                        _context65.t0 = _context65.sent;\n                                        _context65.next = 5;\n                                        return genHash(templateData === null || templateData === void 0 || (_templateData$depende3 = templateData.dependencies) === null || _templateData$depende3 === void 0 || (_templateData$depende3 = _templateData$depende3[dependencyAddressPlaceholder]) === null || _templateData$depende3 === void 0 || (_templateData$depende3 = _templateData$depende3[dependencyContract]) === null || _templateData$depende3 === void 0 ? void 0 : _templateData$depende3[dependencyContractNetwork].address);\n                                      case 5:\n                                        _context65.t1 = _context65.sent;\n                                        _context65.next = 8;\n                                        return genHash(templateData === null || templateData === void 0 || (_templateData$depende4 = templateData.dependencies) === null || _templateData$depende4 === void 0 || (_templateData$depende4 = _templateData$depende4[dependencyAddressPlaceholder]) === null || _templateData$depende4 === void 0 || (_templateData$depende4 = _templateData$depende4[dependencyContract]) === null || _templateData$depende4 === void 0 ? void 0 : _templateData$depende4[dependencyContractNetwork].contract);\n                                      case 8:\n                                        _context65.t2 = _context65.sent;\n                                        _context65.next = 11;\n                                        return genHash(templateData === null || templateData === void 0 || (_templateData$depende5 = templateData.dependencies) === null || _templateData$depende5 === void 0 || (_templateData$depende5 = _templateData$depende5[dependencyAddressPlaceholder]) === null || _templateData$depende5 === void 0 || (_templateData$depende5 = _templateData$depende5[dependencyContract]) === null || _templateData$depende5 === void 0 ? void 0 : _templateData$depende5[dependencyContractNetwork].fq_address);\n                                      case 11:\n                                        _context65.t3 = _context65.sent;\n                                        _context65.next = 14;\n                                        return genHash(templateData === null || templateData === void 0 || (_templateData$depende6 = templateData.dependencies) === null || _templateData$depende6 === void 0 || (_templateData$depende6 = _templateData$depende6[dependencyAddressPlaceholder]) === null || _templateData$depende6 === void 0 || (_templateData$depende6 = _templateData$depende6[dependencyContract]) === null || _templateData$depende6 === void 0 ? void 0 : _templateData$depende6[dependencyContractNetwork].pin);\n                                      case 14:\n                                        _context65.t4 = _context65.sent;\n                                        _context65.next = 17;\n                                        return genHash(String(templateData === null || templateData === void 0 || (_templateData$depende7 = templateData.dependencies) === null || _templateData$depende7 === void 0 || (_templateData$depende7 = _templateData$depende7[dependencyAddressPlaceholder]) === null || _templateData$depende7 === void 0 || (_templateData$depende7 = _templateData$depende7[dependencyContract]) === null || _templateData$depende7 === void 0 ? void 0 : _templateData$depende7[dependencyContractNetwork].pin_block_height));\n                                      case 17:\n                                        _context65.t5 = _context65.sent;\n                                        _context65.t6 = [_context65.t1, _context65.t2, _context65.t3, _context65.t4, _context65.t5];\n                                        return _context65.abrupt(\"return\", [_context65.t0, _context65.t6]);\n                                      case 20:\n                                      case \"end\":\n                                        return _context65.stop();\n                                    }\n                                  }, _callee65);\n                                }));\n                                return function (_x69) {\n                                  return _ref38.apply(this, arguments);\n                                };\n                              }()));\n                            case 5:\n                              _context66.t1 = _context66.sent;\n                              return _context66.abrupt(\"return\", [_context66.t0, _context66.t1]);\n                            case 7:\n                            case \"end\":\n                              return _context66.stop();\n                          }\n                        }, _callee66);\n                      }));\n                      return function (_x68) {\n                        return _ref37.apply(this, arguments);\n                      };\n                    }()));\n                  case 5:\n                    _context67.t1 = _context67.sent;\n                    return _context67.abrupt(\"return\", [_context67.t0, _context67.t1]);\n                  case 7:\n                  case \"end\":\n                    return _context67.stop();\n                }\n              }, _callee67);\n            }));\n            return function (_x67) {\n              return _ref36.apply(this, arguments);\n            };\n          }()));\n        case 14:\n          dependencies = _context71.sent;\n          _context71.next = 17;\n          return Promise.all(Object.keys(templateData === null || templateData === void 0 ? void 0 : templateData[\"arguments\"]).map( /*#__PURE__*/function () {\n            var _ref39 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee70(argumentLabel) {\n              var _templateData$argumen, _templateData$argumen2, _templateData$argumen3, _templateData$argumen4;\n              return _regeneratorRuntime().wrap(function _callee70$(_context70) {\n                while (1) switch (_context70.prev = _context70.next) {\n                  case 0:\n                    _context70.next = 2;\n                    return genHash(argumentLabel);\n                  case 2:\n                    _context70.t0 = _context70.sent;\n                    _context70.next = 5;\n                    return genHash(String(templateData === null || templateData === void 0 || (_templateData$argumen = templateData[\"arguments\"]) === null || _templateData$argumen === void 0 ? void 0 : _templateData$argumen[argumentLabel].index));\n                  case 5:\n                    _context70.t1 = _context70.sent;\n                    _context70.next = 8;\n                    return genHash(templateData === null || templateData === void 0 || (_templateData$argumen2 = templateData[\"arguments\"]) === null || _templateData$argumen2 === void 0 ? void 0 : _templateData$argumen2[argumentLabel].type);\n                  case 8:\n                    _context70.t2 = _context70.sent;\n                    _context70.next = 11;\n                    return genHash((templateData === null || templateData === void 0 || (_templateData$argumen3 = templateData[\"arguments\"]) === null || _templateData$argumen3 === void 0 ? void 0 : _templateData$argumen3[argumentLabel].balance) || \"\");\n                  case 11:\n                    _context70.t3 = _context70.sent;\n                    _context70.next = 14;\n                    return Promise.all(Object.keys(templateData === null || templateData === void 0 || (_templateData$argumen4 = templateData[\"arguments\"]) === null || _templateData$argumen4 === void 0 ? void 0 : _templateData$argumen4[argumentLabel].messages).map( /*#__PURE__*/function () {\n                      var _ref40 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee69(argumentMessageKey) {\n                        var _templateData$argumen5;\n                        return _regeneratorRuntime().wrap(function _callee69$(_context69) {\n                          while (1) switch (_context69.prev = _context69.next) {\n                            case 0:\n                              _context69.next = 2;\n                              return genHash(argumentMessageKey);\n                            case 2:\n                              _context69.t0 = _context69.sent;\n                              _context69.next = 5;\n                              return Promise.all(Object.keys(templateData === null || templateData === void 0 || (_templateData$argumen5 = templateData[\"arguments\"]) === null || _templateData$argumen5 === void 0 || (_templateData$argumen5 = _templateData$argumen5[argumentLabel].messages) === null || _templateData$argumen5 === void 0 ? void 0 : _templateData$argumen5[argumentMessageKey].i18n).map( /*#__PURE__*/function () {\n                                var _ref41 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee68(i18nkeylanguage) {\n                                  var _templateData$argumen6;\n                                  return _regeneratorRuntime().wrap(function _callee68$(_context68) {\n                                    while (1) switch (_context68.prev = _context68.next) {\n                                      case 0:\n                                        _context68.next = 2;\n                                        return genHash(i18nkeylanguage);\n                                      case 2:\n                                        _context68.t0 = _context68.sent;\n                                        _context68.next = 5;\n                                        return genHash(templateData === null || templateData === void 0 || (_templateData$argumen6 = templateData[\"arguments\"]) === null || _templateData$argumen6 === void 0 || (_templateData$argumen6 = _templateData$argumen6[argumentLabel].messages) === null || _templateData$argumen6 === void 0 || (_templateData$argumen6 = _templateData$argumen6[argumentMessageKey].i18n) === null || _templateData$argumen6 === void 0 ? void 0 : _templateData$argumen6[i18nkeylanguage]);\n                                      case 5:\n                                        _context68.t1 = _context68.sent;\n                                        return _context68.abrupt(\"return\", [_context68.t0, _context68.t1]);\n                                      case 7:\n                                      case \"end\":\n                                        return _context68.stop();\n                                    }\n                                  }, _callee68);\n                                }));\n                                return function (_x72) {\n                                  return _ref41.apply(this, arguments);\n                                };\n                              }()));\n                            case 5:\n                              _context69.t1 = _context69.sent;\n                              return _context69.abrupt(\"return\", [_context69.t0, _context69.t1]);\n                            case 7:\n                            case \"end\":\n                              return _context69.stop();\n                          }\n                        }, _callee69);\n                      }));\n                      return function (_x71) {\n                        return _ref40.apply(this, arguments);\n                      };\n                    }()));\n                  case 14:\n                    _context70.t4 = _context70.sent;\n                    _context70.t5 = [_context70.t1, _context70.t2, _context70.t3, _context70.t4];\n                    return _context70.abrupt(\"return\", [_context70.t0, _context70.t5]);\n                  case 17:\n                  case \"end\":\n                    return _context70.stop();\n                }\n              }, _callee70);\n            }));\n            return function (_x70) {\n              return _ref39.apply(this, arguments);\n            };\n          }()));\n        case 17:\n          _arguments = _context71.sent;\n          _context71.t1 = encode;\n          _context71.next = 21;\n          return genHash(\"InteractionTemplate\");\n        case 21:\n          _context71.t2 = _context71.sent;\n          _context71.next = 24;\n          return genHash(\"1.0.0\");\n        case 24:\n          _context71.t3 = _context71.sent;\n          _context71.next = 27;\n          return genHash(templateData === null || templateData === void 0 ? void 0 : templateData.type);\n        case 27:\n          _context71.t4 = _context71.sent;\n          _context71.next = 30;\n          return genHash(templateData === null || templateData === void 0 ? void 0 : templateData.interface);\n        case 30:\n          _context71.t5 = _context71.sent;\n          _context71.t6 = messages;\n          _context71.next = 34;\n          return genHash(templateData === null || templateData === void 0 ? void 0 : templateData.cadence);\n        case 34:\n          _context71.t7 = _context71.sent;\n          _context71.t8 = dependencies;\n          _context71.t9 = _arguments;\n          _context71.t10 = [_context71.t2, _context71.t3, _context71.t4, _context71.t5, _context71.t6, _context71.t7, _context71.t8, _context71.t9];\n          encodedHex = (0, _context71.t1)(_context71.t10).toString(\"hex\");\n          return _context71.abrupt(\"return\", genHash(encodedHex));\n        case 40:\n          throw new Error(\"generateTemplateId Error: Unsupported template version\");\n        case 41:\n        case \"end\":\n          return _context71.stop();\n      }\n    }, _callee71);\n  }));\n  return _generateTemplateId.apply(this, arguments);\n}\nfunction getInteractionTemplateAudits(_x57) {\n  return _getInteractionTemplateAudits.apply(this, arguments);\n}\nfunction _getInteractionTemplateAudits() {\n  _getInteractionTemplateAudits = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee72(_ref) {\n    var template,\n      auditors,\n      opts,\n      recomputedTemplateID,\n      _auditors,\n      FlowInteractionAuditContract,\n      fclNetwork,\n      audits,\n      _args72 = arguments;\n    return _regeneratorRuntime().wrap(function _callee72$(_context72) {\n      while (1) switch (_context72.prev = _context72.next) {\n        case 0:\n          template = _ref.template, auditors = _ref.auditors;\n          opts = _args72.length > 1 && _args72[1] !== undefined ? _args72[1] : {};\n          invariant$1(template != undefined, \"getInteractionTemplateAudits({ template }) -- template must be defined\");\n          template = normalizeInteractionTemplate(template);\n          invariant$1(template.f_type === \"InteractionTemplate\", \"getInteractionTemplateAudits({ template }) -- template must be an InteractionTemplate\");\n\n          // Recompute ID to be sure it matches\n          _context72.next = 7;\n          return generateTemplateId({\n            template: template\n          });\n        case 7:\n          recomputedTemplateID = _context72.sent;\n          if (!(recomputedTemplateID !== template.id)) {\n            _context72.next = 11;\n            break;\n          }\n          log({\n            title: \"getInteractionTemplateAudits Debug Error\",\n            message: \"Could not recompute and match template ID\\n                computed: \".concat(recomputedTemplateID, \"\\n                template: \").concat(template.id, \"\\n            \"),\n            level: LEVELS.debug\n          });\n          throw new Error(\"getInteractionTemplateAudits Error: Could not recompute and match template ID\");\n        case 11:\n          _context72.t0 = template.f_version;\n          _context72.next = _context72.t0 === \"1.0.0\" ? 14 : 33;\n          break;\n        case 14:\n          _context72.t1 = auditors;\n          if (_context72.t1) {\n            _context72.next = 19;\n            break;\n          }\n          _context72.next = 18;\n          return config$1().get(\"flow.auditors\");\n        case 18:\n          _context72.t1 = _context72.sent;\n        case 19:\n          _auditors = _context72.t1;\n          invariant$1(_auditors, \"getInteractionTemplateAudits Error: Required configuration for 'fcl.auditors' is not set\");\n          invariant$1(Array.isArray(_auditors), \"getInteractionTemplateAudits Error: Required configuration for 'fcl.auditors' is not an array\");\n          FlowInteractionAuditContract = opts.flowInteractionAuditContract;\n          if (FlowInteractionAuditContract) {\n            _context72.next = 29;\n            break;\n          }\n          _context72.next = 26;\n          return getChainId();\n        case 26:\n          fclNetwork = _context72.sent;\n          invariant$1(fclNetwork === \"mainnet\" || fclNetwork === \"testnet\", \"getInteractionTemplateAudits Error: Unable to determine address for FlowInteractionTemplateAudit contract. Set configuration for 'fcl.network' to 'mainnet' or 'testnet'\");\n          if (fclNetwork === \"mainnet\") {\n            FlowInteractionAuditContract = \"0xfd100e39d50a13e6\";\n          } else {\n            FlowInteractionAuditContract = \"0xf78bfc12d0a786dc\";\n          }\n        case 29:\n          _context72.next = 31;\n          return query({\n            cadence: \"\\n        import FlowInteractionTemplateAudit from \".concat(FlowInteractionAuditContract, \"\\n        pub fun main(templateId: String, auditors: [Address]): {Address:Bool} {\\n          return FlowInteractionTemplateAudit.getHasTemplateBeenAuditedByAuditors(templateId: templateId, auditors: auditors)\\n        }\\n        \"),\n            args: function args(arg, t) {\n              return [arg(recomputedTemplateID, t.String), arg(_auditors, t.Array(t.Address))];\n            }\n          });\n        case 31:\n          audits = _context72.sent;\n          return _context72.abrupt(\"return\", audits);\n        case 33:\n          throw new Error(\"getInteractionTemplateAudits Error: Unsupported template version\");\n        case 34:\n        case \"end\":\n          return _context72.stop();\n      }\n    }, _callee72);\n  }));\n  return _getInteractionTemplateAudits.apply(this, arguments);\n}\nfunction generateImport(_ref) {\n  var contractName = _ref.contractName,\n    address = _ref.address;\n  return {\n    contractName: contractName,\n    address: address,\n    contract: \"\"\n  };\n}\nfunction findImports(cadence) {\n  var imports = [];\n  var importsReg = /import ((\\w|,| )+)* from 0x\\w+/g;\n  var fileImports = cadence.match(importsReg) || [];\n  var _iterator7 = _createForOfIteratorHelper(fileImports),\n    _step7;\n  try {\n    for (_iterator7.s(); !(_step7 = _iterator7.n()).done;) {\n      var fileImport = _step7.value;\n      var importLineReg = /import ((\\w+|, |)*) from (0x\\w+)/g;\n      var importLine = importLineReg.exec(fileImport);\n      var contractsReg = /((?:\\w+)+),?/g;\n      var contracts = importLine[1].match(contractsReg) || [];\n      var _iterator8 = _createForOfIteratorHelper(contracts),\n        _step8;\n      try {\n        for (_iterator8.s(); !(_step8 = _iterator8.n()).done;) {\n          var contract = _step8.value;\n          imports.push(generateImport({\n            address: importLine[3],\n            contractName: contract.replace(/,/g, \"\")\n          }));\n        }\n      } catch (err) {\n        _iterator8.e(err);\n      } finally {\n        _iterator8.f();\n      }\n    }\n  } catch (err) {\n    _iterator7.e(err);\n  } finally {\n    _iterator7.f();\n  }\n  return imports;\n}\n\n/**\n * @description Produces a dependency pin for a contract at a given block height\n * @param {object} params\n * @param {string} params.address - The address of the account containing the contract\n * @param {string} params.contractName - The name of the contract\n * @param {number} params.blockHeight - The block height to produce the dependency pin for\n * @param {object} opts - Options to pass to the interaction\n * @returns {Promise<string>} - The dependency pin\n */\nfunction generateDependencyPin(_x58) {\n  return _generateDependencyPin.apply(this, arguments);\n}\n/**\n * @description Produces a dependency pin for a contract at latest sealed block\n * @param {object} params\n * @param {string} params.address - The address of the account containing the contract\n * @param {string} params.contractName - The name of the contract\n * @param {object} opts - Options to pass to the interaction\n * @returns {Promise<string>} - The dependency pin\n */\nfunction _generateDependencyPin() {\n  _generateDependencyPin = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee73(_ref) {\n    var address,\n      contractName,\n      blockHeight,\n      opts,\n      horizon,\n      _i3,\n      _horizon,\n      _account$contracts,\n      horizonImport,\n      account,\n      contractImports,\n      contractHashes,\n      contractHashesJoined,\n      _args73 = arguments;\n    return _regeneratorRuntime().wrap(function _callee73$(_context73) {\n      while (1) switch (_context73.prev = _context73.next) {\n        case 0:\n          address = _ref.address, contractName = _ref.contractName, blockHeight = _ref.blockHeight;\n          opts = _args73.length > 1 && _args73[1] !== undefined ? _args73[1] : {};\n          invariant$1(address != undefined, \"generateDependencyPin({ address }) -- address must be defined\");\n          invariant$1(contractName != undefined, \"generateDependencyPin({ contractName }) -- contractName must be defined\");\n          invariant$1(blockHeight != undefined, \"generateDependencyPin({ blockHeight }) -- blockHeight must be defined\");\n          invariant$1(typeof address === \"string\", \"generateDependencyPin({ address }) -- address must be a string\");\n          invariant$1(typeof contractName === \"string\", \"generateDependencyPin({ contractName }) -- contractName must be a string\");\n          invariant$1(typeof blockHeight === \"number\", \"generateDependencyPin({ blockHeight }) -- blockHeight must be a number\");\n          horizon = [generateImport({\n            contractName: contractName,\n            address: address\n          })];\n          _i3 = 0, _horizon = horizon;\n        case 10:\n          if (!(_i3 < _horizon.length)) {\n            _context73.next = 33;\n            break;\n          }\n          horizonImport = _horizon[_i3];\n          _context73.t0 = send$1;\n          _context73.t1 = getAccount;\n          _context73.next = 16;\n          return config$1().get(horizonImport.address, horizonImport.address);\n        case 16:\n          _context73.t2 = _context73.sent;\n          _context73.t3 = (0, _context73.t1)(_context73.t2);\n          _context73.t4 = atBlockHeight(blockHeight);\n          _context73.t5 = [_context73.t3, _context73.t4];\n          _context73.t6 = opts;\n          _context73.next = 23;\n          return (0, _context73.t0)(_context73.t5, _context73.t6).then(decode);\n        case 23:\n          account = _context73.sent;\n          horizonImport.contract = (_account$contracts = account.contracts) === null || _account$contracts === void 0 ? void 0 : _account$contracts[horizonImport.contractName];\n          if (horizonImport.contract) {\n            _context73.next = 28;\n            break;\n          }\n          console.error(\"Did not find expected contract\", horizonImport, account);\n          throw new Error(\"Did not find expected contract\");\n        case 28:\n          contractImports = findImports(horizonImport.contract);\n          horizon.push.apply(horizon, _toConsumableArray(contractImports));\n        case 30:\n          _i3++;\n          _context73.next = 10;\n          break;\n        case 33:\n          contractHashes = horizon.map(function (iport) {\n            return genHash(iport.contract);\n          });\n          contractHashesJoined = contractHashes.join(\"\");\n          return _context73.abrupt(\"return\", genHash(contractHashesJoined));\n        case 36:\n        case \"end\":\n          return _context73.stop();\n      }\n    }, _callee73);\n  }));\n  return _generateDependencyPin.apply(this, arguments);\n}\nfunction generateDependencyPinAtLatestSealedBlock(_x59) {\n  return _generateDependencyPinAtLatestSealedBlock.apply(this, arguments);\n}\nfunction _generateDependencyPinAtLatestSealedBlock() {\n  _generateDependencyPinAtLatestSealedBlock = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee74(_ref2) {\n    var address,\n      contractName,\n      opts,\n      latestSealedBlock,\n      latestSealedBlockHeight,\n      _args74 = arguments;\n    return _regeneratorRuntime().wrap(function _callee74$(_context74) {\n      while (1) switch (_context74.prev = _context74.next) {\n        case 0:\n          address = _ref2.address, contractName = _ref2.contractName;\n          opts = _args74.length > 1 && _args74[1] !== undefined ? _args74[1] : {};\n          _context74.next = 4;\n          return block({\n            sealed: true\n          }, opts);\n        case 4:\n          latestSealedBlock = _context74.sent;\n          latestSealedBlockHeight = latestSealedBlock === null || latestSealedBlock === void 0 ? void 0 : latestSealedBlock.height;\n          return _context74.abrupt(\"return\", generateDependencyPin({\n            address: address,\n            contractName: contractName,\n            blockHeight: latestSealedBlockHeight\n          }, opts));\n        case 7:\n        case \"end\":\n          return _context74.stop();\n      }\n    }, _callee74);\n  }));\n  return _generateDependencyPinAtLatestSealedBlock.apply(this, arguments);\n}\nfunction normalizeInteractionTemplateInterface(templateInterface) {\n  if (templateInterface == null) return null;\n  switch (templateInterface[\"f_version\"]) {\n    case \"1.0.0\":\n      return templateInterface;\n    default:\n      throw new Error(\"normalizeInteractionTemplateInterface Error: Invalid InteractionTemplateInterface\");\n  }\n}\n\n/**\n * @description Generates Interaction Template Interface ID for a given Interaction Template Interface\n * \n * @param {object} params\n * @param {object} params.templateInterface - Interaction Template Interface\n * @returns {Promise<string>} - Interaction Template Interface ID\n */\nfunction generateTemplateInterfaceId(_x60) {\n  return _generateTemplateInterfaceId.apply(this, arguments);\n}\n/**\n * @description Checks if an Interaction Template's pins match those generated at a block height\n * \n * @param {object} params\n * @param {object} params.template - Interaction Template to check pins for\n * @param {number} params.blockHeight - Block height to check pins at\n * @param {string} params.network - Network to check pins on\n * @param {object} opts\n * @returns {Promise<boolean>} - Whether or not the pins match\n */\nfunction _generateTemplateInterfaceId() {\n  _generateTemplateInterfaceId = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee76(_ref) {\n    var templateInterface, interfaceData, encodedHex;\n    return _regeneratorRuntime().wrap(function _callee76$(_context76) {\n      while (1) switch (_context76.prev = _context76.next) {\n        case 0:\n          templateInterface = _ref.templateInterface;\n          invariant$1(templateInterface != undefined, \"generateTemplateInterfaceId({ templateInterface }) -- templateInterface must be defined\");\n          invariant$1(typeof templateInterface === \"object\", \"generateTemplateInterfaceId({ templateInterface }) -- templateInterface must be an object\");\n          invariant$1(typeof templateInterface.f_type === \"InteractionTemplateInterface\", \"generateTemplateInterfaceId({ templateInterface }) -- templateInterface object must be an InteractionTemplate\");\n          templateInterface = normalizeInteractionTemplateInterface(templateInterface);\n          _context76.t0 = templateInterface.f_version;\n          _context76.next = _context76.t0 === \"1.0.0\" ? 8 : 25;\n          break;\n        case 8:\n          interfaceData = templateInterface.data;\n          _context76.t1 = encode;\n          _context76.next = 12;\n          return genHash(\"InteractionTemplateInterface\");\n        case 12:\n          _context76.t2 = _context76.sent;\n          _context76.next = 15;\n          return genHash(\"1.0.0\");\n        case 15:\n          _context76.t3 = _context76.sent;\n          _context76.next = 18;\n          return genHash(interfaceData.flip);\n        case 18:\n          _context76.t4 = _context76.sent;\n          _context76.next = 21;\n          return Promise.all(Object.keys(interfaceData.arguments).map( /*#__PURE__*/function () {\n            var _ref42 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee75(argumentLabel) {\n              return _regeneratorRuntime().wrap(function _callee75$(_context75) {\n                while (1) switch (_context75.prev = _context75.next) {\n                  case 0:\n                    _context75.next = 2;\n                    return genHash(argumentLabel);\n                  case 2:\n                    _context75.t0 = _context75.sent;\n                    _context75.next = 5;\n                    return genHash(String(interfaceData.arguments[argumentLabel].index));\n                  case 5:\n                    _context75.t1 = _context75.sent;\n                    _context75.next = 8;\n                    return genHash(interfaceData.arguments[argumentLabel].type);\n                  case 8:\n                    _context75.t2 = _context75.sent;\n                    return _context75.abrupt(\"return\", [_context75.t0, _context75.t1, _context75.t2]);\n                  case 10:\n                  case \"end\":\n                    return _context75.stop();\n                }\n              }, _callee75);\n            }));\n            return function (_x73) {\n              return _ref42.apply(this, arguments);\n            };\n          }()));\n        case 21:\n          _context76.t5 = _context76.sent;\n          _context76.t6 = [_context76.t2, _context76.t3, _context76.t4, _context76.t5];\n          encodedHex = (0, _context76.t1)(_context76.t6).toString(\"hex\");\n          return _context76.abrupt(\"return\", genHash(encodedHex));\n        case 25:\n          throw new Error(\"generateTemplateInterfaceId Error: Unsupported templateInterface version\");\n        case 26:\n        case \"end\":\n          return _context76.stop();\n      }\n    }, _callee76);\n  }));\n  return _generateTemplateInterfaceId.apply(this, arguments);\n}\nfunction verifyDependencyPinsSame(_x61) {\n  return _verifyDependencyPinsSame.apply(this, arguments);\n}\n/**\n * @description Checks if an Interaction Template's pins match those generated at the latest block height\n * \n * @param {object} params\n * @param {object} params.template - Interaction Template to check pins for\n * @param {string} params.network - Network to check pins on\n * @param {object} opts\n * @returns {Promise<boolean>} - Whether or not the pins match\n */\nfunction _verifyDependencyPinsSame() {\n  _verifyDependencyPinsSame = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee77(_ref) {\n    var template,\n      blockHeight,\n      network,\n      opts,\n      templateDependenciesPlaceholderKeys,\n      _i4,\n      _templateDependencies,\n      templateDependencyPlaceholderKey,\n      templateDependencyPlaceholder,\n      templateDependencyPlaceholderContractNames,\n      _i5,\n      _templateDependencyPl,\n      templateDependencyPlaceholderContractName,\n      templateDependencyPlaceholderContractNetworks,\n      templateDependency,\n      pin,\n      _args77 = arguments;\n    return _regeneratorRuntime().wrap(function _callee77$(_context77) {\n      while (1) switch (_context77.prev = _context77.next) {\n        case 0:\n          template = _ref.template, blockHeight = _ref.blockHeight, network = _ref.network;\n          opts = _args77.length > 1 && _args77[1] !== undefined ? _args77[1] : {};\n          invariant$1(template != undefined, \"generateDependencyPin({ template }) -- template must be defined\");\n          invariant$1(typeof template === \"object\", \"generateDependencyPin({ template }) -- template must be an object\");\n          invariant$1(template.f_type === \"InteractionTemplate\", \"generateDependencyPin({ template }) -- template must be an InteractionTemplate\");\n          template = normalizeInteractionTemplate(template);\n          invariant$1(network != undefined, \"generateDependencyPin({ network }) network must be defined\");\n          invariant$1(blockHeight != undefined, \"generateDependencyPin({ blockHeight }) blockHeight must be defined\");\n          invariant$1(typeof blockHeight === \"number\", \"generateDependencyPin({ blockHeight }) blockHeight must be a number\");\n          _context77.t0 = template.f_version;\n          _context77.next = _context77.t0 === \"1.0.0\" ? 12 : 38;\n          break;\n        case 12:\n          templateDependenciesPlaceholderKeys = Object.keys(template.data.dependencies);\n          _i4 = 0, _templateDependencies = templateDependenciesPlaceholderKeys;\n        case 14:\n          if (!(_i4 < _templateDependencies.length)) {\n            _context77.next = 37;\n            break;\n          }\n          templateDependencyPlaceholderKey = _templateDependencies[_i4];\n          templateDependencyPlaceholder = template.data.dependencies[templateDependencyPlaceholderKey];\n          templateDependencyPlaceholderContractNames = Object.keys(templateDependencyPlaceholder);\n          _i5 = 0, _templateDependencyPl = templateDependencyPlaceholderContractNames;\n        case 19:\n          if (!(_i5 < _templateDependencyPl.length)) {\n            _context77.next = 34;\n            break;\n          }\n          templateDependencyPlaceholderContractName = _templateDependencyPl[_i5];\n          templateDependencyPlaceholderContractNetworks = template.data.dependencies[templateDependencyPlaceholderKey][templateDependencyPlaceholderContractName];\n          templateDependency = templateDependencyPlaceholderContractNetworks[network];\n          if (!(typeof templateDependency === \"undefined\")) {\n            _context77.next = 25;\n            break;\n          }\n          return _context77.abrupt(\"continue\", 31);\n        case 25:\n          _context77.next = 27;\n          return generateDependencyPin({\n            address: templateDependency.address,\n            contractName: templateDependency.contract,\n            blockHeight: blockHeight\n          }, opts);\n        case 27:\n          pin = _context77.sent;\n          if (!(pin !== templateDependency.pin)) {\n            _context77.next = 31;\n            break;\n          }\n          log({\n            title: \"verifyDependencyPinsSame Debug Error\",\n            message: \"Could not recompute and match dependency pin.\\n                                address: \".concat(templateDependency.address, \" | contract: \").concat(templateDependency.contract, \"\\n                                computed: \").concat(pin, \"\\n                                template: \").concat(templateDependency.pin, \"\\n                            \"),\n            level: LEVELS.debug\n          });\n          return _context77.abrupt(\"return\", false);\n        case 31:\n          _i5++;\n          _context77.next = 19;\n          break;\n        case 34:\n          _i4++;\n          _context77.next = 14;\n          break;\n        case 37:\n          return _context77.abrupt(\"return\", true);\n        case 38:\n          throw new Error(\"verifyDependencyPinsSame Error: Unsupported template version\");\n        case 39:\n        case \"end\":\n          return _context77.stop();\n      }\n    }, _callee77);\n  }));\n  return _verifyDependencyPinsSame.apply(this, arguments);\n}\nfunction verifyDependencyPinsSameAtLatestSealedBlock(_x62) {\n  return _verifyDependencyPinsSameAtLatestSealedBlock.apply(this, arguments);\n}\n/**\n * @description Get Interaction Template argument message\n * \n * @param {object} params\n * @param {string} params.localization [localization=\"en-US\"] - Localization code\n * @param {string} params.messageKey - Message key\n * @param {object} params.template - Interaction Template\n * @returns {string} - Message\n */\nfunction _verifyDependencyPinsSameAtLatestSealedBlock() {\n  _verifyDependencyPinsSameAtLatestSealedBlock = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee78(_ref2) {\n    var template,\n      network,\n      opts,\n      latestSealedBlock,\n      latestSealedBlockHeight,\n      _args78 = arguments;\n    return _regeneratorRuntime().wrap(function _callee78$(_context78) {\n      while (1) switch (_context78.prev = _context78.next) {\n        case 0:\n          template = _ref2.template, network = _ref2.network;\n          opts = _args78.length > 1 && _args78[1] !== undefined ? _args78[1] : {};\n          _context78.next = 4;\n          return block({\n            sealed: true\n          });\n        case 4:\n          latestSealedBlock = _context78.sent;\n          latestSealedBlockHeight = latestSealedBlock === null || latestSealedBlock === void 0 ? void 0 : latestSealedBlock.height;\n          return _context78.abrupt(\"return\", verifyDependencyPinsSame({\n            template: template,\n            network: network,\n            blockHeight: latestSealedBlockHeight\n          }, opts));\n        case 7:\n        case \"end\":\n          return _context78.stop();\n      }\n    }, _callee78);\n  }));\n  return _verifyDependencyPinsSameAtLatestSealedBlock.apply(this, arguments);\n}\nfunction getTemplateMessage(_ref) {\n  var _template$data, _messages$messageKey;\n  var _ref$localization = _ref.localization,\n    localization = _ref$localization === void 0 ? \"en-US\" : _ref$localization,\n    messageKey = _ref.messageKey,\n    template = _ref.template;\n  invariant$1(messageKey, \"getTemplateMessage({ messageKey }) -- messageKey must be defined\");\n  invariant$1(typeof messageKey === \"string\", \"getTemplateMessage({ messageKey }) -- messageKey must be a string\");\n  invariant$1(localization, \"getTemplateMessage({ localization }) -- localization must be defined\");\n  invariant$1(typeof localization === \"string\", \"getTemplateMessage({ localization }) -- localization must be a string\");\n  invariant$1(template != undefined, \"getTemplateMessage({ template }) -- template must be defined\");\n  invariant$1(typeof template === \"object\", \"getTemplateMessage({ template }) -- template must be an object\");\n  invariant$1(typeof template.f_type === \"InteractionTemplate\", \"getTemplateMessage({ template }) -- template object must be an InteractionTemplate\");\n  var messages = template === null || template === void 0 || (_template$data = template.data) === null || _template$data === void 0 ? void 0 : _template$data.messages;\n  return messages === null || messages === void 0 || (_messages$messageKey = messages[messageKey]) === null || _messages$messageKey === void 0 || (_messages$messageKey = _messages$messageKey.i18n) === null || _messages$messageKey === void 0 ? void 0 : _messages$messageKey[localization];\n}\n\n/**\n * @description Gets Interaction Template argument message by message key, argument label, and localization\n * \n * @param {object} opts\n * @param {string} opts.localization [localization=\"en-US\"] - Localization to get message for\n * @param {string} opts.argumentLabel - Argument label to get message for\n * @param {string} opts.messageKey - Message key to get message for\n * @param {object} opts.template - Interaction Template to get message from\n * @returns {string} - Message\n */\nfunction getTemplateArgumentMessage(_ref) {\n  var _template$data2, _args$argumentLabel;\n  var _ref$localization2 = _ref.localization,\n    localization = _ref$localization2 === void 0 ? \"en-US\" : _ref$localization2,\n    argumentLabel = _ref.argumentLabel,\n    messageKey = _ref.messageKey,\n    template = _ref.template;\n  invariant$1(messageKey, \"getTemplateArgumentMessage({ messageKey }) -- messageKey must be defined\");\n  invariant$1(typeof messageKey === \"string\", \"getTemplateArgumentMessage({ messageKey }) -- messageKey must be a string\");\n  invariant$1(argumentLabel, \"getTemplateArgumentMessage({ argumentLabel }) -- argumentLabel must be defined\");\n  invariant$1(typeof messageKey === \"string\", \"getTemplateArgumentMessage({ argumentLabel }) -- argumentLabel must be a string\");\n  invariant$1(localization, \"getTemplateArgumentMessage({ localization }) -- localization must be defined\");\n  invariant$1(typeof localization === \"string\", \"getTemplateArgumentMessage({ localization }) -- localization must be a string\");\n  invariant$1(template != undefined, \"getTemplateArgumentMessage({ template }) -- template must be defined\");\n  invariant$1(typeof template === \"object\", \"getTemplateArgumentMessage({ template }) -- template must be an object\");\n  invariant$1(typeof template.f_type === \"InteractionTemplate\", \"getTemplateArgumentMessage({ template }) -- template object must be an InteractionTemplate\");\n  var args = template === null || template === void 0 || (_template$data2 = template.data) === null || _template$data2 === void 0 ? void 0 : _template$data2.arguments;\n  return args === null || args === void 0 || (_args$argumentLabel = args[argumentLabel]) === null || _args$argumentLabel === void 0 || (_args$argumentLabel = _args$argumentLabel.messages) === null || _args$argumentLabel === void 0 || (_args$argumentLabel = _args$argumentLabel[messageKey]) === null || _args$argumentLabel === void 0 || (_args$argumentLabel = _args$argumentLabel.i18n) === null || _args$argumentLabel === void 0 ? void 0 : _args$argumentLabel[localization];\n}\nvar index = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  getInteractionTemplateAudits: getInteractionTemplateAudits,\n  generateDependencyPin: generateDependencyPin,\n  generateDependencyPinAtLatestSealedBlock: generateDependencyPinAtLatestSealedBlock,\n  generateTemplateId: generateTemplateId,\n  generateTemplateInterfaceId: generateTemplateInterfaceId,\n  verifyDependencyPinsSame: verifyDependencyPinsSame,\n  verifyDependencyPinsSameAtLatestSealedBlock: verifyDependencyPinsSameAtLatestSealedBlock,\n  deriveCadenceByNetwork: deriveCadenceByNetwork,\n  getTemplateMessage: getTemplateMessage,\n  getTemplateArgumentMessage: getTemplateArgumentMessage\n});\nvar authenticate = function authenticate() {\n  var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  return currentUser().authenticate(opts);\n};\nvar unauthenticate = function unauthenticate() {\n  return currentUser().unauthenticate();\n};\nvar reauthenticate = function reauthenticate() {\n  var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  currentUser().unauthenticate();\n  return currentUser().authenticate(opts);\n};\nvar signUp = function signUp() {\n  var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  return currentUser().authenticate(opts);\n};\nvar logIn = function logIn() {\n  var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  return currentUser().authenticate(opts);\n};\nvar authz = currentUser().authorization;\n/**\n * @type {Types}\n */\nvar t = t$1;\n\n/**\n * @typedef {object} Types\n * @property {any} Identity - Represents the Identity type.\n * @property {any} UInt - Represents the UInt type.\n * @property {any} Int - Represents the Int type.\n * @property {any} UInt8 - Represents the UInt8 type.\n * @property {any} Int8 - Represents the Int8 type.\n * @property {any} UInt16 - Represents the UInt16 type.\n * @property {any} Int16 - Represents the Int16 type.\n * @property {any} UInt32 - Represents the UInt32 type.\n * @property {any} Int32 - Represents the Int32 type.\n * @property {any} UInt64 - Represents the UInt64 type.\n * @property {any} Int64 - Represents the Int64 type.\n * @property {any} UInt128 - Represents the UInt128 type.\n * @property {any} Int128 - Represents the Int128 type.\n * @property {any} UInt256 - Represents the UInt256 type.\n * @property {any} Int256 - Represents the Int256 type.\n * @property {any} Word8 - Represents the Word8 type.\n * @property {any} Word16 - Represents the Word16 type.\n * @property {any} Word32 - Represents the Word32 type.\n * @property {any} Word64 - Represents the Word64 type.\n * @property {any} UFix64 - Represents the UFix64 type.\n * @property {any} Fix64 - Represents the Fix64 type.\n * @property {any} String - Represents the String type.\n * @property {any} Character - Represents the Character type.\n * @property {any} Bool - Represents the Bool type.\n * @property {any} Address - Represents the Address type.\n * @property {any} Void - Represents the Void type.\n * @property {any} Optional - Represents the Optional type.\n * @property {any} Reference - Represents the Reference type.\n * @property {any} Array - Represents the Array type.\n * @property {any} Dictionary - Represents the Dictionary type.\n * @property {any} Event - Represents the Event type.\n * @property {any} Resource - Represents the Resource type.\n * @property {any} Struct - Represents the Struct type.\n * @property {any} Enum - Represents the Enum type.\n * @property {any} Path - Represents the Path type.\n */\n\n/**\n * @callback ArgsFn\n * @param {ArgFn} arg - Argument function to define a single argument\n * @param {Types} t - Cadence Types object used to define the type\n * @returns {any[]}\n */\n\n/**\n * @callback ArgFn\n * @param {any} value - the value of the argument\n * @param {any} type - the cadence type of the value\n * @returns {any}\n */\n\nexport { index$1 as AppUtils, index as InteractionTemplateUtils, VERSION, index$2 as WalletUtils, authenticate, authz, currentUser, discovery, events, getChainId, logIn, mutate, pluginRegistry, query, reauthenticate, serialize, signUp, t, transaction as tx, unauthenticate, verifyUserSignatures };","map":{"version":3,"names":["getChainIdFromAccessNode","_getChainIdFromAccessNode","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee29","response","wrap","_callee29$","_context29","prev","next","sdk","send","getNetworkParameters","then","decode","sent","abrupt","chainId","stop","setChainIdDefault","_setChainIdDefault","_callee30","network","_callee30$","_context30","config","put","getChainId","_getChainId","_callee31","_callee31$","_context31","get","log","deprecate","pkg","subject","message","transition","invariant","watchForChainIdChanges","subscribe","configSubscriber","nextAccessNode","prevAccessNode","bind","isAndroid","navigator","test","userAgent","isSmallIOS","isLargeIOS","isIOS","isMobile","isServerSide","window","SESSION_STORAGE","can","_get","_callee","key","_callee$","_context","JSON","parse","sessionStorage","getItem","_x2","_put","_callee2","value","_callee2$","_context2","setItem","stringify","_x3","_x4","configLens","_x5","_configLens","_callee32","regex","_callee32$","_context32","t0","Object","t1","where","t2","t3","entries","call","map","_ref","_ref29","_slicedToArray","replace","fromEntries","VERSION","is","type","d","isRequired","isObject","isString","isFunc","isNumber","normalizeArgs","ax","arg","t$1","httpDocumentResolver","_x6","_httpDocumentResolver","_callee33","url","res","document","_callee33$","_context33","fetchTransport","Error","ok","json","DOCUMENT_RESOLVERS","Map","retrieve","_x7","_retrieve","_callee34","_ref2","documentResolversFromConfig","urlParts","protocol","resolver","_callee34$","_context34","keys","resolverFromConfig","resolverProtocol","set","exec","concat","normalizeInteractionTemplate","template","deriveCadenceByNetwork","_template","invariant$1","undefined","f_type","f_version","networkDependencies","data","dependencies","dependencyPlaceholder","_template2","dependencyNetworkContracts","values","length","dependencyContract","dependencyContractForNetwork","address","reduce","cadence","_ref5","placeholder","RegExp","deriveDependencies","_x8","_deriveDependencies","_callee35","_template$data3","derivedDependencies","dependencyPlaceholderKeys","_i2","_dependencyPlaceholde","_template$data4","dependencyPlaceholderKey","dependencyPlaceholderContractsKeys","dependencyPlaceholderContract","dependency","_callee35$","_context35","withPrefix","prepTemplateOpts","_x9","_prepTemplateOpts","_callee36","opts","_callee36$","_context36","t4","pre","_x10","_x11","_pre","_callee37","_callee37$","_context37","t5","t6","preMutate","_x12","_preMutate","_callee38","_callee38$","_context38","preQuery","_x13","_preQuery","_callee39","_callee39$","_context39","query","_query","_callee41","_args41","_callee41$","_context41","overload","_callee40","_callee40$","_context40","script","args","limit","fetchServices","_x14","_x15","_fetchServices","_callee42","servicesURL","code","resp","services","_iterator9","_step9","service","_callee42$","_context42","URL","searchParams","append","fetch","method","headers","Array","isArray","authorizations","_createForOfIteratorHelper","s","n","done","push","_objectSpread","keyId","err","e","f","provider","id","mergeServices","sx1","sx2","_toConsumableArray","SERVICE_PRAGMA","f_vsn","IDENTITY_PRAGMA","USER_PRAGMA","POLLING_RESPONSE_PRAGMA","COMPOSITE_SIGNATURE_PRAGMA","normalizeAuthn","uid","endpoint","authn","pid","addr","name","icon","normalizeAuthz","identity","params","normalizePreAuthz","normalizeFrame","old","normalizeBackChannelRpc","normalizeOpenId","normalizeUserSignature","normalizeLocalView","normalizeAccountProof","normalizeAuthnRefresh","serviceNormalizers","authz","frame","normalizeService","normalized","error","console","deriveCompositeId","rlp","encode","toString","normalizeData","paddr","findService","find","buildUser","_x16","_buildUser","_callee43","_callee43$","_context43","hks","cid","loggedIn","expiresAt","expires","serviceOfType","serviceEndpoint","_window","location","origin","_i","_Object$entries","_Object$entries$_i","fetchService","body","normalizePollingResponse","_resp$status","_resp$reason","status","reason","compositeSignature","updates","authorizationUpdates","local","OPTIONS","serviceMethod","poll","_x17","_poll","_callee44","canContinue","_args44","_callee44$","_context44","visibilityState","Promise","r","setTimeout","FRAME","FRAME_STYLES","renderFrame","src","getElementById","$frame","createElement","allow","frameBorder","style","cssText","unmount","remove","contentWindow","POP","popup","previousUrl$1","popupWindow","windowName","win","w","h","y","top","outerHeight","screenY","x","outerWidth","screenX","open","renderPop","_popup","closed","focus","close","tab$1","previousUrl","renderTab","_tab$","VIEWS","execLocal","_x18","_execLocal","_callee45","_args45","_callee45$","_context45","execHttpPost","_x19","_execHttpPost","_callee46","_yield$execLocal","_yield$execLocal2","_2","_close","_callee46$","_context46","fclVersion","_","serviceResponse","catch","CLOSE_EVENT","READY_EVENT","RESPONSE_EVENT","toLowerCase","IGNORE","Set","was","want","warn","buildMessageHandler","onReady","onResponse","onMessage","has","noop$3","noop","onClose","handler","addEventListener","_renderFrame","_renderFrame2","removeEventListener","msg","postMessage","execIframeRPC","resolve","reject","includeOlderJsonRpcCall","_callee3","_callee3$","_context3","deprecated","jsonrpc","_ref3","_ref4","result","noop$2","pop","_renderPop","_renderPop2","$pop","timer","setInterval","clearInterval","execPopRPC","redir","_callee4","_callee4$","_context4","noop$1","tab","_renderTab","_renderTab2","$tab","execTabRPC","_callee5","_callee5$","_context5","extension","execExtRPC","_callee6","_callee6$","_context6","CORE_STRATEGIES","supportedPlugins","supportedServicePlugins","validateDiscoveryPlugin","servicePlugin","serviceStrategy","_iterator","_step","ds","discoveryServices","ServiceRegistry","strategies","add","includes","_validateDiscoveryPlu","setServices","title","level","LEVELS","getServices","getStrategy","getStrategies","freeze","validatePlugins","plugins","pluginsArray","_iterator2","_step2","p","PluginRegistry","pluginsMap","getPlugins","_iterator3","_step3","serviceRegistry","pluginRegistry","execStrategy","_ref6","_callee7","strategy","_callee7$","_context7","_x20","execService","_x21","_execService","_callee47","_window$location$host","_window3","_ref2$msg","_ref2$config","_ref2$opts","execConfig","_callee47$","_context47","client","hostname","t7","t8","fclLibrary","t9","app","t10","normalizeCompositeSignature","sansPrefix","signature","sig","makeDiscoveryServices","_ref7","_callee8","_window2","extensionServices","_callee8$","_context8","fcl_extensions","getDiscoveryService","_x22","_getDiscoveryService","_callee48","_service$endpoint","discoveryAuthnInclude","discoveryWalletMethod","_callee48$","_context48","first","_x23","_getServices","_callee49","_window4","types","include","_callee49$","_context49","Boolean","t11","clientServices","supportedStrategies","t12","t13","SERVICE_ACTOR_KEYS","AUTHN","RESULTS","SNAPSHOT","UPDATED","UPDATE_RESULTS","fact","fetchServicesFromDiscovery","_ref8","_callee9","_callee9$","_context9","results","HANDLERS$3","_HANDLERS$","_defineProperty","INIT","_ref9","_callee11","ctx","_callee11$","_context11","readyState","onload","_callee10","_callee10$","_context10","_x24","_letter","merge","broadcast","all","SUBSCRIBE","letter","from","UNSUBSCRIBE","unsubscribe","_ref11","_callee12","_callee12$","_context12","reply","_x25","_x26","spawnProviders","spawn","cb","subscriber","snapshot","snapshoter","update","discovery","isFn","NAME","UPDATED$1","SET_CURRENT_USER","DEL_CURRENT_USER","DATA","getStoredUser","_ref12","_callee13","storage","fallback","stored","_callee13$","_context13","removeItem","_x27","HANDLERS$2","_HANDLERS$2","_ref13","_callee14","user","_callee14$","_context14","notExpired","_x28","_ref14","_callee15","_callee15$","_context15","_x29","_x30","_ref15","_callee16","_callee16$","_context16","_x31","_x32","_x33","_ref16","_callee17","_callee17$","_context17","_x34","_x35","spawnCurrentUser","Date","now","getAccountProofData","_getAccountProofData","_callee50","accountProofDataResolver","accountProofData","_callee50$","_context50","appIdentifier","nonce","makeConfig","_ref17","_callee18","_callee18$","_context18","_x36","authenticate$1","_authenticate$","_callee52","_service$provider","_service$provider2","_ref31","_ref31$redir","_service$provider3","_args52","_callee52$","_context52","is_installed","requires_install","href","install_link","_ref32","_callee51","discoveryService","refreshService","_response","_callee51$","_context51","t14","t15","t16","t17","t18","t19","t20","finish","_x63","_x64","unauthenticate$1","normalizePreAuthzResponse","proposer","payer","authorization","resolvePreAuthz","axs","_iterator4","_step4","az","_iterator5","_step5","_ref18","role","tempId","join","signingFunction","signable","authorizer","_x37","_authorization","_callee55","account","_callee55$","_context55","preSignable","_callee54","preAuthz","windowRef","_callee54$","_context54","sequenceNum","_callee53","_callee53$","_context53","callback","EXIT","self","_ref19","_callee19","_callee19$","_context19","receive","tag","_x38","expectReply","timeout","resolveArgument","_resolveArgument","_callee56","_yield$authenticate$","_callee56$","_context56","Address","makeSignable","signUserMessage","_x39","_signUserMessage","_callee57","signingService","_callee57$","_context57","compSigs","currentUser","authenticate","unauthenticate","mutate","_mutate","_callee59","txid","_authz","_args59","_callee59$","_context59","_callee58","_callee58$","_context58","transaction","onMessageFromFCL","messageType","buildData","_data$body","interaction","internal","sendMsgToFCL","parent","opener","ready","approve","decline","redirect","CompositeSignature","Number","rightPaddedHexBuffer","pad","Buffer","padEnd","leftPaddedHexBuffer","padStart","addressBuffer","nonceBuffer","encodeAccountProof","includeDomainTag","ACCOUNT_PROOF_DOMAIN_TAG","injectExtService","ACCOUNT_PROOF","USER_SIGNATURE","validateArgs","signatures","every","i","arr","cs","getVerifySignaturesScript","_ref20","_callee20","verifyFunction","fclCryptoContract","_callee20$","_context20","_x40","_x41","verifyAccountProof","_x42","_x43","_verifyAccountProof","_callee60","signaturesArr","keyIndices","_iterator10","_step10","el","_args60","_callee60$","_context60","t","String","Int","verifyUserSignatures$1","_x44","_x45","_verifyUserSignatures$","_callee61","_iterator11","_step11","_args61","_callee61$","_context61","verifyUserSignatures","serialize","_ref21","_callee21","resolveFunction","_args21","_callee21$","_context21","config$1","pipe","createSignableVoucher","RATE$1","POLL","fetchTxStatus","_ref22","_callee22","transactionId","_callee22$","_context22","send$1","getTransactionStatus","_x46","isExpired","tx","isSealed","isExecuted","isFinalized","isPending","isUnknown","isDiff","cur","HANDLERS$1","_HANDLERS$3","_ref23","_callee23","_callee23$","_context23","sendSelf","_x47","UPDATED$2","SNAPSHOT$1","_ref24","_callee24","_callee24$","_context24","_x48","_x49","_ref25","_callee25","_callee25$","_context25","fatalError","_x50","scoped","spawnTransaction","once","predicate","innerOnce","suppress","unsub","txStatus","statusCode","errorMessage","onceFinalized","onceExecuted","onceSealed","RATE","TICK","HIGH_WATER_MARK","scheduleTick","_ref26","_callee26","_callee26$","_context26","_x51","HANDLERS","_HANDLERS","_ref27","_callee27","hwm","_iterator6","_step6","_callee27$","_context27","hasSubs","block","height","getEventsAtBlockHeightRange","_x52","_ref28","_callee28","_callee28$","_context28","_x53","_x54","clearTimeout","delete","spawnEvents","events","copy","I","O","o","oi","ii","copy_1","defineProperty","exports","_copy","_interopRequireDefault","obj","__esModule","chi","A","C","_x","xy","x1","x2","_default","ROUND_CONSTANTS","Uint32Array","_roundConstants","roundConstants","iota","roundIndex","PI_SHUFFLES","RHO_OFFSETS","_piShuffles","piShuffles","_rhoOffsets","rhoOffsets","rhoPi","W","H","L","Wi","ri","j","theta","D","x20","x21","x22","x23","x24","_chi","_iota","_rhoPi","_theta","permute","fill","_buffer","require$$0","_permute","xorWords","readWords","Sponge","_this","capacity","padding","keccak","stateSize","blockSize","queueSize","queueOffset","state","queue","allocUnsafe","absorb","buffer","squeeze","options","output","offset","slice","reset","SHAKE","SHA3Hash","SHA3","Keccak","_sponge","sponge","createHash","allowedSizes","defaultSize","Hash","size","constructor","input","encoding","isBuffer","TypeError","digest","formatOrOptions","format","genHash","_x55","_genHash","_callee62","utf8String","sha","_callee62$","_context62","sha3","generateTemplateId","_x56","_generateTemplateId","_callee71","templateData","messages","_arguments","encodedHex","_callee71$","_context71","_ref34","_callee64","messageKey","_templateData$message","_callee64$","_context64","i18n","_ref35","_callee63","i18nkeylanguage","_templateData$message2","_callee63$","_context63","_x66","_x65","_ref36","_callee67","dependencyAddressPlaceholder","_templateData$depende","_callee67$","_context67","_ref37","_callee66","_templateData$depende2","_callee66$","_context66","_ref38","_callee65","dependencyContractNetwork","_templateData$depende3","_templateData$depende4","_templateData$depende5","_templateData$depende6","_templateData$depende7","_callee65$","_context65","contract","fq_address","pin","pin_block_height","_x69","_x68","_x67","_ref39","_callee70","argumentLabel","_templateData$argumen","_templateData$argumen2","_templateData$argumen3","_templateData$argumen4","_callee70$","_context70","index","balance","_ref40","_callee69","argumentMessageKey","_templateData$argumen5","_callee69$","_context69","_ref41","_callee68","_templateData$argumen6","_callee68$","_context68","_x72","_x71","_x70","interface","getInteractionTemplateAudits","_x57","_getInteractionTemplateAudits","_callee72","auditors","recomputedTemplateID","_auditors","FlowInteractionAuditContract","fclNetwork","audits","_args72","_callee72$","_context72","debug","flowInteractionAuditContract","generateImport","contractName","findImports","imports","importsReg","fileImports","match","_iterator7","_step7","fileImport","importLineReg","importLine","contractsReg","contracts","_iterator8","_step8","generateDependencyPin","_x58","_generateDependencyPin","_callee73","blockHeight","horizon","_i3","_horizon","_account$contracts","horizonImport","contractImports","contractHashes","contractHashesJoined","_args73","_callee73$","_context73","getAccount","atBlockHeight","iport","generateDependencyPinAtLatestSealedBlock","_x59","_generateDependencyPinAtLatestSealedBlock","_callee74","latestSealedBlock","latestSealedBlockHeight","_args74","_callee74$","_context74","sealed","normalizeInteractionTemplateInterface","templateInterface","generateTemplateInterfaceId","_x60","_generateTemplateInterfaceId","_callee76","interfaceData","_callee76$","_context76","flip","_ref42","_callee75","_callee75$","_context75","_x73","verifyDependencyPinsSame","_x61","_verifyDependencyPinsSame","_callee77","templateDependenciesPlaceholderKeys","_i4","_templateDependencies","templateDependencyPlaceholderKey","templateDependencyPlaceholder","templateDependencyPlaceholderContractNames","_i5","_templateDependencyPl","templateDependencyPlaceholderContractName","templateDependencyPlaceholderContractNetworks","templateDependency","_args77","_callee77$","_context77","verifyDependencyPinsSameAtLatestSealedBlock","_x62","_verifyDependencyPinsSameAtLatestSealedBlock","_callee78","_args78","_callee78$","_context78","getTemplateMessage","_template$data","_messages$messageKey","_ref$localization","localization","getTemplateArgumentMessage","_template$data2","_args$argumentLabel","_ref$localization2","reauthenticate","signUp","logIn"],"sources":["/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/fcl/src/utils/get-chain-id.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/fcl/src/utils/chain-id-watcher.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/fcl/src/utils/index.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/fcl/src/default-config.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/fcl/src/VERSION.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/fcl/src/exec/utils/is.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/fcl/src/exec/utils/normalize-args.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/fcl/src/document/document.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/fcl/src/normalizers/interaction-template/interaction-template.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/fcl/src/interaction-template-utils/derive-cadence-by-network.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/fcl/src/exec/utils/derive-dependencies.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/fcl/src/exec/utils/prep-template-opts.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/fcl/src/exec/utils/pre.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/fcl/src/exec/query.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/fcl/src/current-user/fetch-services.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/fcl/src/current-user/merge-services.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/fcl/src/normalizers/service/__vsn.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/fcl/src/normalizers/service/authn.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/fcl/src/normalizers/service/authz.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/fcl/src/normalizers/service/pre-authz.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/fcl/src/normalizers/service/frame.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/fcl/src/normalizers/service/back-channel-rpc.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/fcl/src/normalizers/service/open-id.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/fcl/src/normalizers/service/user-signature.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/fcl/src/normalizers/service/local-view.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/fcl/src/normalizers/service/account-proof.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/fcl/src/normalizers/service/authn-refresh.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/fcl/src/normalizers/service/service.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/fcl/src/current-user/build-user.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/fcl/src/current-user/service-of-type.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/fcl/src/current-user/exec-service/strategies/utils/service-endpoint.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/fcl/src/current-user/exec-service/strategies/utils/fetch-service.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/fcl/src/normalizers/service/polling-response.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/fcl/src/current-user/exec-service/strategies/utils/poll.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/fcl/src/current-user/exec-service/strategies/utils/render-frame.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/fcl/src/current-user/exec-service/strategies/utils/render-pop.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/fcl/src/current-user/exec-service/strategies/utils/render-tab.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/fcl/src/current-user/exec-service/exec-local.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/fcl/src/current-user/exec-service/strategies/http-post.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/fcl/src/current-user/exec-service/strategies/utils/buildMessageHandler.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/fcl/src/current-user/exec-service/strategies/utils/frame.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/fcl/src/current-user/exec-service/strategies/iframe-rpc.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/fcl/src/current-user/exec-service/strategies/utils/pop.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/fcl/src/current-user/exec-service/strategies/pop-rpc.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/fcl/src/current-user/exec-service/strategies/utils/tab.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/fcl/src/current-user/exec-service/strategies/tab-rpc.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/fcl/src/current-user/exec-service/strategies/utils/extension.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/fcl/src/current-user/exec-service/strategies/ext-rpc.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/fcl/src/current-user/exec-service/plugins.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/fcl/src/current-user/exec-service/index.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/fcl/src/normalizers/service/composite-signature.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/fcl/src/discovery/utils.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/fcl/src/discovery/services.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/fcl/src/discovery/services/authn.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/fcl/src/discovery/index.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/fcl/src/current-user/index.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/fcl/src/exec/mutate.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/fcl/src/wallet-utils/on-message-from-fcl.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/fcl/src/wallet-utils/send-msg-to-fcl.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/fcl/src/wallet-utils/CompositeSignature.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/fcl/src/wallet-utils/encode-account-proof.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/fcl/src/wallet-utils/inject-ext-service.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/fcl/src/app-utils/verify-signatures.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/fcl/src/exec/verify.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/fcl/src/serialize/index.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/fcl/src/transaction/index.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/fcl/src/events/index.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/node_modules/sha3/sponge/permute/copy/index.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/node_modules/sha3/sponge/permute/chi/index.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/node_modules/sha3/sponge/permute/iota/round-constants/index.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/node_modules/sha3/sponge/permute/iota/index.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/node_modules/sha3/sponge/permute/rho-pi/pi-shuffles/index.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/node_modules/sha3/sponge/permute/rho-pi/rho-offsets/index.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/node_modules/sha3/sponge/permute/rho-pi/index.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/node_modules/sha3/sponge/permute/theta/index.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/node_modules/sha3/sponge/permute/index.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/node_modules/sha3/sponge/index.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/node_modules/sha3/index.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/fcl/src/interaction-template-utils/utils/hash.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/fcl/src/interaction-template-utils/generate-template-id.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/fcl/src/interaction-template-utils/get-interaction-template-audits.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/fcl/src/interaction-template-utils/utils/generate-import.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/fcl/src/interaction-template-utils/utils/find-imports.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/fcl/src/interaction-template-utils/generate-dependency-pin.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/fcl/src/normalizers/interaction-template/interaction-template-interface.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/fcl/src/interaction-template-utils/generate-template-interface-id.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/fcl/src/interaction-template-utils/verify-dependency-pin-same-at-block.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/fcl/src/interaction-template-utils/get-template-message.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/fcl/src/interaction-template-utils/get-template-argument-message.js","/Users/oqpo/Documents/GitHub/darkblock-flow/node_modules/@onflow/fcl/src/fcl.js"],"sourcesContent":["import * as sdk from \"@onflow/sdk\"\nimport {config} from \"@onflow/config\"\nimport {log} from \"@onflow/util-logger\"\nimport {invariant} from \"@onflow/util-invariant\"\n\nasync function getChainIdFromAccessNode() {\n  const response = await sdk.send([sdk.getNetworkParameters()]).then(sdk.decode)\n  return response.chainId\n}\n\n/**\n * Sets the default chain id to the chain id of the access node\n *\n * @returns {string} The chain id of the access node\n *\n * @example\n * // returns \"testnet\"\n * setChainIdDefault()\n */\nexport async function setChainIdDefault() {\n  const network = await getChainIdFromAccessNode()\n  config.put(\"flow.network.default\", network)\n  return network\n}\n\n/**\n * @description\n * Gets the chain ID if its set, otherwise gets the chain ID from the access node\n *\n * @returns {string} The chain ID of the access node\n * @throws {Error} If the chain ID is not found\n *\n * @example\n * // returns \"testnet\"\n * getChainId()\n */\nexport async function getChainId() {\n  let network = await config.get(\"flow.network.default\")\n\n  if (!network) {\n    network = await setChainIdDefault()\n\n    if (!network) {\n      network = await config.get(\"flow.network\")\n\n      if (network) {\n        log.deprecate({\n          pkg: \"FCL\",\n          subject:\n            'Using the \"flow.network\" configuration key for specifying the flow network',\n          message: \"Configuring flow.network is no longer required\",\n          transition:\n            \"https://github.com/onflow/flow-js-sdk/blob/master/packages/fcl/TRANSITIONS.md#0002-deprecate-flow.network-config-key\",\n        })\n      } else {\n        network = await config.get(\"env\")\n\n        if (network)\n          log.deprecate({\n            pkg: \"FCL\",\n            subject:\n              'Using the \"env\" configuration key for specifying the flow network',\n            message:\n              \"Configuring to specify flow network is no longer required\",\n            transition:\n              \"https://github.com/onflow/flow-js-sdk/blob/master/packages/fcl/TRANSITIONS.md#0001-deprecate-env-config-key\",\n          })\n      }\n    }\n  }\n\n  invariant(\n    network,\n    \"Error getting chainId from access node. Please configure flow.network instead\"\n  )\n\n  return network\n}\n","import {config} from \"@onflow/config\"\nimport {setChainIdDefault} from \"./get-chain-id\"\n\n/**\n * @description\n * Watches the config for changes to access node and updates the chain id accordingly\n *\n * @returns {Function} A function that unsubscribes the listener\n *\n */\nexport function watchForChainIdChanges() {\n  return config.subscribe(\n    function configSubscriber(config) {\n      const nextAccessNode = config?.[\"accessNode.api\"]\n      if (this.prevAccessNode !== nextAccessNode) {\n        setChainIdDefault()\n      }\n      this.prevAccessNode = nextAccessNode\n    }.bind({})\n  )\n}\n","export {getChainId} from \"./get-chain-id\"\nexport {watchForChainIdChanges} from \"./chain-id-watcher\"\n\nexport function isAndroid() {\n  return (\n    typeof navigator !== \"undefined\" && /android/i.test(navigator.userAgent)\n  )\n}\n\nexport function isSmallIOS() {\n  return (\n    typeof navigator !== \"undefined\" && /iPhone|iPod/.test(navigator.userAgent)\n  )\n}\n\nexport function isLargeIOS() {\n  return typeof navigator !== \"undefined\" && /iPad/.test(navigator.userAgent)\n}\n\nexport function isIOS() {\n  return isSmallIOS() || isLargeIOS()\n}\n\nexport function isMobile() {\n  return isAndroid() || isIOS()\n}\n","import {config} from \"@onflow/config\"\nimport {setChainIdDefault, watchForChainIdChanges} from \"./utils\"\n\nconst isServerSide = () => typeof window === \"undefined\"\n\nconst SESSION_STORAGE = {\n  can: !isServerSide(),\n  get: async key => JSON.parse(sessionStorage.getItem(key)),\n  put: async (key, value) => sessionStorage.setItem(key, JSON.stringify(value)),\n}\n\nconfig({\n  \"discovery.wallet.method.default\": \"IFRAME/RPC\",\n  \"fcl.storage.default\": SESSION_STORAGE,\n})\n\n// Set chain id default on access node change\nwatchForChainIdChanges()\n\nexport async function configLens(regex) {\n  return Object.fromEntries(\n    Object.entries(await config().where(regex)).map(([key, value]) => [\n      key.replace(regex, \"\"),\n      value,\n    ])\n  )\n}\n","export const VERSION = PACKAGE_CURRENT_VERSION || \"TESTVERSION\"\n","const is = type => d => typeof d === type\n\nexport const isRequired = d => d != null\nexport const isObject = is(\"object\")\nexport const isString = is(\"string\")\nexport const isFunc = is(\"function\")\nexport const isNumber = is(\"number\")\n","import {isFunc} from \"./is\"\nimport * as sdk from \"@onflow/sdk\"\nimport * as t from \"@onflow/types\"\n\nexport function normalizeArgs(ax) {\n  if (isFunc(ax)) return ax(sdk.arg, t)\n  return []\n}\n","import {invariant} from \"@onflow/util-invariant\"\nimport fetchTransport from \"cross-fetch\"\nimport {config} from \"@onflow/config\"\n\nasync function httpDocumentResolver({url}) {\n  invariant(\n    typeof url !== \"undefined\",\n    \"retrieve({ url }) -- url must be defined\"\n  )\n\n  let res\n  try {\n    res = await fetchTransport(url)\n  } catch (e) {\n    throw new Error(\"httpDocumentResolver Error: Failed to retrieve document.\")\n  }\n\n  let document = res.ok ? await res.json() : null\n\n  return document\n}\n\nconst DOCUMENT_RESOLVERS = new Map([\n  [\"http\", httpDocumentResolver],\n  [\"https\", httpDocumentResolver],\n])\n\nexport async function retrieve({url}) {\n  invariant(\n    typeof url !== \"undefined\",\n    \"retrieve({ url }) -- url must be defined\"\n  )\n  invariant(\n    typeof url === \"string\",\n    \"retrieve({ url }) -- url must be a string\"\n  )\n\n  const documentResolversFromConfig = await config().where(\n    /^document\\.resolver\\./\n  )\n  Object.keys(documentResolversFromConfig).map(key => {\n    const resolverFromConfig = documentResolversFromConfig[key]\n    const resolverProtocol = key.replace(/^document\\.resolver\\./, \"\")\n    DOCUMENT_RESOLVERS.set(resolverProtocol, resolverFromConfig)\n  })\n\n  const urlParts = /^(.*):\\/\\/([A-Za-z0-9\\-\\.]+)(:[0-9]+)?(.*)$/.exec(url)\n  invariant(urlParts, \"Failed to parse URL\")\n  const protocol = urlParts[1]\n  invariant(urlParts, \"Failed to parse URL protocol\")\n\n  const resolver = DOCUMENT_RESOLVERS.get(protocol)\n  invariant(resolver, `No resolver found for protcol=${protocol}`)\n\n  let document = await resolver({url})\n\n  return document\n}\n","export function normalizeInteractionTemplate(template) {\n  if (template == null) return null\n\n  switch (template[\"f_version\"]) {\n    case \"1.0.0\":\n      return template\n\n    default:\n      throw new Error(\n        \"normalizeInteractionTemplate Error: Invalid InteractionTemplate\"\n      )\n  }\n}\n","import {invariant} from \"@onflow/sdk\"\nimport {normalizeInteractionTemplate} from \"../normalizers/interaction-template/interaction-template\"\n\n/**\n * @description Fills import addresses in Cadence for network\n * \n * @param {object} params\n * @param {string} params.network - Network to derive Cadence for\n * @param {object} params.template - Interaction Template to derive Cadence from\n * @returns {string} - Cadence\n */\nexport function deriveCadenceByNetwork({network, template}) {\n  invariant(\n    network != undefined,\n    \"deriveCadenceByNetwork({ network }) -- network must be defined\"\n  )\n  invariant(\n    typeof network === \"string\",\n    \"deriveCadenceByNetwork({ network }) -- network must be a string\"\n  )\n\n  invariant(\n    template != undefined,\n    \"generateDependencyPin({ template }) -- template must be defined\"\n  )\n  invariant(\n    typeof template === \"object\",\n    \"generateDependencyPin({ template }) -- template must be an object\"\n  )\n  invariant(\n    template.f_type === \"InteractionTemplate\",\n    \"generateDependencyPin({ template }) -- template must be an InteractionTemplate\"\n  )\n\n  template = normalizeInteractionTemplate(template)\n\n  switch (template.f_version) {\n    case \"1.0.0\":\n      let networkDependencies = Object.keys(template?.data?.dependencies).map(\n        dependencyPlaceholder => {\n          let dependencyNetworkContracts = Object.values(\n            template?.data?.dependencies?.[dependencyPlaceholder]\n          )\n\n          invariant(\n            dependencyNetworkContracts,\n            `deriveCadenceByNetwork -- Could not find contracts for dependency placeholder: ${dependencyPlaceholder}`\n          )\n\n          invariant(\n            dependencyNetworkContracts.length === 0,\n            `deriveCadenceByNetwork -- Could not find contracts for dependency placeholder: ${dependencyPlaceholder}`\n          )\n\n          let dependencyContract = dependencyNetworkContracts[0]\n          let dependencyContractForNetwork = dependencyContract?.[network]\n\n          invariant(\n            dependencyContractForNetwork,\n            `deriveCadenceByNetwork -- Could not find ${network} network information for dependency: ${dependencyPlaceholder}`\n          )\n\n          return [dependencyPlaceholder, dependencyContractForNetwork.address]\n        }\n      )\n\n      return networkDependencies.reduce((cadence, [placeholder, address]) => {\n        const regex = new RegExp(\"(\\\\b\" + placeholder + \"\\\\b)\", \"g\")\n        return cadence.replace(regex, address)\n      }, template.data.cadence)\n\n    default:\n      throw new Error(\n        \"deriveCadenceByNetwork Error: Unsupported template version\"\n      )\n  }\n}\n","import {invariant} from \"@onflow/util-invariant\"\nimport {withPrefix} from \"@onflow/util-address\"\nimport {getChainId} from \"../../utils\"\n\nexport async function deriveDependencies({template}) {\n  const network = await getChainId()\n\n  invariant(\n    network,\n    \"FCL configureDependencies Error: Missing configuration value for 'flow.network'\"\n  )\n\n  const derivedDependencies = {}\n\n  switch (template[\"f_version\"]) {\n    case \"1.0.0\":\n      const dependencyPlaceholderKeys = Object.keys(\n        template?.data?.dependencies\n      )\n      for (let dependencyPlaceholderKey of dependencyPlaceholderKeys) {\n        let dependencyPlaceholder =\n          template?.data?.dependencies[dependencyPlaceholderKey]\n\n        const dependencyPlaceholderContractsKeys = Object.keys(\n          dependencyPlaceholder\n        )\n        invariant(\n          dependencyPlaceholderContractsKeys.length > 0,\n          `FCL configureDependencies Error: No contracts found in template for placeholder=${dependencyPlaceholderKey}`\n        )\n        const dependencyPlaceholderContract =\n          dependencyPlaceholder[dependencyPlaceholderContractsKeys[0]]\n        const dependency = dependencyPlaceholderContract[network]\n\n        invariant(\n          dependency,\n          `FCL configureDependencies Error: No dependency information for placeholder=${dependencyPlaceholderKey} contract=${dependencyPlaceholderContractsKeys[0]} network=${network}`\n        )\n        invariant(\n          dependency?.address,\n          `FCL configureDependencies Error: No address information for placeholder=${dependencyPlaceholderKey} contract=${dependencyPlaceholderContractsKeys[0]} network=${network}`\n        )\n\n        derivedDependencies[dependencyPlaceholderKey] = withPrefix(\n          dependency?.address\n        )\n      }\n\n      return derivedDependencies\n\n    default:\n      throw new Error(\n        \"FCL configureDependencies Error: Unsupported template version\"\n      )\n  }\n}\n","import {retrieve} from \"../../document/document.js\"\nimport {normalizeInteractionTemplate} from \"../../normalizers/interaction-template/interaction-template\"\nimport {deriveCadenceByNetwork} from \"../../interaction-template-utils/derive-cadence-by-network.js\"\nimport {deriveDependencies} from \"./derive-dependencies\"\nimport {isString} from \"./is\"\nimport {getChainId} from \"../../utils\"\n\nexport async function prepTemplateOpts(opts) {\n  if (isString(opts?.template)) {\n    opts.template = await retrieve({url: opts?.template})\n  }\n\n  let dependencies = {}\n  if (opts?.template) {\n    opts.template = normalizeInteractionTemplate(opts?.template)\n    dependencies = await deriveDependencies({template: opts.template})\n  }\n\n  const cadence =\n    opts.cadence ||\n    deriveCadenceByNetwork({\n      template: opts.template,\n      network: await getChainId(),\n    })\n\n  opts.cadence = cadence\n  opts.dependencies = dependencies\n\n  return opts\n}\n","import {invariant} from \"@onflow/util-invariant\"\nimport * as sdk from \"@onflow/sdk\"\nimport {isRequired, isObject, isString} from \"./is\"\n\nasync function pre(type, opts) {\n  // prettier-ignore\n  invariant(isRequired(opts), `${type}(opts) -- opts is required`)\n  // prettier-ignore\n  invariant(isObject(opts), `${type}(opts) -- opts must be an object`)\n  // prettier-ignore\n  invariant(!(opts.cadence && opts.template), `${type}({ template, cadence }) -- cannot pass both cadence and template`)\n  // prettier-ignore\n  invariant(isRequired(opts.cadence || opts?.template), `${type}({ cadence }) -- cadence is required`)\n  // // prettier-ignore\n  invariant(\n    isString(opts.cadence) || opts?.template,\n    `${type}({ cadence }) -- cadence must be a string`\n  )\n  // prettier-ignore\n  invariant(\n    opts.cadence || (await sdk.config().get(\"flow.network\")),\n    `${type}(opts) -- Required value for \"flow.network\" not defined in config. See: ${\"https://github.com/onflow/flow-js-sdk/blob/master/packages/fcl/src/exec/query.md#configuration\"}`\n  )\n  // prettier-ignore\n  invariant(\n    await sdk.config().get(\"accessNode.api\"),\n    `${type}(opts) -- Required value for \"accessNode.api\" not defined in config. See: ${\"https://github.com/onflow/flow-js-sdk/blob/master/packages/fcl/src/exec/query.md#configuration\"}`\n  )\n}\n\nexport async function preMutate(opts) {\n  return pre(\"mutate\", opts)\n}\n\nexport async function preQuery(opts) {\n  return pre(\"query\", opts)\n}\n","import * as sdk from \"@onflow/sdk\"\nimport {normalizeArgs} from \"./utils/normalize-args\"\nimport {prepTemplateOpts} from \"./utils/prep-template-opts.js\"\nimport {preQuery} from \"./utils/pre.js\"\n\n/**\n * @description\n * Allows you to submit scripts to query the blockchain.\n *\n *  @param {object} opts - Query Options and configuration\n *  @param {string} opts.cadence - Cadence Script used to query Flow\n *  @param {import(\"../fcl\").ArgsFn} [opts.args] - Arguments passed to cadence script\n *  @param {object} [opts.template] - Interaction Template for a script\n *  @param {number} [opts.limit]   - Compute Limit for Query\n *  @returns {Promise}\n *\n *  @example\n *    const cadence = `\n *      cadence: `\n *        pub fun main(a: Int, b: Int, c: Address): Int {\n *          log(c)\n *          return a + b\n *        }\n *    `.trim()\n *\n *    const args = (arg, t) => [\n *      arg(5, t.Int),\n *      arg(7, t.Int),\n *      arg(\"0xb2db43ad6bc345fec9\", t.Address),\n *    ]\n *\n *    await query({ cadence, args })\n */\nexport async function query(opts = {}) {\n  await preQuery(opts)\n  opts = await prepTemplateOpts(opts)\n\n  return sdk.config().overload(opts.dependencies || {}, async () =>\n    // prettier-ignore\n    sdk.send([\n      sdk.script(opts.cadence),\n      sdk.args(normalizeArgs(opts.args || [])),\n      opts.limit && typeof opts.limit === \"number\" && sdk.limit(opts.limit)\n    ]).then(sdk.decode)\n  )\n}\n","export async function fetchServices(servicesURL, code) {\n  if (servicesURL == null || code == null) return []\n\n  const url = new URL(servicesURL)\n  url.searchParams.append(\"code\", code)\n\n  const resp = await fetch(url, {\n    method: \"GET\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n  }).then(d => d.json())\n\n  if (Array.isArray(resp)) return resp\n\n  // Backwards compatibility for First-Gen Wallet Providers\n  const services = []\n\n  // Convert authorizations into authz services\n  if (Array.isArray(resp.authorizations)) {\n    for (let service of resp.authorizations) {\n      services.push({\n        type: \"authz\",\n        keyId: resp.keyId,\n        ...service,\n      })\n    }\n  }\n\n  // Convert Provider info into an authn service\n  if (resp.provider != null) {\n    services.push({\n      type: \"authn\",\n      id: \"wallet-provider#authn\",\n      ...resp.provider,\n    })\n  }\n\n  return services\n}\n","import {withPrefix} from \"@onflow/util-address\"\n\nexport function mergeServices(sx1 = [], sx2 = []) {\n  // TODO: Make this smarter\n  return [...sx1, ...sx2]\n}\n","export const SERVICE_PRAGMA = {\n  f_type: \"Service\",\n  f_vsn: \"1.0.0\",\n}\n\nexport const IDENTITY_PRAGMA = {\n  f_type: \"Identity\",\n  f_vsn: \"1.0.0\",\n}\n\nexport const PROVIDER_PRAGMA = {\n  f_type: \"Provider\",\n  f_vsn: \"1.0.0\",\n}\n\nexport const USER_PRAGMA = {\n  f_type: \"USER\",\n  f_vsn: \"1.0.0\",\n}\n\nexport const POLLING_RESPONSE_PRAGMA = {\n  f_type: \"PollingResponse\",\n  f_vsn: \"1.0.0\",\n}\n\nexport const COMPOSITE_SIGNATURE_PRAGMA = {\n  f_type: \"CompositeSignature\",\n  f_vsn: \"1.0.0\",\n}\n\nexport const OPEN_ID_PRAGMA = {\n  f_type: \"OpenId\",\n  f_vsn: \"1.0.0\",\n}\n","import {withPrefix} from \"@onflow/util-address\"\nimport {SERVICE_PRAGMA} from \"./__vsn\"\n\n// {\n//   \"f_type\": \"Service\",\n//   \"f_vsn\": \"1.0.0\",\n//   \"type\": \"authn\",\n//   \"uid\": \"uniqueDedupeKey\",\n//   \"endpoint\": \"https://rawr\",\n//   \"id\": \"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx\", // wallets internal id for the user\n//   \"identity\": {\n//     \"address\": \"0x____\"\n//   },\n//   \"provider\": {\n//     \"address\": \"0x____\",\n//     \"name\": \"Best Wallet\",\n//     \"description\": \"The Best Wallet\"\n//     \"icon\": \"https://\",\n//   }\n// }\nexport function normalizeAuthn(service) {\n  if (service == null) return null\n\n  switch (service[\"f_vsn\"]) {\n    case \"1.0.0\":\n      return service\n\n    default:\n      return {\n        ...SERVICE_PRAGMA,\n        type: service.type,\n        uid: service.id,\n        endpoint: service.authn,\n        id: service.pid,\n        provider: {\n          address: withPrefix(service.addr),\n          name: service.name,\n          icon: service.icon,\n        },\n      }\n  }\n}\n","import {withPrefix} from \"@onflow/util-address\"\nimport {SERVICE_PRAGMA, IDENTITY_PRAGMA} from \"./__vsn\"\n\n// {\n//   \"f_type\": \"service\",\n//   \"f_vsn\": \"1.0.0\",\n//   \"type\": \"authz\",\n//   \"uid\": \"uniqueDedupeKey\",\n//   \"endpoint\": \"https://rawr\",\n//   \"method\": \"HTTP/POST\", // HTTP/POST | IFRAME/RPC | HTTP/RPC\n//   \"identity\": {\n//      \"address\": \"0x______\",\n//      \"keyId\": 0,\n//   },\n//   \"data\": {}, // included in body of authz request\n//   \"params\": {}, // included as query params on endpoint url\n// }\nexport function normalizeAuthz(service) {\n  if (service == null) return null\n\n  switch (service[\"f_vsn\"]) {\n    case \"1.0.0\":\n      return service\n\n    default:\n      return {\n        ...SERVICE_PRAGMA,\n        type: service.type,\n        uid: service.id,\n        endpoint: service.endpoint,\n        method: service.method,\n        identity: {\n          ...IDENTITY_PRAGMA,\n          address: withPrefix(service.addr),\n          keyId: service.keyId,\n        },\n        params: service.params,\n        data: service.data,\n      }\n  }\n}\n","import {withPrefix} from \"@onflow/util-address\"\nimport {SERVICE_PRAGMA, IDENTITY_PRAGMA} from \"./__vsn\"\n\n// {\n//   \"f_type\": \"service\",\n//   \"f_vsn\": \"1.0.0\",\n//   \"type\": \"pre-authz\",\n//   \"uid\": \"uniqueDedupeKey\",\n//   \"endpoint\": \"https://rawr\",\n//   \"method\": \"HTTP/POST\", // HTTP/POST | IFRAME/RPC | HTTP/RPC\n//   \"identity\": {\n//      \"address\": \"0x______\",\n//      \"keyId\": 0,\n//   },\n//   \"data\": {}, // included in body of pre-authz request\n//   \"params\": {}, // included as query params on endpoint url\n// }\nexport function normalizePreAuthz(service) {\n  if (service == null) return null\n\n  switch (service[\"f_vsn\"]) {\n    case \"1.0.0\":\n      return service\n\n    default:\n      return {\n        ...SERVICE_PRAGMA,\n        type: service.type,\n        uid: service.id,\n        endpoint: service.endpoint,\n        method: service.method,\n        identity: {\n          ...IDENTITY_PRAGMA,\n          address: withPrefix(service.addr),\n          keyId: service.keyId,\n        },\n        params: service.params,\n        data: service.data,\n      }\n  }\n}\n","import {SERVICE_PRAGMA} from \"./__vsn\"\n\n// {\n//    \"f_type\": \"Service\",\n//    \"f_vsn\": \"1.0.0\",\n//    \"type\": \"frame\",\n//    \"endpoint\": \"https://rawr\",\n//    \"data\": {},   // Sent to frame when ready\n//    \"params\": {}, // include in query params on frame\n// }\nexport function normalizeFrame(service) {\n  if (service == null) return null\n\n  switch (service[\"f_vsn\"]) {\n    case \"1.0.0\":\n      return service\n\n    default:\n      return {\n        old: service,\n        ...SERVICE_PRAGMA,\n        type: \"frame\",\n        endpoint: service.endpoint,\n        params: service.params || {},\n        data: service.data || {},\n      }\n  }\n}\n","import {SERVICE_PRAGMA} from \"./__vsn\"\n\n// {\n//    \"f_type\": \"Service\",\n//    \"f_vsn\": \"1.0.0\",\n//    \"type\": \"back-channel-rpc\",\n//    \"endpoint\": \"https://rawr\",\n//    \"method\": \"HTTP/GET\", // HTTP/GET | HTTP/POST\n//    \"data\": {},           // included in body of rpc\n//    \"params\": {},         // included as query params on endpoint url\n// }\nexport function normalizeBackChannelRpc(service) {\n  if (service == null) return null\n\n  switch (service[\"f_vsn\"]) {\n    case \"1.0.0\":\n      return service\n\n    default:\n      return {\n        ...SERVICE_PRAGMA,\n        type: \"back-channel-rpc\",\n        endpoint: service.endpoint,\n        method: service.method,\n        params: service.params || {},\n        data: service.data || {},\n      }\n  }\n}\n","import {SERVICE_PRAGMA, OPEN_ID_PRAGMA} from \"./__vsn\"\n\n// {\n//   \"f_type\": \"Service\",\n//   \"f_vsn\": \"1.0.0\",\n//   \"type\": \"open-id\",\n//   \"uid\": \"uniqueDedupeKey\",\n//   \"method: \"data\",\n//   \"data\": {\n//      \"profile\": {\n//        \"name\": \"Bob\",\n//        \"family_name\": \"Builder\",\n//        \"given_name\": \"Robert\",\n//        \"middle_name\": \"the\",\n//        \"nickname\": \"Bob the Builder\",\n//        \"perferred_username\": \"bob\",\n//        \"profile\": \"https://www.bobthebuilder.com/\",\n//        \"picture\": \"https://avatars.onflow.org/avatar/bob\",\n//        \"gender\": \"...\",\n//        \"birthday\": \"2001-01-18\",\n//        \"zoneinfo\": \"America/Vancouver\",\n//        \"locale\": \"en-us\",\n//        \"updated_at\": \"1614970797388\"\n//      },\n//      \"email\": {\n//        \"email\": \"bob@bob.bob\",\n//        \"email_verified\": true\n//      },\n//      \"address\": {\n//        \"address\": \"One Apple Park Way, Cupertino, CA 95014, USA\"\n//      },\n//      \"phone\": {\n//        \"phone_number\": \"+1 (xxx) yyy-zzzz\",\n//        \"phone_number_verified\": true\n//      },\n//      \"social\": {\n//        \"twitter\": \"@_qvvg\",\n//        \"twitter_verified\": true\n//      },\n//   }\n// }\nexport function normalizeOpenId(service) {\n  if (service == null) return null\n\n  switch (service[\"f_vsn\"]) {\n    case \"1.0.0\":\n      return service\n\n    default:\n      return null\n  }\n}\n","// {\n//   \"f_type\": \"Service\",\n//   \"f_vsn\": \"1.0.0\",\n//   \"type\": \"user-signature\",\n//   \"uid\": \"uniqueDedupeKey\",\n//   \"endpoint\": \"https://rawr\",\n//   \"method\": \"IFRAME/RPC\", // HTTP/POST | IFRAME/RPC | HTTP/RPC\n//   \"id\": \"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx\", // wallets internal id for the user\n//   \"data\": {}, // included in body of user-signature request\n//   \"params\": {}, // included as query params on endpoint url\n// }\nexport function normalizeUserSignature(service) {\n  if (service == null) return null\n\n  switch (service[\"f_vsn\"]) {\n    case \"1.0.0\":\n      return service\n\n    default:\n      throw new Error(\"Invalid user-signature service\")\n  }\n}\n","import {SERVICE_PRAGMA} from \"./__vsn\"\n\n// {\n//    \"f_type\": \"Service\",\n//    \"f_vsn\": \"1.0.0\",\n//    type: \"local-view\",\n//    method: \"VIEW/IFRAME\",\n//    endpoint: \"https://woot.org/authz/local\",\n//    data: {},\n//    params: {},\n// }\nexport function normalizeLocalView(resp) {\n  if (resp == null) return null\n  if (resp.method == null) {\n    resp = {...resp, type: \"local-view\", method: \"VIEW/IFRAME\"}\n  }\n\n  switch (resp[\"f_vsn\"]) {\n    case \"1.0.0\":\n      return resp\n\n    default:\n      return {\n        ...SERVICE_PRAGMA,\n        type: resp.type || \"local-view\",\n        method: resp.method,\n        endpoint: resp.endpoint,\n        data: resp.data || {},\n        params: resp.params || {},\n      }\n  }\n}\n","// {\n//   \"f_type\": \"Service\",                    // Its a service!\n//   \"f_vsn\": \"1.0.0\",                       // Follows the v1.0.0 spec for the service\n//   \"type\": \"account-proof\",                // the type of service it is\n//   \"method\": \"DATA\",                       // Its data!\n//   \"uid\": \"awesome-wallet#account-proof\",  // A unique identifier for the service\n//   \"data\": {\n//     \"f_type\": \"account-proof\",\n//     \"f_vsn\": \"1.0.0\",\n//     \"nonce\": \"0A1BC2FF\",                  // Nonce signed by the current account-proof (minimum 32 bytes in total, i.e 64 hex characters)\n//     \"address\": \"0xUSER\",                  // The user's address (8 bytes, i.e 16 hex characters)\n//     \"signature\": CompositeSignature,      // address (sans-prefix), keyId, signature (hex)\n// }\n\nexport function normalizeAccountProof(service) {\n  if (service == null) return null\n\n  switch (service[\"f_vsn\"]) {\n    case \"1.0.0\":\n      return service\n\n    default:\n      throw new Error(`FCL Normalizer Error: Invalid account-proof service`)\n  }\n}\n","// {\n//   \"f_type\": \"Service\",\n//   \"f_vsn\": \"1.0.0\",\n//   \"type\": \"authn-refresh\",\n//   \"uid\": \"uniqueDedupeKey\",\n//   \"endpoint\": \"https://rawr\",\n//   \"method\": \"HTTP/POST\",  // \"HTTP/POST\", // HTTP/POST | IFRAME/RPC | HTTP/RPC\n//   \"id\": \"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx\", // wallets internal id for the user\n//   \"data\": {}, // included in body of request\n//   \"params\": {}, // included as query params on endpoint url\n// }\nexport function normalizeAuthnRefresh(service) {\n  if (service == null) return null\n\n  switch (service[\"f_vsn\"]) {\n    case \"1.0.0\":\n      return service\n\n    default:\n      throw new Error(\"Invalid authn-refresh service\")\n  }\n}\n","import {normalizeAuthn} from \"./authn\"\nimport {normalizeAuthz} from \"./authz\"\nimport {normalizePreAuthz} from \"./pre-authz\"\nimport {normalizeFrame} from \"./frame\"\nimport {normalizeBackChannelRpc} from \"./back-channel-rpc\"\nimport {normalizeOpenId} from \"./open-id\"\nimport {normalizeUserSignature} from \"./user-signature\"\nimport {normalizeLocalView} from \"./local-view\"\nimport {normalizeAccountProof} from \"./account-proof\"\nimport {normalizeAuthnRefresh} from \"./authn-refresh\"\n\nexport function normalizeServices(services, data) {\n  return services.map(service => normalizeService(service, data))\n}\n\nconst serviceNormalizers = {\n  \"back-channel-rpc\": normalizeBackChannelRpc,\n  \"pre-authz\": normalizePreAuthz,\n  authz: normalizeAuthz,\n  authn: normalizeAuthn,\n  frame: normalizeFrame,\n  \"open-id\": normalizeOpenId,\n  \"user-signature\": normalizeUserSignature,\n  \"local-view\": normalizeLocalView,\n  \"account-proof\": normalizeAccountProof,\n  \"authn-refresh\": normalizeAuthnRefresh,\n}\n\nexport function normalizeService(service, data) {\n  try {\n    var normalized = serviceNormalizers[service.type](service, data)\n    return normalized\n  } catch (error) {\n    console.error(\n      `Unrecognized FCL Service Type [${service.type}]`,\n      service,\n      error\n    )\n    return service\n  }\n}\n","import {withPrefix} from \"@onflow/util-address\"\nimport * as rlp from \"@onflow/rlp\"\nimport {fetchServices} from \"./fetch-services\"\nimport {mergeServices} from \"./merge-services\"\nimport {USER_PRAGMA} from \"../normalizers/service/__vsn\"\nimport {normalizeService} from \"../normalizers/service/service\"\n\nfunction deriveCompositeId(authn) {\n  return rlp\n    .encode([\n      authn.provider.address || authn.provider.name || \"UNSPECIFIED\",\n      authn.id,\n    ])\n    .toString(\"hex\")\n}\n\nfunction normalizeData(data) {\n  data.addr = data.addr ? withPrefix(data.addr) : null\n  data.paddr = data.paddr ? withPrefix(data.paddr) : null\n  return data\n}\n\nfunction findService(type, services) {\n  return services.find(d => d.type === type)\n}\n\nexport async function buildUser(data) {\n  data = normalizeData(data)\n\n  var services = mergeServices(\n    data.services || [],\n    await fetchServices(data.hks, data.code)\n  ).map(service => normalizeService(service, data))\n\n  const authn = findService(\"authn\", services)\n\n  return {\n    ...USER_PRAGMA,\n    addr: withPrefix(data.addr),\n    cid: deriveCompositeId(authn),\n    loggedIn: true,\n    services: services,\n    expiresAt: data.expires,\n  }\n}\n","export function serviceOfType(services = [], type) {\n  return services.find(service => service.type === type)\n}\n","export function serviceEndpoint(service) {\n  const url = new URL(service.endpoint)\n  if (window?.location?.origin) {\n    url.searchParams.append(\"l6n\", window.location.origin)\n  }\n  if (service.params != null) {\n    for (let [key, value] of Object.entries(service.params || {})) {\n      url.searchParams.append(key, value)\n    }\n  }\n  return url\n}\n","import {serviceEndpoint} from \"./service-endpoint\"\n\nexport function fetchService(service, opts = {}) {\n  const method = opts.method || \"POST\"\n  const body =\n    method === \"GET\"\n      ? undefined\n      : JSON.stringify(opts.data || service.data || {})\n\n  return fetch(serviceEndpoint(service), {\n    method: method,\n    headers: {\n      ...(service.headers || {}),\n      ...(opts.headers || {}),\n      \"Content-Type\": \"application/json\",\n    },\n    body: body,\n  }).then(d => d.json())\n}\n","import {POLLING_RESPONSE_PRAGMA} from \"./__vsn\"\nimport {normalizeBackChannelRpc} from \"./back-channel-rpc\"\nimport {normalizeFrame} from \"./frame\"\n\n// {\n//    \"f_type\": \"PollingResponse\",\n//    \"f_vsn\": \"1.0.0\",\n//    \"status\": \"PENDING\", // PENDING | APPROVED | DECLINED | REDIRECT\n//    \"reason\": null,      // Reason for Declining Transaction\n//    \"data\": null,        // Return value for APPROVED\n//    \"updates\": BackChannelRpc,\n//    \"local\": Frame,\n// }\nexport function normalizePollingResponse(resp) {\n  if (resp == null) return null\n\n  switch (resp[\"f_vsn\"]) {\n    case \"1.0.0\":\n      return resp\n\n    default:\n      return {\n        ...POLLING_RESPONSE_PRAGMA,\n        status: resp.status ?? \"APPROVED\",\n        reason: resp.reason ?? null,\n        data: resp.compositeSignature || resp.data || {...resp} || {},\n        updates: normalizeBackChannelRpc(resp.authorizationUpdates),\n        local: normalizeFrame((resp.local || [])[0]),\n      }\n  }\n}\n","import {normalizePollingResponse} from \"../../../../normalizers/service/polling-response\"\nimport {serviceEndpoint} from \"./service-endpoint\"\nimport {invariant} from \"@onflow/util-invariant\"\nimport {fetchService} from \"./fetch-service\"\n\nconst OPTIONS = {\n  \"HTTP/GET\": \"GET\",\n  \"HTTP/POST\": \"POST\",\n}\n\nconst serviceMethod = service => {\n  invariant(\n    OPTIONS[service.method],\n    \"Invalid Service Method for type back-channel-rpc\",\n    {service}\n  )\n  return OPTIONS[service.method]\n}\n\nconst serviceBody = service => {\n  if (service.method === \"HTTP/GET\") return undefined\n  if (service.method === \"HTTP/POST\" && service.data != null)\n    return JSON.stringify(service.data)\n  return undefined\n}\n\nexport async function poll(service, canContinue = () => true) {\n  invariant(service, \"Missing Polling Service\", {service})\n  if (!canContinue()) throw new Error(\"Externally Halted\")\n\n  let resp\n  try {\n    if (\n      typeof document !== \"undefined\" &&\n      document.visibilityState === \"hidden\"\n    ) {\n      await new Promise(r => setTimeout(r, 500))\n      return poll(service, canContinue)\n    }\n\n    resp = await fetchService(service, {\n      method: serviceMethod(service),\n    }).then(normalizePollingResponse)\n  } catch (error) {\n    throw error\n  }\n\n  switch (resp.status) {\n    case \"APPROVED\":\n      return resp.data\n    case \"DECLINED\":\n      throw new Error(`Declined: ${resp.reason || \"No reason supplied.\"}`)\n    default:\n      await new Promise(r => setTimeout(r, 500))\n      return poll(resp.updates, canContinue)\n  }\n}\n","import {invariant} from \"@onflow/util-invariant\"\n\nconst FRAME = \"FCL_IFRAME\"\n\nconst FRAME_STYLES = `\n  position:fixed;\n  top: 0px;\n  right: 0px;\n  bottom: 0px;\n  left: 0px;\n  height: 100%;\n  width: 100vw;\n  display:block;\n  background:rgba(0,0,0,0.25);\n  z-index: 2147483647;\n  box-sizing: border-box;\n  color-scheme: light;\n`\n\nexport function renderFrame(src) {\n  invariant(\n    !document.getElementById(FRAME),\n    \"Attempt at triggering multiple Frames\",\n    {src}\n  )\n\n  const $frame = document.createElement(\"iframe\")\n  $frame.src = src\n  $frame.id = FRAME\n  $frame.allow = \"usb *; hid *\"\n  $frame.frameBorder = \"0\"\n  $frame.style.cssText = FRAME_STYLES\n  document.body.append($frame)\n\n  const unmount = () => {\n    if (document.getElementById(FRAME)) {\n      document.getElementById(FRAME).remove()\n    }\n  }\n\n  return [$frame.contentWindow, unmount]\n}\n","const POP = \"FCL_POP\"\n\nlet popup = null\nlet previousUrl = null\n\nfunction popupWindow(url, windowName, win, w, h) {\n  const y = win.top.outerHeight / 2 + win.top.screenY - h / 2\n  const x = win.top.outerWidth / 2 + win.top.screenX - w / 2\n  const popup = win.open(\n    url,\n    windowName,\n    `toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width=${w}, height=${h}, top=${y}, left=${x}`\n  )\n  if (!popup)\n    throw new Error(\"Popup failed to open (was it blocked by a popup blocker?)\")\n  return popup\n}\n\nexport function renderPop(src) {\n  if (popup == null || popup?.closed) {\n    popup = popupWindow(src, POP, window, 640, 770)\n  } else if (previousUrl !== src) {\n    popup.location.replace(src)\n    popup.focus()\n  } else {\n    popup.focus()\n  }\n\n  previousUrl = src\n\n  const unmount = () => {\n    if (popup && !popup.closed) {\n      popup.close()\n    }\n    popup = null\n  }\n\n  return [popup, unmount]\n}\n","const TAB = \"FCL_TAB\"\n\nlet tab = null\nlet previousUrl = null\n\nexport function renderTab(src) {\n  if (tab == null || tab?.closed) {\n    tab = window.open(src, \"_blank\")\n    if (!tab)\n      throw new Error(\"Tab failed to open (was it blocked by the browser?)\")\n  } else if (previousUrl !== src) {\n    tab.location.replace(src)\n    tab.focus()\n  } else {\n    tab.focus()\n  }\n\n  previousUrl = src\n\n  const unmount = () => {\n    if (tab && !tab.closed) {\n      tab.close()\n    }\n    tab = null\n  }\n\n  return [tab, unmount]\n}\n","import {renderFrame} from \"./strategies/utils/render-frame\"\nimport {renderPop} from \"./strategies/utils/render-pop\"\nimport {renderTab} from \"./strategies/utils/render-tab\"\nimport {serviceEndpoint} from \"./strategies/utils/service-endpoint\"\n\nconst VIEWS = {\n  \"VIEW/IFRAME\": renderFrame,\n  \"VIEW/POP\": renderPop,\n  \"VIEW/TAB\": renderTab,\n}\n\nexport async function execLocal(service, opts = {}) {\n  try {\n    return VIEWS[service.method](serviceEndpoint(service), opts)\n  } catch (error) {\n    console.error(\"execLocal({service, opts = {}})\", error, {service, opts})\n    throw error\n  }\n}\n","import {fetchService} from \"./utils/fetch-service\"\nimport {normalizePollingResponse} from \"../../../normalizers/service/polling-response\"\nimport {normalizeLocalView} from \"../../../normalizers/service/local-view\"\nimport {poll} from \"./utils/poll\"\nimport {execLocal} from \"../exec-local\"\nimport {VERSION} from \"../../../VERSION\"\n\nexport async function execHttpPost({service, body, config, opts}) {\n  const resp = await fetchService(service, {\n    data: {\n      fclVersion: VERSION,\n      service: {\n        params: service.params,\n        data: service.data,\n        type: service.type,\n      },\n      config,\n      ...body,\n    },\n  }).then(normalizePollingResponse)\n\n  if (resp.status === \"APPROVED\") {\n    return resp.data\n  } else if (resp.status === \"DECLINED\") {\n    throw new Error(`Declined: ${resp.reason || \"No reason supplied.\"}`)\n  } else if (resp.status === \"REDIRECT\") {\n    return resp\n  } else if (resp.status === \"PENDING\") {\n    var canContinue = true\n    const [_, unmount] = await execLocal(normalizeLocalView(resp.local))\n\n    const close = () => {\n      try {\n        unmount()\n        canContinue = false\n      } catch (error) {\n        console.error(\"Frame Close Error\", error)\n      }\n    }\n\n    return poll(resp.updates, () => canContinue)\n      .then(serviceResponse => {\n        close()\n        return serviceResponse\n      })\n      .catch(error => {\n        console.error(error)\n        close()\n        throw error\n      })\n  } else {\n    console.error(`Auto Decline: Invalid Response`, {service, resp})\n    throw new Error(`Auto Decline: Invalid Response`)\n  }\n}\n","const CLOSE_EVENT = \"FCL:VIEW:CLOSE\"\nconst READY_EVENT = \"FCL:VIEW:READY\"\nconst RESPONSE_EVENT = \"FCL:VIEW:RESPONSE\"\n\nconst _ = e => typeof e === \"string\" && e.toLowerCase()\n\nconst IGNORE = new Set([\n  \"monetizationstart\",\n  \"monetizationpending\",\n  \"monetizationprogress\",\n  \"monetizationstop\",\n])\n\nconst deprecate = (was, want) =>\n  console.warn(\n    \"DEPRECATION NOTICE\",\n    `Received ${was}, please use ${want} for this and future versions of FCL`\n  )\n\nexport const buildMessageHandler =\n  ({close, send, onReady, onResponse, onMessage}) =>\n  e => {\n    try {\n      if (typeof e.data !== \"object\") return\n      if (IGNORE.has(e.data.type)) return\n      if (_(e.data.type) === _(CLOSE_EVENT)) close()\n      if (_(e.data.type) === _(READY_EVENT)) onReady(e, {send, close})\n      if (_(e.data.type) === _(RESPONSE_EVENT)) onResponse(e, {send, close})\n      onMessage(e, {send, close})\n\n      // Backwards Compatible\n      if (_(e.data.type) === _(\"FCL:FRAME:READY\")) {\n        deprecate(e.data.type, READY_EVENT)\n        onReady(e, {send, close})\n      }\n      if (_(e.data.type) === _(\"FCL:FRAME:RESPONSE\")) {\n        deprecate(e.data.type, RESPONSE_EVENT)\n        onResponse(e, {send, close})\n      }\n      if (_(e.data.type) === _(\"FCL:FRAME:CLOSE\")) {\n        deprecate(e.data.type, CLOSE_EVENT)\n        close()\n      }\n      //\n      if (_(e.data.type) === _(\"FCL::CHALLENGE::RESPONSE\")) {\n        deprecate(e.data.type, RESPONSE_EVENT)\n        onResponse(e, {send, close})\n      }\n      if (_(e.data.type) === _(\"FCL::AUTHZ_READY\")) {\n        deprecate(e.data.type, READY_EVENT)\n        onReady(e, {send, close})\n      }\n      if (_(e.data.type) === _(\"FCL::CHALLENGE::CANCEL\")) {\n        deprecate(e.data.type, CLOSE_EVENT)\n        close()\n      }\n      if (_(e.data.type) === _(\"FCL::CANCEL\")) {\n        deprecate(e.data.type, CLOSE_EVENT)\n        close()\n      }\n    } catch (error) {\n      console.error(\"Frame Callback Error\", error)\n      close()\n    }\n  }\n","import {renderFrame} from \"./render-frame\"\nimport {serviceEndpoint} from \"./service-endpoint\"\nimport {buildMessageHandler} from \"./buildMessageHandler\"\n\nconst noop = () => {}\n\nexport function frame(service, opts = {}) {\n  if (service == null) return {send: noop, close: noop}\n\n  const onClose = opts.onClose || noop\n  const onMessage = opts.onMessage || noop\n  const onReady = opts.onReady || noop\n  const onResponse = opts.onResponse || noop\n\n  const handler = buildMessageHandler({\n    close,\n    send,\n    onReady,\n    onResponse,\n    onMessage,\n  })\n  window.addEventListener(\"message\", handler)\n\n  const [$frame, unmount] = renderFrame(serviceEndpoint(service))\n  return {send, close}\n\n  function close() {\n    try {\n      window.removeEventListener(\"message\", handler)\n      unmount()\n      onClose()\n    } catch (error) {\n      console.error(\"Frame Close Error\", error)\n    }\n  }\n\n  function send(msg) {\n    try {\n      $frame.postMessage(JSON.parse(JSON.stringify(msg || {})), \"*\")\n    } catch (error) {\n      console.error(\"Frame Send Error\", msg, error)\n    }\n  }\n}\n","import {uid} from \"@onflow/util-uid\"\nimport {frame} from \"./utils/frame\"\nimport {normalizePollingResponse} from \"../../../normalizers/service/polling-response\"\nimport {VERSION} from \"../../../VERSION\"\n\nexport function execIframeRPC({service, body, config, opts}) {\n  return new Promise((resolve, reject) => {\n    const id = uid()\n    const includeOlderJsonRpcCall = opts.includeOlderJsonRpcCall\n\n    frame(service, {\n      async onReady(_, {send}) {\n        try {\n          send({\n            type: \"FCL:VIEW:READY:RESPONSE\",\n            fclVersion: VERSION,\n            body,\n            service: {\n              params: service.params,\n              data: service.data,\n              type: service.type,\n            },\n            config,\n          })\n          send({\n            fclVersion: VERSION,\n            type: \"FCL:FRAME:READY:RESPONSE\",\n            body,\n            service: {\n              params: service.params,\n              data: service.data,\n              type: service.type,\n            },\n            config,\n            deprecated: {\n              message:\n                \"FCL:FRAME:READY:RESPONSE is deprecated and replaced with type: FCL:VIEW:READY:RESPONSE\",\n            },\n          })\n          if (includeOlderJsonRpcCall) {\n            send({\n              jsonrpc: \"2.0\",\n              id: id,\n              method: \"fcl:sign\",\n              params: [body, service.params],\n              deprecated: {\n                message:\n                  \"jsonrpc is deprecated and replaced with type: FCL:VIEW:READY:RESPONSE\",\n              },\n            })\n          }\n        } catch (error) {\n          throw error\n        }\n      },\n\n      onResponse(e, {close}) {\n        try {\n          if (typeof e.data !== \"object\") return\n          const resp = normalizePollingResponse(e.data)\n\n          switch (resp.status) {\n            case \"APPROVED\":\n              resolve(resp.data)\n              close()\n              break\n\n            case \"DECLINED\":\n              reject(`Declined: ${resp.reason || \"No reason supplied\"}`)\n              close()\n              break\n\n            case \"REDIRECT\":\n              resolve(resp)\n              close()\n              break\n\n            default:\n              reject(`Declined: No reason supplied`)\n              close()\n              break\n          }\n        } catch (error) {\n          console.error(\"execIframeRPC onResponse error\", error)\n          throw error\n        }\n      },\n\n      onMessage(e, {close}) {\n        try {\n          if (typeof e.data !== \"object\") return\n          if (e.data.jsonrpc !== \"2.0\") return\n          if (e.data.id !== id) return\n          const resp = normalizePollingResponse(e.data.result)\n\n          switch (resp.status) {\n            case \"APPROVED\":\n              resolve(resp.data)\n              close()\n              break\n\n            case \"DECLINED\":\n              reject(`Declined: ${resp.reason || \"No reason supplied\"}`)\n              close()\n              break\n\n            case \"REDIRECT\":\n              resolve(resp)\n              close()\n              break\n\n            default:\n              reject(`Declined: No reason supplied`)\n              close()\n              break\n          }\n        } catch (error) {\n          console.error(\"execIframeRPC onMessage error\", error)\n          throw error\n        }\n      },\n\n      onClose() {\n        reject(`Declined: Externally Halted`)\n      },\n    })\n  })\n}\n","import {renderPop} from \"./render-pop\"\nimport {serviceEndpoint} from \"./service-endpoint\"\nimport {buildMessageHandler} from \"./buildMessageHandler\"\n\nconst noop = () => {}\n\nexport function pop(service, opts = {}) {\n  if (service == null) return {send: noop, close: noop}\n\n  const onClose = opts.onClose || noop\n  const onMessage = opts.onMessage || noop\n  const onReady = opts.onReady || noop\n  const onResponse = opts.onResponse || noop\n\n  const handler = buildMessageHandler({\n    close,\n    send,\n    onReady,\n    onResponse,\n    onMessage,\n  })\n  window.addEventListener(\"message\", handler)\n\n  const [$pop, unmount] = renderPop(serviceEndpoint(service))\n\n  const timer = setInterval(function () {\n    if ($pop && $pop.closed) {\n      close()\n    }\n  }, 500)\n\n  return {send, close}\n\n  function close() {\n    try {\n      window.removeEventListener(\"message\", handler)\n      clearInterval(timer)\n      unmount()\n      onClose()\n    } catch (error) {\n      console.error(\"Popup Close Error\", error)\n    }\n  }\n\n  function send(msg) {\n    try {\n      $pop.postMessage(JSON.parse(JSON.stringify(msg || {})), \"*\")\n    } catch (error) {\n      console.error(\"Popup Send Error\", msg, error)\n    }\n  }\n}\n","import {uid} from \"@onflow/util-uid\"\nimport {pop} from \"./utils/pop\"\nimport {normalizePollingResponse} from \"../../../normalizers/service/polling-response\"\nimport {VERSION} from \"../../../VERSION\"\n\nexport function execPopRPC({service, body, config, opts}) {\n  return new Promise((resolve, reject) => {\n    const id = uid()\n    const {redir, includeOlderJsonRpcCall} = opts\n\n    pop(service, {\n      async onReady(_, {send}) {\n        try {\n          send({\n            fclVersion: VERSION,\n            type: \"FCL:VIEW:READY:RESPONSE\",\n            body,\n            service: {\n              params: service.params,\n              data: service.data,\n              type: service.type,\n            },\n            config,\n          })\n          send({\n            fclVersion: VERSION,\n            type: \"FCL:FRAME:READY:RESPONSE\",\n            body,\n            service: {\n              params: service.params,\n              data: service.data,\n              type: service.type,\n            },\n            config,\n            deprecated: {\n              message:\n                \"FCL:FRAME:READY:RESPONSE is deprecated and replaced with type: FCL:VIEW:READY:RESPONSE\",\n            },\n          })\n          if (includeOlderJsonRpcCall) {\n            send({\n              jsonrpc: \"2.0\",\n              id: id,\n              method: \"fcl:sign\",\n              params: [body, service.params],\n            })\n          }\n        } catch (error) {\n          throw error\n        }\n      },\n\n      onResponse(e, {close}) {\n        try {\n          if (typeof e.data !== \"object\") return\n          const resp = normalizePollingResponse(e.data)\n\n          switch (resp.status) {\n            case \"APPROVED\":\n              resolve(resp.data)\n              !redir && close()\n              break\n\n            case \"DECLINED\":\n              reject(`Declined: ${resp.reason || \"No reason supplied\"}`)\n              close()\n              break\n\n            case \"REDIRECT\":\n              resolve(resp)\n              close()\n              break\n\n            default:\n              reject(`Declined: No reason supplied`)\n              close()\n              break\n          }\n        } catch (error) {\n          console.error(\"execPopRPC onResponse error\", error)\n          throw error\n        }\n      },\n\n      onMessage(e, {close}) {\n        try {\n          if (typeof e.data !== \"object\") return\n          if (e.data.jsonrpc !== \"2.0\") return\n          if (e.data.id !== id) return\n          const resp = normalizePollingResponse(e.data.result)\n\n          switch (resp.status) {\n            case \"APPROVED\":\n              resolve(resp.data)\n              !redir && close()\n              break\n\n            case \"DECLINED\":\n              reject(`Declined: ${resp.reason || \"No reason supplied\"}`)\n              close()\n              break\n\n            case \"REDIRECT\":\n              resolve(resp)\n              close()\n              break\n\n            default:\n              reject(`Declined: No reason supplied`)\n              close()\n              break\n          }\n        } catch (error) {\n          console.error(\"execPopRPC onMessage error\", error)\n          throw error\n        }\n      },\n\n      onClose() {\n        reject(`Declined: Externally Halted`)\n      },\n    })\n  })\n}\n","import {renderTab} from \"./render-tab\"\nimport {serviceEndpoint} from \"./service-endpoint\"\nimport {buildMessageHandler} from \"./buildMessageHandler\"\n\nconst noop = () => {}\n\nexport function tab(service, opts = {}) {\n  if (service == null) return {send: noop, close: noop}\n\n  const onClose = opts.onClose || noop\n  const onMessage = opts.onMessage || noop\n  const onReady = opts.onReady || noop\n  const onResponse = opts.onResponse || noop\n\n  const handler = buildMessageHandler({\n    close,\n    send,\n    onReady,\n    onResponse,\n    onMessage,\n  })\n  window.addEventListener(\"message\", handler)\n\n  const [$tab, unmount] = renderTab(serviceEndpoint(service))\n  const timer = setInterval(function () {\n    if ($tab && $tab.closed) {\n      close()\n    }\n  }, 500)\n\n  return {send, close}\n\n  function close() {\n    try {\n      window.removeEventListener(\"message\", handler)\n      clearInterval(timer)\n      unmount()\n      onClose()\n    } catch (error) {\n      console.error(\"Tab Close Error\", error)\n    }\n  }\n\n  function send(msg) {\n    try {\n      $tab.postMessage(JSON.parse(JSON.stringify(msg || {})), \"*\")\n    } catch (error) {\n      console.error(\"Tab Send Error\", msg, error)\n    }\n  }\n}\n","import {uid} from \"@onflow/util-uid\"\nimport {tab} from \"./utils/tab\"\nimport {normalizePollingResponse} from \"../../../normalizers/service/polling-response\"\nimport {VERSION} from \"../../../VERSION\"\n\nexport function execTabRPC({service, body, config, opts}) {\n  return new Promise((resolve, reject) => {\n    const id = uid()\n    const {redir, includeOlderJsonRpcCall} = opts\n\n    tab(service, {\n      async onReady(_, {send}) {\n        try {\n          send({\n            fclVersion: VERSION,\n            type: \"FCL:VIEW:READY:RESPONSE\",\n            body,\n            service: {\n              params: service.params,\n              data: service.data,\n              type: service.type,\n            },\n            config,\n          })\n          send({\n            fclVersion: VERSION,\n            type: \"FCL:FRAME:READY:RESPONSE\",\n            body,\n            service: {\n              params: service.params,\n              data: service.data,\n              type: service.type,\n            },\n            config,\n            deprecated: {\n              message:\n                \"FCL:FRAME:READY:RESPONSE is deprecated and replaced with type: FCL:VIEW:READY:RESPONSE\",\n            },\n          })\n          if (includeOlderJsonRpcCall) {\n            send({\n              jsonrpc: \"2.0\",\n              id: id,\n              method: \"fcl:sign\",\n              params: [body, service.params],\n            })\n          }\n        } catch (error) {\n          throw error\n        }\n      },\n\n      onResponse(e, {close}) {\n        try {\n          if (typeof e.data !== \"object\") return\n          const resp = normalizePollingResponse(e.data)\n\n          switch (resp.status) {\n            case \"APPROVED\":\n              resolve(resp.data)\n              !redir && close()\n              break\n\n            case \"DECLINED\":\n              reject(`Declined: ${resp.reason || \"No reason supplied\"}`)\n              close()\n              break\n\n            case \"REDIRECT\":\n              resolve(resp)\n              close()\n              break\n\n            default:\n              reject(`Declined: No reason supplied`)\n              close()\n              break\n          }\n        } catch (error) {\n          console.error(\"execPopRPC onResponse error\", error)\n          throw error\n        }\n      },\n\n      onMessage(e, {close}) {\n        try {\n          if (typeof e.data !== \"object\") return\n          if (e.data.jsonrpc !== \"2.0\") return\n          if (e.data.id !== id) return\n          const resp = normalizePollingResponse(e.data.result)\n\n          switch (resp.status) {\n            case \"APPROVED\":\n              resolve(resp.data)\n              !redir && close()\n              break\n\n            case \"DECLINED\":\n              reject(`Declined: ${resp.reason || \"No reason supplied\"}`)\n              close()\n              break\n\n            case \"REDIRECT\":\n              resolve(resp)\n              close()\n              break\n\n            default:\n              reject(`Declined: No reason supplied`)\n              close()\n              break\n          }\n        } catch (error) {\n          console.error(\"execPopRPC onMessage error\", error)\n          throw error\n        }\n      },\n\n      onClose() {\n        reject(`Declined: Externally Halted`)\n      },\n    })\n  })\n}\n","import {buildMessageHandler} from \"./buildMessageHandler\"\n\nconst noop = () => {}\n\nexport function extension(service, opts = {}) {\n  if (service == null) return {send: noop, close: noop}\n\n  const onClose = opts.onClose || noop\n  const onMessage = opts.onMessage || noop\n  const onReady = opts.onReady || noop\n  const onResponse = opts.onResponse || noop\n\n  const handler = buildMessageHandler({\n    close,\n    send,\n    onReady,\n    onResponse,\n    onMessage,\n  })\n  window.addEventListener(\"message\", handler)\n\n  send({service})\n\n  return {send, close}\n\n  function close() {\n    try {\n      window.removeEventListener(\"message\", handler)\n      onClose()\n    } catch (error) {\n      console.error(\"Ext Close Error\", error)\n    }\n  }\n\n  function send(msg) {\n    try {\n      window && window.postMessage(JSON.parse(JSON.stringify(msg || {})), \"*\")\n    } catch (error) {\n      console.error(\"Ext Send Error\", msg, error)\n    }\n  }\n}\n","import {invariant} from \"@onflow/util-invariant\"\nimport {extension} from \"./utils/extension\"\nimport {normalizePollingResponse} from \"../../../normalizers/service/polling-response\"\nimport {VERSION} from \"../../../VERSION\"\n\nexport function execExtRPC({service, body, config, opts}) {\n  return new Promise((resolve, reject) => {\n    extension(service, {\n      async onReady(_, {send}) {\n        try {\n          send({\n            fclVersion: VERSION,\n            type: \"FCL:VIEW:READY:RESPONSE\",\n            body,\n            service: {\n              params: service.params,\n              data: service.data,\n              type: service.type,\n            },\n            config,\n          })\n        } catch (error) {\n          throw error\n        }\n      },\n\n      onResponse(e, {close}) {\n        try {\n          if (typeof e.data !== \"object\") return\n          const resp = normalizePollingResponse(e.data)\n\n          switch (resp.status) {\n            case \"APPROVED\":\n              resolve(resp.data)\n              close()\n              break\n\n            case \"DECLINED\":\n              reject(`Declined: ${resp.reason || \"No reason supplied\"}`)\n              close()\n              break\n\n            case \"REDIRECT\":\n              resolve(resp)\n              close()\n              break\n\n            default:\n              reject(`Declined: No reason supplied`)\n              close()\n              break\n          }\n        } catch (error) {\n          console.error(\"execExtRPC onResponse error\", error)\n          throw error\n        }\n      },\n\n      onClose() {\n        reject(`Declined: Externally Halted`)\n      },\n    })\n  })\n}\n","import {execHttpPost} from \"./strategies/http-post\"\nimport {execIframeRPC} from \"./strategies/iframe-rpc\"\nimport {execPopRPC} from \"./strategies/pop-rpc\"\nimport {execTabRPC} from \"./strategies/tab-rpc\"\nimport {execExtRPC} from \"./strategies/ext-rpc\"\nimport {invariant} from \"@onflow/util-invariant\"\nimport {LEVELS, log} from \"@onflow/util-logger\"\nimport {isRequired, isString, isObject, isFunc} from \"../../exec/utils/is\"\n\nconst CORE_STRATEGIES = {\n  \"HTTP/RPC\": execHttpPost,\n  \"HTTP/POST\": execHttpPost,\n  \"IFRAME/RPC\": execIframeRPC,\n  \"POP/RPC\": execPopRPC,\n  \"TAB/RPC\": execTabRPC,\n  \"EXT/RPC\": execExtRPC,\n}\n\nconst supportedPlugins = [\"ServicePlugin\"]\nconst supportedServicePlugins = [\"discovery-service\"]\n\nconst validateDiscoveryPlugin = servicePlugin => {\n  const {services, serviceStrategy} = servicePlugin\n  invariant(\n    Array.isArray(services) && services.length,\n    \"Array of Discovery Services is required\"\n  )\n\n  for (const ds of services) {\n    invariant(\n      isRequired(ds.f_type) && ds.f_type === \"Service\",\n      \"Service is required\"\n    )\n    invariant(\n      isRequired(ds.type) && ds.type === \"authn\",\n      `Service must be type authn. Received ${ds.type}`\n    )\n    invariant(\n      ds.method in CORE_STRATEGIES || serviceStrategy.method === ds.method,\n      `Service method ${ds.method} is not supported`\n    )\n  }\n\n  invariant(isRequired(serviceStrategy), \"Service strategy is required\")\n  invariant(\n    isRequired(serviceStrategy.method) && isString(serviceStrategy.method),\n    \"Service strategy method is required\"\n  )\n  invariant(\n    isRequired(serviceStrategy.exec) && isFunc(serviceStrategy.exec),\n    \"Service strategy exec function is required\"\n  )\n\n  return {discoveryServices: services, serviceStrategy}\n}\n\nconst ServiceRegistry = () => {\n  let services = new Set()\n  let strategies = new Map(Object.entries(CORE_STRATEGIES))\n\n  const add = servicePlugin => {\n    invariant(\n      supportedServicePlugins.includes(servicePlugin.type),\n      `Service Plugin type ${servicePlugin.type} is not supported`\n    )\n    if (servicePlugin.type === \"discovery-service\") {\n      const {discoveryServices, serviceStrategy} =\n        validateDiscoveryPlugin(servicePlugin)\n      setServices(discoveryServices)\n      if (!strategies.has(serviceStrategy.method)) {\n        strategies.set(serviceStrategy.method, serviceStrategy.exec)\n      } else {\n        log({\n          title: `Add Service Plugin`,\n          message: `Service strategy for ${serviceStrategy.method} already exists`,\n          level: LEVELS.warn,\n        })\n      }\n    }\n  }\n\n  const setServices = discoveryServices =>\n    (services = new Set([...discoveryServices]))\n\n  const getServices = () => [...services]\n\n  const getStrategy = method => strategies.get(method)\n\n  const getStrategies = () => [...strategies.keys()]\n\n  return Object.freeze({\n    add,\n    getServices,\n    getStrategy,\n    getStrategies,\n  })\n}\n\nconst validatePlugins = plugins => {\n  let pluginsArray\n  invariant(plugins, \"No plugins supplied\")\n\n  if (!Array.isArray(plugins)) {\n    pluginsArray = [plugins]\n  } else {\n    pluginsArray = [...plugins]\n  }\n  for (const p of pluginsArray) {\n    invariant(isRequired(p.name), \"Plugin name is required\")\n    invariant(isRequired(p.f_type), \"Plugin f_type is required\")\n    invariant(\n      supportedPlugins.includes(p.f_type),\n      `Plugin type ${p.f_type} is not supported`\n    )\n  }\n\n  return pluginsArray\n}\n\nconst PluginRegistry = () => {\n  const pluginsMap = new Map()\n\n  const getPlugins = () => pluginsMap\n\n  const add = plugins => {\n    const pluginsArray = validatePlugins(plugins)\n    for (const p of pluginsArray) {\n      pluginsMap.set(p.name, p)\n      if (p.f_type === \"ServicePlugin\") {\n        serviceRegistry.add(p)\n      }\n    }\n  }\n\n  return Object.freeze({\n    add,\n    getPlugins,\n  })\n}\n\nexport const serviceRegistry = ServiceRegistry()\nexport const pluginRegistry = PluginRegistry()\n","import {invariant} from \"@onflow/util-invariant\"\nimport {log, LEVELS} from \"@onflow/util-logger\"\nimport {serviceRegistry} from \"./plugins\"\nimport {getChainId} from \"../../utils\"\nimport {VERSION} from \"../../VERSION\"\nimport {configLens} from \"../../default-config\"\n\nconst execStrategy = async ({service, body, config, opts}) => {\n  const strategy = serviceRegistry.getStrategy(service.method)\n  return strategy({service, body, config, opts})\n}\n\nexport async function execService({service, msg = {}, config = {}, opts = {}}) {\n  msg.data = service.data\n  const execConfig = {\n    services: await configLens(/^service\\./),\n    app: await configLens(/^app\\.detail\\./),\n    client: {\n      ...config.client,\n      fclVersion: VERSION,\n      fclLibrary: \"https://github.com/onflow/fcl-js\",\n      hostname: window?.location?.hostname ?? null,\n      network: await getChainId(),\n    },\n  }\n\n  try {\n    const res = await execStrategy({\n      service,\n      body: msg,\n      config: execConfig,\n      opts,\n    })\n    if (res.status === \"REDIRECT\") {\n      invariant(\n        service.type === res.data.type,\n        \"Cannot shift recursive service type in execService\"\n      )\n      return await execService({\n        service: res.data,\n        msg,\n        config: execConfig,\n        opts,\n      })\n    } else {\n      return res\n    }\n  } catch (error) {\n    log({\n      title: `Error on execService ${service?.type}`,\n      message: error,\n      level: LEVELS.error,\n    })\n    throw error\n  }\n}\n","import {COMPOSITE_SIGNATURE_PRAGMA} from \"./__vsn\"\nimport {sansPrefix} from \"@onflow/util-address\"\n\n// {\n//    \"f_type\": \"CompositeSignature\",\n//    \"f_vsn\": \"1.0.0\",\n//    \"addr\": \"_____\",         // sans-prefix\n//    \"signature\": \"adfe1234\", // hex\n//    \"keyId\": 3,\n// }\nexport function normalizeCompositeSignature(resp) {\n  if (resp == null) return null\n\n  switch (resp[\"f_vsn\"]) {\n    case \"1.0.0\":\n      return resp\n\n    default:\n      return {\n        ...COMPOSITE_SIGNATURE_PRAGMA,\n        addr: sansPrefix(resp.addr || resp.address),\n        signature: resp.signature || resp.sig,\n        keyId: resp.keyId,\n      }\n  }\n}\n","import {config} from \"@onflow/config\"\nimport {invariant} from \"@onflow/util-invariant\"\nimport {serviceRegistry} from \"../current-user/exec-service/plugins\"\n\nexport const makeDiscoveryServices = async () => {\n  const extensionServices = window?.fcl_extensions || []\n  return [...extensionServices, ...serviceRegistry.getServices()]\n}\n\nexport async function getDiscoveryService(service) {\n  const discoveryAuthnInclude = await config.get(\"discovery.authn.include\", [])\n  const discoveryWalletMethod = await config.first([\n    \"discovery.wallet.method\",\n    \"discovery.wallet.method.default\",\n  ])\n  const method = service?.method ? service.method : discoveryWalletMethod\n  const endpoint =\n    service?.endpoint ??\n    (await config.first([\"discovery.wallet\", \"challenge.handshake\"]))\n\n  invariant(\n    endpoint,\n    `\n    If no service is passed to \"authenticate,\" then \"discovery.wallet\" must be defined in fcl config.\n    See: \"https://docs.onflow.org/fcl/reference/api/#setting-configuration-values\"\n    `\n  )\n\n  return {\n    ...service,\n    type: \"authn\",\n    endpoint,\n    method,\n    discoveryAuthnInclude,\n  }\n}\n","import {config} from \"@onflow/config\"\nimport {invariant} from \"@onflow/util-invariant\"\nimport {serviceRegistry} from \"../current-user/exec-service/plugins\"\nimport {getChainId} from \"../utils\"\nimport {VERSION} from \"../VERSION\"\nimport {makeDiscoveryServices} from \"./utils\"\n\nexport async function getServices({types}) {\n  const endpoint = await config.get(\"discovery.authn.endpoint\")\n  invariant(\n    Boolean(endpoint),\n    `\"discovery.authn.endpoint\" in config must be defined.`\n  )\n\n  const include = await config.get(\"discovery.authn.include\", [])\n  const url = new URL(endpoint)\n\n  return fetch(url, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({\n      type: types,\n      fclVersion: VERSION,\n      include,\n      clientServices: await makeDiscoveryServices(),\n      supportedStrategies: serviceRegistry.getStrategies(),\n      userAgent: window?.navigator?.userAgent,\n      network: await getChainId(),\n    }),\n  }).then(d => d.json())\n}\n","import {\n  spawn,\n  subscriber,\n  snapshoter,\n  INIT,\n  SUBSCRIBE,\n  UNSUBSCRIBE,\n  send,\n} from \"@onflow/util-actor\"\nimport {getServices} from \"../services\"\nimport {LEVELS, log} from \"@onflow/util-logger\"\n\nexport const SERVICE_ACTOR_KEYS = {\n  AUTHN: \"authn\",\n  RESULTS: \"results\",\n  SNAPSHOT: \"SNAPSHOT\",\n  UPDATED: \"UPDATED\",\n  UPDATE_RESULTS: \"UPDATE_RESULTS\",\n}\n\nconst warn = (fact, msg) => {\n  if (fact) {\n    console.warn(\n      `\n      %cFCL Warning\n      ============================\n      ${msg}\n      For more info, please see the docs: https://docs.onflow.org/fcl/\n      ============================\n      `,\n      \"font-weight:bold;font-family:monospace;\"\n    )\n  }\n}\n\nconst fetchServicesFromDiscovery = async () => {\n  try {\n    const services = await getServices({types: [SERVICE_ACTOR_KEYS.AUTHN]})\n    send(SERVICE_ACTOR_KEYS.AUTHN, SERVICE_ACTOR_KEYS.UPDATE_RESULTS, {\n      results: services,\n    })\n  } catch (error) {\n    log({\n      title: `${error.name} Error fetching Discovery API services.`,\n      message: error.message,\n      level: LEVELS.error,\n    })\n  }\n}\n\nconst HANDLERS = {\n  [INIT]: async ctx => {\n    warn(\n      typeof window === \"undefined\",\n      '\"fcl.discovery\" is only available in the browser.'\n    )\n    // If you call this before the window is loaded extensions will not be set yet\n    if (document.readyState === 'complete') {\n      fetchServicesFromDiscovery()\n    } else {\n      window.onload = async () => {\n        fetchServicesFromDiscovery()\n      }\n    }\n  },\n  [SERVICE_ACTOR_KEYS.UPDATE_RESULTS]: (ctx, _letter, data) => {\n    ctx.merge(data)\n    ctx.broadcast(SERVICE_ACTOR_KEYS.UPDATED, {...ctx.all()})\n  },\n  [SUBSCRIBE]: (ctx, letter) => {\n    ctx.subscribe(letter.from)\n    ctx.send(letter.from, SERVICE_ACTOR_KEYS.UPDATED, {...ctx.all()})\n  },\n  [UNSUBSCRIBE]: (ctx, letter) => ctx.unsubscribe(letter.from),\n  [SERVICE_ACTOR_KEYS.SNAPSHOT]: async (ctx, letter) =>\n    letter.reply({...ctx.all()}),\n}\n\nconst spawnProviders = () => spawn(HANDLERS, SERVICE_ACTOR_KEYS.AUTHN)\n\n/**\n * @typedef {import(\"@onflow/typedefs\").Service} Service\n */\n\n/**\n * @callback SubscriptionCallback\n * @returns {Service[]}\n */\n\n/**\n * @description\n * Discovery methods for interacting with Authn.\n * \n * @typedef {object} Authn\n * @property {Function} subscribe - Subscribe to Discovery authn services\n * @property {Function} snapshot - Get the current Discovery authn services spanshot\n * @property {Function} update - Trigger an update of authn services\n */\nconst authn = {\n  /**\n   * @description - Subscribe to Discovery authn services\n   * @param {Function} cb\n   * @returns {SubscriptionCallback}\n   */\n  subscribe: cb => subscriber(SERVICE_ACTOR_KEYS.AUTHN, spawnProviders, cb),\n  /**\n   * @description - Get the current Discovery authn services spanshot\n   * @returns {Service[]}\n   */\n  snapshot: () => snapshoter(SERVICE_ACTOR_KEYS.AUTHN, spawnProviders),\n  /**\n   * @description - Trigger an update of authn services\n   * @returns {void}\n   */\n  update: () => fetchServicesFromDiscovery(),\n}\n\nexport default authn\n","import authn from \"./services/authn\"\nexport {getDiscoveryService, makeDiscoveryServices} from \"./utils\"\n\nconst discovery = {\n  authn,\n}\n\nexport {discovery}\n","import \"../default-config\"\nimport * as t from \"@onflow/types\"\nimport {account, arg} from \"@onflow/sdk\"\nimport {config} from \"@onflow/config\"\nimport {spawn, send, INIT, SUBSCRIBE, UNSUBSCRIBE} from \"@onflow/util-actor\"\nimport {withPrefix, sansPrefix} from \"@onflow/util-address\"\nimport {invariant} from \"@onflow/util-invariant\"\nimport {log, LEVELS} from \"@onflow/util-logger\"\nimport {buildUser} from \"./build-user\"\nimport {serviceOfType} from \"./service-of-type\"\nimport {execService} from \"./exec-service\"\nimport {normalizeCompositeSignature} from \"../normalizers/service/composite-signature\"\nimport {getDiscoveryService, makeDiscoveryServices} from \"../discovery\"\nimport {serviceRegistry} from \"./exec-service/plugins\"\nimport {isMobile} from \"../utils\"\n\n/**\n * @typedef {import(\"@onflow/typedefs\").CurrentUser} CurrentUser\n * @typedef {import(\"@onflow/typedefs\").CompositeSignature} CompositeSignature\n */\n\nexport const isFn = d => typeof d === \"function\"\n\nconst NAME = \"CURRENT_USER\"\nconst UPDATED = \"CURRENT_USER/UPDATED\"\nconst SNAPSHOT = \"SNAPSHOT\"\nconst SET_CURRENT_USER = \"SET_CURRENT_USER\"\nconst DEL_CURRENT_USER = \"DEL_CURRENT_USER\"\n\nconst DATA = `{\n  \"f_type\": \"User\",\n  \"f_vsn\": \"1.0.0\",\n  \"addr\":null,\n  \"cid\":null,\n  \"loggedIn\":null,\n  \"expiresAt\":null,\n  \"services\":[]\n}`\n\nconst getStoredUser = async storage => {\n  const fallback = JSON.parse(DATA)\n  const stored = await storage.get(NAME)\n  if (stored != null && fallback[\"f_vsn\"] !== stored[\"f_vsn\"]) {\n    storage.removeItem(NAME)\n    return fallback\n  }\n  return stored || fallback\n}\n\nconst HANDLERS = {\n  [INIT]: async ctx => {\n    if (typeof window === \"undefined\") {\n      console.warn(\n        `\n        %cFCL Warning\n        ============================\n        \"currentUser\" is only available in the browser.\n        For more info, please see the docs: https://docs.onflow.org/fcl/\n        ============================\n        `,\n        \"font-weight:bold;font-family:monospace;\"\n      )\n    }\n\n    ctx.merge(JSON.parse(DATA))\n    const storage = await config.first([\"fcl.storage\", \"fcl.storage.default\"])\n    if (storage.can) {\n      const user = await getStoredUser(storage)\n      if (notExpired(user)) ctx.merge(user)\n    }\n  },\n  [SUBSCRIBE]: (ctx, letter) => {\n    ctx.subscribe(letter.from)\n    ctx.send(letter.from, UPDATED, {...ctx.all()})\n  },\n  [UNSUBSCRIBE]: (ctx, letter) => {\n    ctx.unsubscribe(letter.from)\n  },\n  [SNAPSHOT]: async (ctx, letter) => {\n    letter.reply({...ctx.all()})\n  },\n  [SET_CURRENT_USER]: async (ctx, letter, data) => {\n    ctx.merge(data)\n    const storage = await config.first([\"fcl.storage\", \"fcl.storage.default\"])\n    if (storage.can) storage.put(NAME, ctx.all())\n    ctx.broadcast(UPDATED, {...ctx.all()})\n  },\n  [DEL_CURRENT_USER]: async (ctx, letter) => {\n    ctx.merge(JSON.parse(DATA))\n    const storage = await config.first([\"fcl.storage\", \"fcl.storage.default\"])\n    if (storage.can) storage.put(NAME, ctx.all())\n    ctx.broadcast(UPDATED, {...ctx.all()})\n  },\n}\n\nconst spawnCurrentUser = () => spawn(HANDLERS, NAME)\n\nfunction notExpired(user) {\n  return (\n    user.expiresAt == null ||\n    user.expiresAt === 0 ||\n    user.expiresAt > Date.now()\n  )\n}\n\nasync function getAccountProofData() {\n  let accountProofDataResolver = await config.get(\"fcl.accountProof.resolver\")\n  if (accountProofDataResolver == null) return\n  if (!isFn(accountProofDataResolver)) {\n    log({\n      title: \"Account Proof Data Resolver must be a function\",\n      message: `Check fcl.accountProof.resolver configuration.\n                Expected: fcl.accountProof.resolver: async () => { ... }\n                Received: fcl.accountProof.resolver: ${typeof accountProofDataResolver}\n                `,\n      level: LEVELS.warn,\n    })\n    return\n  }\n\n  const accountProofData = await accountProofDataResolver()\n  if (accountProofData == null) return\n\n  invariant(\n    typeof accountProofData.appIdentifier === \"string\",\n    \"appIdentifier must be a string\"\n  )\n  invariant(\n    /^[0-9a-f]+$/i.test(accountProofData.nonce),\n    \"Nonce must be a hex string\"\n  )\n\n  return accountProofData\n}\n\nconst makeConfig = async ({discoveryAuthnInclude}) => {\n  return {\n    client: {\n      discoveryAuthnInclude,\n      clientServices: await makeDiscoveryServices(),\n      supportedStrategies: serviceRegistry.getStrategies(),\n    },\n  }\n}\n\n/**\n * @description - Authenticate a user\n * @param {object} [opts] - Options\n * @param {object} [opts.service] - Optional service to use for authentication\n * @param {boolean} [opts.redir=false] - Optional flag to allow window to stay open after authentication\n * @returns {Promise<CurrentUser>} - User object\n */\nasync function authenticate({service, redir = false} = {}) {\n  if (\n    service &&\n    !service?.provider?.is_installed &&\n    service?.provider?.requires_install\n  ) {\n    window.location.href = service?.provider?.install_link\n    return\n  }\n\n  return new Promise(async (resolve, reject) => {\n    spawnCurrentUser()\n    const opts = {redir}\n    const user = await snapshot()\n    const discoveryService = await getDiscoveryService(service)\n    const refreshService = serviceOfType(user.services, \"authn-refresh\")\n    let accountProofData\n\n    if (user.loggedIn) {\n      if (refreshService) {\n        try {\n          const response = await execService({\n            service: refreshService,\n            msg: accountProofData,\n            opts,\n          })\n          send(NAME, SET_CURRENT_USER, await buildUser(response))\n        } catch (error) {\n          log({\n            title: `${error.name} Could not refresh wallet authentication.`,\n            message: error.message,\n            level: LEVELS.error,\n          })\n        } finally {\n          return resolve(await snapshot())\n        }\n      } else {\n        return resolve(user)\n      }\n    }\n\n    try {\n      accountProofData = await getAccountProofData()\n    } catch (error) {\n      log({\n        title: `${error.name} On Authentication: Could not resolve account proof data.`,\n        message: error.message,\n        level: LEVELS.error,\n      })\n      return reject(error)\n    }\n\n    try {\n      const response = await execService({\n        service: discoveryService,\n        msg: accountProofData,\n        config: await makeConfig(discoveryService),\n        opts,\n      })\n      send(NAME, SET_CURRENT_USER, await buildUser(response))\n    } catch (error) {\n      log({\n        title: `${error} On Authentication`,\n        message: error,\n        level: LEVELS.error,\n      })\n    } finally {\n      resolve(await snapshot())\n    }\n  })\n}\n\n/**\n * @description - Unauthenticate a user\n * @returns {void}\n */\nfunction unauthenticate() {\n  spawnCurrentUser()\n  send(NAME, DEL_CURRENT_USER)\n}\n\nconst normalizePreAuthzResponse = authz => ({\n  f_type: \"PreAuthzResponse\",\n  f_vsn: \"1.0.0\",\n  proposer: (authz || {}).proposer,\n  payer: (authz || {}).payer || [],\n  authorization: (authz || {}).authorization || [],\n})\n\nfunction resolvePreAuthz(authz) {\n  const resp = normalizePreAuthzResponse(authz)\n  const axs = []\n\n  if (resp.proposer != null) axs.push([\"PROPOSER\", resp.proposer])\n  for (let az of resp.payer || []) axs.push([\"PAYER\", az])\n  for (let az of resp.authorization || []) axs.push([\"AUTHORIZER\", az])\n\n  var result = axs.map(([role, az]) => ({\n    tempId: [az.identity.address, az.identity.keyId].join(\"|\"),\n    addr: az.identity.address,\n    keyId: az.identity.keyId,\n    signingFunction(signable) {\n      return execService({service: az, msg: signable})\n    },\n    role: {\n      proposer: role === \"PROPOSER\",\n      payer: role === \"PAYER\",\n      authorizer: role === \"AUTHORIZER\",\n    },\n  }))\n  return result\n}\n\n/**\n * @description\n * Produces the needed authorization details for the current user to submit transactions to Flow\n * It defines a signing function that connects to a user's wallet provider to produce signatures to submit transactions.\n * \n * @param {object} account - Account object\n * @returns {Promise<object>} - Account object with signing function\n */\nasync function authorization(account) {\n  spawnCurrentUser()\n\n  return {\n    ...account,\n    tempId: \"CURRENT_USER\",\n    async resolve(account, preSignable) {\n      const user = await authenticate({redir: true})\n      const authz = serviceOfType(user.services, \"authz\")\n      const preAuthz = serviceOfType(user.services, \"pre-authz\")\n\n      if (preAuthz)\n        return resolvePreAuthz(\n          await execService({\n            service: preAuthz,\n            msg: preSignable,\n          })\n        )\n      if (authz) {\n        let windowRef\n        if (isMobile() && authz.method === \"WC/RPC\") {\n          windowRef = window.open(\"\", \"_blank\")\n        }\n        return {\n          ...account,\n          tempId: \"CURRENT_USER\",\n          resolve: null,\n          addr: sansPrefix(authz.identity.address),\n          keyId: authz.identity.keyId,\n          sequenceNum: null,\n          signature: null,\n          async signingFunction(signable) {\n            return normalizeCompositeSignature(\n              await execService({\n                service: authz,\n                msg: signable,\n                opts: {\n                  includeOlderJsonRpcCall: true,\n                  windowRef,\n                },\n              })\n            )\n          },\n        }\n      }\n      throw new Error(\n        \"No Authz or PreAuthz Service configured for CURRENT_USER\"\n      )\n    },\n  }\n}\n\n/**\n * @description\n * The callback passed to subscribe will be called when the user authenticates and un-authenticates, making it easy to update the UI accordingly.\n * \n * @param {Function} callback - Callback function\n * @returns {Function} - Unsubscribe function\n */\nfunction subscribe(callback) {\n  spawnCurrentUser()\n  const EXIT = \"@EXIT\"\n  const self = spawn(async ctx => {\n    ctx.send(NAME, SUBSCRIBE)\n    while (1) {\n      const letter = await ctx.receive()\n      if (letter.tag === EXIT) {\n        ctx.send(NAME, UNSUBSCRIBE)\n        return\n      }\n      callback(letter.data)\n    }\n  })\n  return () => send(self, EXIT)\n}\n\n/**\n * @description - Gets the current user\n * @returns {Promise<CurrentUser>} - User object\n */\nfunction snapshot() {\n  spawnCurrentUser()\n  return send(NAME, SNAPSHOT, null, {expectReply: true, timeout: 0})\n}\n\nasync function info() {\n  spawnCurrentUser()\n  const {addr} = await snapshot()\n  if (addr == null) throw new Error(\"No Flow Address for Current User\")\n  return account(addr)\n}\n\n/**\n * @description - Resolves the current user as an argument\n * @returns {Promise<Function>}\n */\nasync function resolveArgument() {\n  const {addr} = await authenticate()\n  return arg(withPrefix(addr), t.Address)\n}\n\nconst makeSignable = msg => {\n  invariant(/^[0-9a-f]+$/i.test(msg), \"Message must be a hex string\")\n\n  return {\n    message: msg,\n  }\n}\n\n/**\n * @description - A method to use allowing the user to personally sign data via FCL Compatible Wallets/Services.\n * @param {string} msg - Message to sign\n * @returns {Promise<CompositeSignature[]>} - Array of CompositeSignatures\n */\nasync function signUserMessage(msg) {\n  spawnCurrentUser()\n  const user = await authenticate({redir: true})\n\n  const signingService = serviceOfType(user.services, \"user-signature\")\n\n  invariant(\n    signingService,\n    \"Current user must have authorized a signing service.\"\n  )\n\n  try {\n    const response = await execService({\n      service: signingService,\n      msg: makeSignable(msg),\n    })\n    if (Array.isArray(response)) {\n      return response.map(compSigs => normalizeCompositeSignature(compSigs))\n    } else {\n      return [normalizeCompositeSignature(response)]\n    }\n  } catch (error) {\n    return error\n  }\n}\n\nlet currentUser = () => {\n  return {\n    authenticate,\n    unauthenticate,\n    authorization,\n    signUserMessage,\n    subscribe,\n    snapshot,\n    resolveArgument,\n  }\n}\n\ncurrentUser.authenticate = authenticate\ncurrentUser.unauthenticate = unauthenticate\ncurrentUser.authorization = authorization\ncurrentUser.signUserMessage = signUserMessage\ncurrentUser.subscribe = subscribe\ncurrentUser.snapshot = snapshot\ncurrentUser.resolveArgument = resolveArgument\n\nexport {currentUser}\n","import * as sdk from \"@onflow/sdk\"\nimport {normalizeArgs} from \"./utils/normalize-args\"\nimport {currentUser} from \"../current-user\"\nimport {prepTemplateOpts} from \"./utils/prep-template-opts.js\"\nimport {preMutate} from \"./utils/pre.js\"\nimport {isNumber} from \"./utils/is\"\n\n/**\n * @description\n * Allows you to submit transactions to the blockchain to potentially mutate the state.\n *\n *  @param {object} opts - Mutation Options and configuration\n *  @param {string} opts.cadence - Cadence Transaction used to mutate Flow\n *  @param {import(\"../fcl\").ArgsFn} [opts.args] - Arguments passed to cadence transaction\n *  @param {object} [opts.template] - Interaction Template for a transaction\n *  @param {number} [opts.limit] - Compute Limit for transaction\n *  @returns {Promise<string>} Transaction Id\n *\n * @example\n *    fcl.mutate({\n *      cadence: `\n *        transaction(a: Int, b: Int, c: Address) {\n *          prepare(acct: AuthAccount) {\n *            log(acct)\n *            log(a)\n *            log(b)\n *            log(c)\n *          }\n *        }\n *      `,\n *      args: (arg, t) => [\n *        arg(6, t.Int),\n *        arg(7, t.Int),\n *        arg(\"0xba1132bc08f82fe2\", t.Address),\n *      ],\n *    })\n *\n *\n *  Options:\n *    type Options = {\n *      template: InteractionTemplate | String // InteractionTemplate or url to one\n *      cadence: String!,\n *      args: (arg, t) => Array<Arg>,\n *      limit: Number,\n *      authz: AuthzFn, // will overload the trinity of signatory roles\n *      proposer: AuthzFn, // will overload the proposer signatory role\n *      payer: AuthzFn, // will overload the payer signatory role\n *      authorizations: [AuthzFn], // an array of authorization functions used as authorizations signatory roles\n *    }\n */\nexport async function mutate(opts = {}) {\n  var txid\n  try {\n    await preMutate(opts)\n    opts = await prepTemplateOpts(opts)\n\n    // Allow for a config to overwrite the authorization function.\n    // prettier-ignore\n    const authz = await sdk.config().get(\"fcl.authz\", currentUser().authorization)\n\n    txid = sdk.config().overload(opts.dependencies || {}, async () =>\n      // prettier-ignore\n      sdk.send([\n        sdk.transaction(opts.cadence),\n\n        sdk.args(normalizeArgs(opts.args || [])),\n\n        opts.limit && isNumber(opts.limit) && sdk.limit(opts.limit),\n\n        // opts.proposer > opts.authz > authz\n        sdk.proposer(opts.proposer || opts.authz || authz),\n\n        // opts.payer > opts.authz > authz\n        sdk.payer(opts.payer || opts.authz || authz),\n\n        // opts.authorizations > [opts.authz > authz]\n        sdk.authorizations(opts.authorizations || [opts.authz || authz]),\n      ]).then(sdk.decode)\n    )\n\n    return txid\n  } catch (error) {\n    throw error\n  }\n}\n","/**\n * @description\n * Listens for messages from FCL\n * \n * @param {string} messageType - Message type\n * @param {Function} cb - Callback function\n * @returns {Function} - Function to remove event listener\n */\nexport const onMessageFromFCL = (messageType, cb = () => {}) => {\n  const buildData = data => {\n    if (data.deprecated)\n      console.warn(\"DEPRECATION NOTICE\", data.deprecated.message)\n    delete data?.body?.interaction\n\n    return data\n  }\n\n  const internal = e => {\n    const {data} = e\n    if (typeof data !== \"object\") return\n    if (typeof data == null) return\n    if (data.type !== messageType) return\n\n    cb(buildData(data))\n  }\n\n  window.addEventListener(\"message\", internal)\n  return () => window.removeEventListener(\"message\", internal)\n}\n","import {onMessageFromFCL} from \"./on-message-from-fcl\"\n\n/**\n * @description\n * Sends message to FCL window\n * \n * @param {string} type - Message type\n * @param {object} msg - Message object\n * @returns {void}\n * \n * @example\n * sendMsgToFCL(\"FCL:VIEW:RESPONSE\", {\n *    f_type: \"PollingResponse\",\n *    f_vsn: \"1.0.0\",\n *    status: \"APPROVED\",\n *    reason: null,\n *    data: data,\n *  })\n */\nexport const sendMsgToFCL = (type, msg = {}) => {\n  if (window.location !== window.parent.location) {\n    window.parent.postMessage({...msg, type}, \"*\")\n  } else if (window.opener) {\n    window.opener.postMessage({...msg, type}, \"*\")\n  } else {\n    throw new Error(\"Unable to communicate with parent FCL instance\")\n  }\n}\n\n/**\n * @description\n * Listens for \"FCL:VIEW:READY:RESPONSE\" and sends \"FCL:VIEW:READY\"\n * \n * @param {Function} cb - Callback function\n * @param {object} msg - Message object\n * @returns {void}\n */\nexport const ready = (cb, msg = {}) => {\n  onMessageFromFCL(\"FCL:VIEW:READY:RESPONSE\", cb)\n  sendMsgToFCL(\"FCL:VIEW:READY\")\n}\n\n/**\n * @description\n * Sends \"FCL:VIEW:CLOSE\"\n * \n * @returns {void}\n */\nexport const close = () => {\n  sendMsgToFCL(\"FCL:VIEW:CLOSE\")\n}\n\n/**\n * @description\n * Sends \"FCL:VIEW:RESPONSE\" with status \"APPROVED\"\n * \n * @param {object} data - Data object\n * @returns {void}\n */\nexport const approve = data => {\n  sendMsgToFCL(\"FCL:VIEW:RESPONSE\", {\n    f_type: \"PollingResponse\",\n    f_vsn: \"1.0.0\",\n    status: \"APPROVED\",\n    reason: null,\n    data: data,\n  })\n}\n\n/**\n * @description\n * Sends \"FCL:VIEW:RESPONSE\" with status \"DECLINED\"\n * \n * @param {string} reason - Reason for declining\n * @returns {void}\n */\nexport const decline = reason => {\n  sendMsgToFCL(\"FCL:VIEW:RESPONSE\", {\n    f_type: \"PollingResponse\",\n    f_vsn: \"1.0.0\",\n    status: \"DECLINED\",\n    reason: reason,\n    data: null,\n  })\n}\n\n/**\n * @description\n * Sends \"FCL:VIEW:RESPONSE\" with status \"REDIRECT\"\n * \n * @param {object} data - Data object\n * @returns {void}\n */\nexport const redirect = data => {\n  sendMsgToFCL(\"FCL:VIEW:RESPONSE\", {\n    f_type: \"PollingResponse\",\n    f_vsn: \"1.0.0\",\n    status: \"REDIRECT\",\n    reason: null,\n    data: data,\n  })\n}\n","import {withPrefix} from \"@onflow/util-address\"\nimport {COMPOSITE_SIGNATURE_PRAGMA} from \"../normalizers/service/__vsn\"\n\n/**\n * @description\n * Constructs a new CompositeSignature instance.\n *\n * @param {string} addr - Flow Address\n * @param {number} keyId - Key ID\n * @param {string} signature - Signature as a hex string\n */\nexport function CompositeSignature(addr, keyId, signature) {\n  this.f_type = COMPOSITE_SIGNATURE_PRAGMA.f_type\n  this.f_vsn = COMPOSITE_SIGNATURE_PRAGMA.f_vsn\n  this.addr = withPrefix(addr)\n  this.keyId = Number(keyId)\n  this.signature = signature\n}\n","import {sansPrefix} from \"@onflow/util-address\"\nimport {invariant} from \"@onflow/util-invariant\"\nimport {Buffer, encode as rlpEncode} from \"@onflow/rlp\"\n\nconst rightPaddedHexBuffer = (value, pad) =>\n  Buffer.from(value.padEnd(pad * 2, \"0\"), \"hex\")\n\nconst leftPaddedHexBuffer = (value, pad) =>\n  Buffer.from(value.padStart(pad * 2, \"0\"), \"hex\")\n\nconst addressBuffer = addr => leftPaddedHexBuffer(addr, 8)\n\nconst nonceBuffer = nonce => Buffer.from(nonce, \"hex\")\n\nexport const encodeAccountProof = (\n  {address, nonce, appIdentifier},\n  includeDomainTag = true\n) => {\n  invariant(\n    address,\n    \"Encode Message For Provable Authn Error: address must be defined\"\n  )\n  invariant(\n    nonce,\n    \"Encode Message For Provable Authn Error: nonce must be defined\"\n  )\n  invariant(\n    appIdentifier,\n    \"Encode Message For Provable Authn Error: appIdentifier must be defined\"\n  )\n\n  invariant(\n    nonce.length >= 64,\n    \"Encode Message For Provable Authn Error: nonce must be minimum of 32 bytes\"\n  )\n\n  const ACCOUNT_PROOF_DOMAIN_TAG = rightPaddedHexBuffer(\n    Buffer.from(\"FCL-ACCOUNT-PROOF-V0.0\").toString(\"hex\"),\n    32\n  )\n\n  if (includeDomainTag) {\n    return Buffer.concat([\n      ACCOUNT_PROOF_DOMAIN_TAG,\n      rlpEncode([\n        appIdentifier,\n        addressBuffer(sansPrefix(address)),\n        nonceBuffer(nonce),\n      ]),\n    ]).toString(\"hex\")\n  }\n\n  return rlpEncode([\n    appIdentifier,\n    addressBuffer(sansPrefix(address)),\n    nonceBuffer(nonce),\n  ]).toString(\"hex\")\n}\n","export function injectExtService(service) {\n  if (service.type === \"authn\" && service.endpoint != null) {\n    if (!Array.isArray(window.fcl_extensions)) {\n      window.fcl_extensions = []\n    }\n    window.fcl_extensions.push(service)\n  } else {\n    console.warn(\"Authn service is required\")\n  }\n}\n","import {invariant} from \"@onflow/util-invariant\"\nimport {withPrefix, sansPrefix} from \"@onflow/util-address\"\nimport {query} from \"../exec/query\"\nimport {encodeAccountProof} from \"../wallet-utils\"\nimport {isString} from \"../exec/utils/is\"\nimport {getChainId} from \"../utils\"\n\nconst ACCOUNT_PROOF = \"ACCOUNT_PROOF\"\nconst USER_SIGNATURE = \"USER_SIGNATURE\"\n\nexport const validateArgs = args => {\n  if (args.appIdentifier) {\n    const {appIdentifier, address, nonce, signatures} = args\n    invariant(\n      isString(appIdentifier),\n      \"verifyAccountProof({ appIdentifier }) -- appIdentifier must be a string\"\n    )\n    invariant(\n      isString(address) && sansPrefix(address).length === 16,\n      \"verifyAccountProof({ address }) -- address must be a valid address\"\n    )\n    invariant(/^[0-9a-f]+$/i.test(nonce), \"nonce must be a hex string\")\n    invariant(\n      Array.isArray(signatures) &&\n        signatures.every((sig, i, arr) => sig.f_type === \"CompositeSignature\"),\n      \"Must include an Array of CompositeSignatures to verify\"\n    )\n    invariant(\n      signatures.map(cs => cs.addr).every((addr, i, arr) => addr === arr[0]),\n      \"User signatures to be verified must be from a single account address\"\n    )\n    return true\n  } else {\n    const {message, address, compSigs} = args\n    invariant(\n      /^[0-9a-f]+$/i.test(message),\n      \"Signed message must be a hex string\"\n    )\n    invariant(\n      isString(address) && sansPrefix(address).length === 16,\n      \"verifyUserSignatures({ address }) -- address must be a valid address\"\n    )\n    invariant(\n      Array.isArray(compSigs) &&\n        compSigs.every((sig, i, arr) => sig.f_type === \"CompositeSignature\"),\n      \"Must include an Array of CompositeSignatures to verify\"\n    )\n    invariant(\n      compSigs.map(cs => cs.addr).every((addr, i, arr) => addr === arr[0]),\n      \"User signatures to be verified must be from a single account address\"\n    )\n    return true\n  }\n}\n\n// TODO: pass in option for contract but we're connected to testnet\n// log address + network -> in sync?\nconst getVerifySignaturesScript = async (sig, opts) => {\n  const verifyFunction =\n    sig === \"ACCOUNT_PROOF\"\n      ? \"verifyAccountProofSignatures\"\n      : \"verifyUserSignatures\"\n\n  let network = await getChainId()\n\n  let fclCryptoContract\n\n  invariant(\n    opts.fclCryptoContract || network === \"testnet\" || network === \"mainnet\",\n    \"${verifyFunction}({ fclCryptoContract }) -- config.flow.network must be specified (testnet || mainnet) or contract address provided via opts.fclCryptoContract\"\n  )\n\n  if (opts.fclCryptoContract) {\n    fclCryptoContract = opts.fclCryptoContract\n  } else {\n    fclCryptoContract =\n      network === \"testnet\" ? \"0x74daa6f9c7ef24b1\" : \"0xb4b82a1c9d21d284\"\n  }\n\n  return `\n      import FCLCrypto from ${fclCryptoContract}\n\n      pub fun main(\n          address: Address, \n          message: String, \n          keyIndices: [Int], \n          signatures: [String]\n      ): Bool {\n        return FCLCrypto.${verifyFunction}(address: address, message: message, keyIndices: keyIndices, signatures: signatures)\n      }\n    `\n}\n\n/**\n * @description\n * Verify a valid account proof signature or signatures for an account on Flow.\n *\n * @param {string} appIdentifier - A message string in hexadecimal format\n * @param {object} accountProofData - An object consisting of address, nonce, and signatures\n * @param {string} accountProofData.address - A Flow account address\n * @param {string} accountProofData.nonce - A random string in hexadecimal format (minimum 32 bytes in total, i.e 64 hex characters)\n * @param {object[]} accountProofData.signatures - An array of composite signatures to verify\n * @param {object} [opts={}] - Options object\n * @param {string} opts.fclCryptoContract - An optional override Flow account address where the FCLCrypto contract is deployed\n * @returns {Promise<boolean>} - Returns true if the signature is valid, false otherwise\n *\n * @example\n *\n *  const accountProofData = {\n *   address: \"0x123\",\n *   nonce: \"F0123\"\n *   signatures: [{f_type: \"CompositeSignature\", f_vsn: \"1.0.0\", addr: \"0x123\", keyId: 0, signature: \"abc123\"}],\n *  }\n *\n *  const isValid = await fcl.AppUtils.verifyAccountProof(\n *    \"AwesomeAppId\",\n *    accountProofData,\n *    {fclCryptoContract}\n *  )\n */\nexport async function verifyAccountProof(\n  appIdentifier,\n  {address, nonce, signatures},\n  opts = {}\n) {\n  validateArgs({appIdentifier, address, nonce, signatures})\n  const message = encodeAccountProof({address, nonce, appIdentifier}, false)\n\n  let signaturesArr = []\n  let keyIndices = []\n\n  for (const el of signatures) {\n    signaturesArr.push(el.signature)\n    keyIndices.push(el.keyId.toString())\n  }\n\n  return query({\n    cadence: await getVerifySignaturesScript(ACCOUNT_PROOF, opts),\n    args: (arg, t) => [\n      arg(withPrefix(address), t.Address),\n      arg(message, t.String),\n      arg(keyIndices, t.Array(t.Int)),\n      arg(signaturesArr, t.Array(t.String)),\n    ],\n  })\n}\n\n/**\n * @description\n * Verify a valid signature/s for an account on Flow.\n *\n * @param {string} message - A message string in hexadecimal format\n * @param {Array} compSigs - An array of Composite Signatures\n * @param {string} compSigs[].addr - The account address\n * @param {number} compSigs[].keyId - The account keyId\n * @param {string} compSigs[].signature - The signature to verify\n * @param {object} [opts={}] - Options object\n * @param {string} opts.fclCryptoContract - An optional override of Flow account address where the FCLCrypto contract is deployed\n * @returns {boolean} - Returns true if the signature is valid, false otherwise\n *\n * @example\n *\n *  const isValid = await fcl.AppUtils.verifyUserSignatures(\n *    Buffer.from('FOO').toString(\"hex\"),\n *    [{f_type: \"CompositeSignature\", f_vsn: \"1.0.0\", addr: \"0x123\", keyId: 0, signature: \"abc123\"}],\n *    {fclCryptoContract}\n *  )\n */\nexport async function verifyUserSignatures(message, compSigs, opts = {}) {\n  const address = withPrefix(compSigs[0].addr)\n  validateArgs({message, address, compSigs})\n\n  let signaturesArr = []\n  let keyIndices = []\n\n  for (const el of compSigs) {\n    signaturesArr.push(el.signature)\n    keyIndices.push(el.keyId.toString())\n  }\n\n  return query({\n    cadence: await getVerifySignaturesScript(USER_SIGNATURE, opts),\n    args: (arg, t) => [\n      arg(address, t.Address),\n      arg(message, t.String),\n      arg(keyIndices, t.Array(t.Int)),\n      arg(signaturesArr, t.Array(t.String)),\n    ],\n  })\n}\n","import {log} from \"@onflow/util-logger\"\nimport {verifyUserSignatures as verify} from \"../app-utils\"\n\n/**\n * Verify a valid signature/s for an account on Flow.\n *\n * @deprecated since version '1.0.0-alpha.0', use AppUtils.verifyUserSignatures instead\n *\n */\nexport const verifyUserSignatures = log.deprecate({\n  pkg: \"FCL\",\n  subject: \"fcl.verifyUserSignatures()\",\n  message: \"Please use fcl.AppUtils.verifyUserSignatures()\",\n  callback: function verifyUserSignatures(message, compSigs) {\n    return verify(message, compSigs)\n  },\n})\n","import {interaction, pipe} from \"@onflow/sdk\"\nimport {resolve as defaultResolve} from \"@onflow/sdk\"\nimport {config, createSignableVoucher} from \"@onflow/sdk\"\n\nexport const serialize = async (args = [], opts = {}) => {\n  const resolveFunction = await config.first(\n    [\"sdk.resolve\"],\n    opts.resolve || defaultResolve\n  )\n\n  if (Array.isArray(args)) args = await pipe(interaction(), args)\n\n  return JSON.stringify(\n    createSignableVoucher(await resolveFunction(args)),\n    null,\n    2\n  )\n}\n","import \"../default-config\"\nimport {\n  spawn,\n  send,\n  subscriber,\n  snapshoter,\n  UPDATED,\n  SNAPSHOT,\n  INIT,\n  SUBSCRIBE,\n  UNSUBSCRIBE,\n  ERROR,\n} from \"@onflow/util-actor\"\nimport {send as fclSend, decode, getTransactionStatus} from \"@onflow/sdk\"\n\n/**\n * @typedef {import(\"@onflow/typedefs\").Transaction} Transaction\n */\n\n/**\n * @typedef {import(\"@onflow/typedefs\").TransactionStatus} TransactionStatus\n */\n\nconst RATE = 2500\nconst POLL = \"POLL\"\n\nconst fetchTxStatus = async transactionId => {\n  return fclSend([getTransactionStatus(transactionId)]).then(decode)\n}\n\nconst isExpired = tx => tx.status === 5\nconst isSealed = tx => tx.status >= 4\nconst isExecuted = tx => tx.status >= 3\nconst isFinalized = tx => tx.status >= 2\nconst isPending = tx => tx.status >= 1\nconst isUnknown = tx => tx.status >= 0\n\nconst isDiff = (cur, next) => {\n  return JSON.stringify(cur) !== JSON.stringify(next)\n}\n\nconst HANDLERS = {\n  [INIT]: async ctx => {\n    ctx.sendSelf(POLL)\n  },\n  [SUBSCRIBE]: (ctx, letter) => {\n    ctx.subscribe(letter.from)\n    ctx.send(letter.from, UPDATED, ctx.all())\n  },\n  [UNSUBSCRIBE]: (ctx, letter) => {\n    ctx.unsubscribe(letter.from)\n  },\n  [SNAPSHOT]: async (ctx, letter) => {\n    letter.reply(ctx.all())\n  },\n  [POLL]: async ctx => {\n    let tx\n    try {\n      tx = await fetchTxStatus(ctx.self())\n    } catch (e) {\n      return ctx.fatalError(e)\n    }\n\n    if (!isSealed(tx)) setTimeout(() => ctx.sendSelf(POLL), RATE)\n    if (isDiff(ctx.all(), tx)) ctx.broadcast(UPDATED, tx)\n    ctx.merge(tx)\n  },\n}\n\nconst scoped = transactionId => {\n  if (typeof transactionId === \"object\")\n    transactionId = transactionId.transactionId\n  if (transactionId == null) throw new Error(\"transactionId required\")\n  return transactionId\n}\n\nconst spawnTransaction = transactionId => {\n  return spawn(HANDLERS, scoped(transactionId))\n}\n\n/**\n * @callback SubscriptionCallback\n * @param {TransactionStatus} txStatus\n * @returns {void}\n */\n\n/**\n * Provides methods for interacting with a transaction\n * \n * @param {string} transactionId - The transaction ID\n * @returns {{\n *    snapshot: function(): Promise<TransactionStatus>,\n *    subscribe: function(SubscriptionCallback): function(): void,\n *    onceFinalized: function(): Promise<TransactionStatus>,\n *    onceExecuted: function(): Promise<TransactionStatus>,\n *    onceSealed: function(): Promise<TransactionStatus>\n * }}\n */\nexport function transaction(transactionId) {\n  function snapshot() {\n    return snapshoter(transactionId, spawnTransaction)\n  }\n\n  function subscribe(callback) {\n    return subscriber(scoped(transactionId), spawnTransaction, callback)\n  }\n\n  function once(predicate) {\n    return function innerOnce(opts = {}) {\n      const suppress = opts.suppress || false\n      return new Promise((resolve, reject) => {\n        const unsub = subscribe((txStatus, error) => {\n          if ((error || txStatus.statusCode) && !suppress) {\n            reject(error || txStatus.errorMessage)\n            unsub()\n          } else if (predicate(txStatus)) {\n            resolve(txStatus)\n            unsub()\n          }\n        })\n      })\n    }\n  }\n\n  return {\n    snapshot,\n    subscribe,\n    onceFinalized: once(isFinalized),\n    onceExecuted: once(isExecuted),\n    onceSealed: once(isSealed),\n  }\n}\n\ntransaction.isUnknown = isUnknown\ntransaction.isPending = isPending\ntransaction.isFinalized = isFinalized\ntransaction.isExecuted = isExecuted\ntransaction.isSealed = isSealed\ntransaction.isExpired = isExpired\n","import {spawn, subscriber, SUBSCRIBE, UNSUBSCRIBE} from \"@onflow/util-actor\"\nimport {\n  config,\n  block,\n  getEventsAtBlockHeightRange,\n  send,\n  decode,\n} from \"@onflow/sdk\"\n\nconst RATE = 10000\nconst UPDATED = \"UPDATED\"\nconst TICK = \"TICK\"\nconst HIGH_WATER_MARK = \"hwm\"\n\nconst scheduleTick = async ctx => {\n  return setTimeout(\n    () => ctx.sendSelf(TICK),\n    await config().get(\"fcl.eventPollRate\", RATE)\n  )\n}\n\nconst HANDLERS = {\n  [TICK]: async ctx => {\n    if (!ctx.hasSubs()) return\n    let hwm = ctx.get(HIGH_WATER_MARK)\n    if (hwm == null) {\n      ctx.put(HIGH_WATER_MARK, await block())\n      ctx.put(TICK, await scheduleTick(ctx))\n    } else {\n      let next = await block()\n      ctx.put(HIGH_WATER_MARK, next)\n      if (hwm.height < next.height) {\n        const data = await send([\n          getEventsAtBlockHeightRange(ctx.self(), hwm.height + 1, next.height),\n        ]).then(decode)\n        for (let d of data) ctx.broadcast(UPDATED, d.data)\n      }\n      ctx.put(TICK, await scheduleTick(ctx))\n    }\n  },\n  [SUBSCRIBE]: async (ctx, letter) => {\n    if (!ctx.hasSubs()) {\n      ctx.put(TICK, await scheduleTick(ctx))\n    }\n    ctx.subscribe(letter.from)\n  },\n  [UNSUBSCRIBE]: (ctx, letter) => {\n    ctx.unsubscribe(letter.from)\n    if (!ctx.hasSubs()) {\n      clearTimeout(ctx.get(TICK))\n      ctx.delete(TICK)\n      ctx.delete(HIGH_WATER_MARK)\n    }\n  },\n}\n\nconst spawnEvents = key => spawn(HANDLERS, key)\n\n/**\n * @typedef {import(\"@onflow/typedefs\").Event} Event\n */\n\n/**\n * @typedef {object} SubscribeObject\n * @property {Function} subscribe - The subscribe function.\n */\n\n/**\n * @callback SubscriptionCallback\n * @returns {Event}\n */\n\n/**\n * @description - Subscribe to events\n * @param {string} key - A valid event name\n * @returns {SubscribeObject}\n * \n * @example\n * import * as fcl from \"@onflow/fcl\"\n * fcl.events(eventName).subscribe((event) => console.log(event))\n */\nexport function events(key) {\n  return {\n    /**\n     * @description - Subscribe to events\n     * @param {Function} callback - The callback function\n     * @returns {SubscriptionCallback}\n     */\n    subscribe: callback => subscriber(key, spawnEvents, callback),\n  }\n}\n","\"use strict\";var copy=function copy(I,i){return function(O,o){var oi=o*2;var ii=i*2;O[oi]=I[ii];O[oi+1]=I[ii+1]}};module.exports=copy;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports[\"default\"]=void 0;var _copy=_interopRequireDefault(require(\"../copy\"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{\"default\":obj}}var chi=function chi(_ref){var A=_ref.A,C=_ref.C;for(var y=0;y<25;y+=5){for(var x=0;x<5;x++){(0,_copy[\"default\"])(A,y+x)(C,x)}for(var _x=0;_x<5;_x++){var xy=(y+_x)*2;var x1=(_x+1)%5*2;var x2=(_x+2)%5*2;A[xy]^=~C[x1]&C[x2];A[xy+1]^=~C[x1+1]&C[x2+1]}}};var _default=chi;exports[\"default\"]=_default;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports[\"default\"]=void 0;var ROUND_CONSTANTS=new Uint32Array([0,1,0,32898,2147483648,32906,2147483648,2147516416,0,32907,0,2147483649,2147483648,2147516545,2147483648,32777,0,138,0,136,0,2147516425,0,2147483658,0,2147516555,2147483648,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,0,32778,2147483648,2147483658,2147483648,2147516545,2147483648,32896,0,2147483649,2147483648,2147516424]);var _default=ROUND_CONSTANTS;exports[\"default\"]=_default;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports[\"default\"]=void 0;var _roundConstants=_interopRequireDefault(require(\"./round-constants\"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{\"default\":obj}}var iota=function iota(_ref){var A=_ref.A,roundIndex=_ref.roundIndex;var i=roundIndex*2;A[0]^=_roundConstants[\"default\"][i];A[1]^=_roundConstants[\"default\"][i+1]};var _default=iota;exports[\"default\"]=_default;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports[\"default\"]=void 0;var PI_SHUFFLES=[10,7,11,17,18,3,5,16,8,21,24,4,15,23,19,13,12,2,20,14,22,9,6,1];var _default=PI_SHUFFLES;exports[\"default\"]=_default;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports[\"default\"]=void 0;var RHO_OFFSETS=[1,3,6,10,15,21,28,36,45,55,2,14,27,41,56,8,25,43,62,18,39,61,20,44];var _default=RHO_OFFSETS;exports[\"default\"]=_default;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports[\"default\"]=void 0;var _piShuffles=_interopRequireDefault(require(\"./pi-shuffles\"));var _rhoOffsets=_interopRequireDefault(require(\"./rho-offsets\"));var _copy=_interopRequireDefault(require(\"../copy\"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{\"default\":obj}}var rhoPi=function rhoPi(_ref){var A=_ref.A,C=_ref.C,W=_ref.W;(0,_copy[\"default\"])(A,1)(W,0);var H=0;var L=0;var Wi=0;var ri=32;for(var i=0;i<24;i++){var j=_piShuffles[\"default\"][i];var r=_rhoOffsets[\"default\"][i];(0,_copy[\"default\"])(A,j)(C,0);H=W[0];L=W[1];ri=32-r;Wi=r<32?0:1;W[Wi]=H<<r|L>>>ri;W[(Wi+1)%2]=L<<r|H>>>ri;(0,_copy[\"default\"])(W,0)(A,j);(0,_copy[\"default\"])(C,0)(W,0)}};var _default=rhoPi;exports[\"default\"]=_default;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports[\"default\"]=void 0;var _copy=_interopRequireDefault(require(\"../copy\"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{\"default\":obj}}var theta=function theta(_ref){var A=_ref.A,C=_ref.C,D=_ref.D,W=_ref.W;var H=0;var L=0;for(var x=0;x<5;x++){var x20=x*2;var x21=(x+5)*2;var x22=(x+10)*2;var x23=(x+15)*2;var x24=(x+20)*2;C[x20]=A[x20]^A[x21]^A[x22]^A[x23]^A[x24];C[x20+1]=A[x20+1]^A[x21+1]^A[x22+1]^A[x23+1]^A[x24+1]}for(var _x=0;_x<5;_x++){(0,_copy[\"default\"])(C,(_x+1)%5)(W,0);H=W[0];L=W[1];W[0]=H<<1|L>>>31;W[1]=L<<1|H>>>31;D[_x*2]=C[(_x+4)%5*2]^W[0];D[_x*2+1]=C[(_x+4)%5*2+1]^W[1];for(var y=0;y<25;y+=5){A[(y+_x)*2]^=D[_x*2];A[(y+_x)*2+1]^=D[_x*2+1]}}};var _default=theta;exports[\"default\"]=_default;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports[\"default\"]=void 0;var _chi=_interopRequireDefault(require(\"./chi\"));var _iota=_interopRequireDefault(require(\"./iota\"));var _rhoPi=_interopRequireDefault(require(\"./rho-pi\"));var _theta=_interopRequireDefault(require(\"./theta\"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{\"default\":obj}}var permute=function permute(){var C=new Uint32Array(10);var D=new Uint32Array(10);var W=new Uint32Array(2);return function(A){for(var roundIndex=0;roundIndex<24;roundIndex++){(0,_theta[\"default\"])({A:A,C:C,D:D,W:W});(0,_rhoPi[\"default\"])({A:A,C:C,W:W});(0,_chi[\"default\"])({A:A,C:C});(0,_iota[\"default\"])({A:A,roundIndex:roundIndex})}C.fill(0);D.fill(0);W.fill(0)}};var _default=permute;exports[\"default\"]=_default;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports[\"default\"]=void 0;var _buffer=require(\"buffer\");var _permute=_interopRequireDefault(require(\"./permute\"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{\"default\":obj}}var xorWords=function xorWords(I,O){for(var i=0;i<I.length;i+=8){var o=i/4;O[o]^=I[i+7]<<24|I[i+6]<<16|I[i+5]<<8|I[i+4];O[o+1]^=I[i+3]<<24|I[i+2]<<16|I[i+1]<<8|I[i]}return O};var readWords=function readWords(I,O){for(var o=0;o<O.length;o+=8){var i=o/4;O[o]=I[i+1];O[o+1]=I[i+1]>>>8;O[o+2]=I[i+1]>>>16;O[o+3]=I[i+1]>>>24;O[o+4]=I[i];O[o+5]=I[i]>>>8;O[o+6]=I[i]>>>16;O[o+7]=I[i]>>>24}return O};var Sponge=function Sponge(_ref){var _this=this;var capacity=_ref.capacity,padding=_ref.padding;var keccak=(0,_permute[\"default\"])();var stateSize=200;var blockSize=capacity/8;var queueSize=stateSize-capacity/4;var queueOffset=0;var state=new Uint32Array(stateSize/4);var queue=_buffer.Buffer.allocUnsafe(queueSize);this.absorb=function(buffer){for(var i=0;i<buffer.length;i++){queue[queueOffset]=buffer[i];queueOffset+=1;if(queueOffset>=queueSize){xorWords(queue,state);keccak(state);queueOffset=0}}return _this};this.squeeze=function(){var options=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var output={buffer:options.buffer||_buffer.Buffer.allocUnsafe(blockSize),padding:options.padding||padding,queue:_buffer.Buffer.allocUnsafe(queue.length),state:new Uint32Array(state.length)};queue.copy(output.queue);for(var i=0;i<state.length;i++){output.state[i]=state[i]}output.queue.fill(0,queueOffset);output.queue[queueOffset]|=output.padding;output.queue[queueSize-1]|=128;xorWords(output.queue,output.state);for(var offset=0;offset<output.buffer.length;offset+=queueSize){keccak(output.state);readWords(output.state,output.buffer.slice(offset,offset+queueSize))}return output.buffer};this.reset=function(){queue.fill(0);state.fill(0);queueOffset=0;return _this};return this};var _default=Sponge;exports[\"default\"]=_default;","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:true});exports[\"default\"]=exports.SHAKE=exports.SHA3Hash=exports.SHA3=exports.Keccak=void 0;var _buffer=require(\"buffer\");var _sponge=_interopRequireDefault(require(\"./sponge\"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{\"default\":obj}}var createHash=function createHash(_ref){var allowedSizes=_ref.allowedSizes,defaultSize=_ref.defaultSize,padding=_ref.padding;return function Hash(){var _this=this;var size=arguments.length>0&&arguments[0]!==undefined?arguments[0]:defaultSize;if(!this||this.constructor!==Hash){return new Hash(size)}if(allowedSizes&&!allowedSizes.includes(size)){throw new Error(\"Unsupported hash length\")}var sponge=new _sponge[\"default\"]({capacity:size});this.update=function(input){var encoding=arguments.length>1&&arguments[1]!==undefined?arguments[1]:\"utf8\";if(_buffer.Buffer.isBuffer(input)){sponge.absorb(input);return _this}if(typeof input===\"string\"){return _this.update(_buffer.Buffer.from(input,encoding))}throw new TypeError(\"Not a string or buffer\")};this.digest=function(){var formatOrOptions=arguments.length>0&&arguments[0]!==undefined?arguments[0]:\"binary\";var options=typeof formatOrOptions===\"string\"?{format:formatOrOptions}:formatOrOptions;var buffer=sponge.squeeze({buffer:options.buffer,padding:options.padding||padding});if(options.format&&options.format!==\"binary\"){return buffer.toString(options.format)}return buffer};this.reset=function(){sponge.reset();return _this};return this}};var Keccak=createHash({allowedSizes:[224,256,384,512],defaultSize:512,padding:1});exports.Keccak=Keccak;var SHA3=createHash({allowedSizes:[224,256,384,512],defaultSize:512,padding:6});exports.SHA3=SHA3;var SHAKE=createHash({allowedSizes:[128,256],defaultSize:256,padding:31});exports.SHAKE=SHAKE;var SHA3Hash=Keccak;exports.SHA3Hash=SHA3Hash;SHA3.SHA3Hash=SHA3Hash;var _default=SHA3;exports[\"default\"]=_default;","import {SHA3} from \"sha3\"\nimport {Buffer} from \"@onflow/rlp\"\n\nexport async function genHash(utf8String) {\n  const sha = new SHA3(256)\n  sha.update(Buffer.from(utf8String, \"utf8\"))\n  return sha.digest(\"hex\")\n}\n","import {invariant} from \"@onflow/sdk\"\nimport {encode as rlpEncode} from \"@onflow/rlp\"\nimport {genHash} from \"./utils/hash.js\"\nimport {normalizeInteractionTemplate} from \"../normalizers/interaction-template/interaction-template.js\"\n\n/**\n * @description Generates Interaction Template ID for a given Interaction Template\n *  \n * @param {object} params\n * @param {object} params.template - Interaction Template\n * @returns {Promise<string>} - Interaction Template ID\n */\nexport async function generateTemplateId({template}) {\n  invariant(\n    template != undefined,\n    \"generateTemplateId({ template }) -- template must be defined\"\n  )\n  invariant(\n    typeof template === \"object\",\n    \"generateTemplateId({ template }) -- template must be an object\"\n  )\n  invariant(\n    typeof template.f_type === \"InteractionTemplate\",\n    \"generateTemplateId({ template }) -- template object must be an InteractionTemplate\"\n  )\n\n  template = normalizeInteractionTemplate(template)\n\n  switch (template.f_version) {\n    case \"1.0.0\":\n      const templateData = template.data\n\n      const messages = await Promise.all(\n        Object.keys(templateData.messages).map(async messageKey => [\n          await genHash(messageKey),\n          await Promise.all(\n            Object.keys(templateData.messages?.[messageKey]?.i18n).map(\n              async i18nkeylanguage => [\n                await genHash(i18nkeylanguage),\n                await genHash(\n                  templateData.messages?.[messageKey]?.i18n?.[i18nkeylanguage]\n                ),\n              ]\n            )\n          ),\n        ])\n      )\n\n      const dependencies = await Promise.all(\n        Object.keys(templateData?.dependencies).map(\n          async dependencyAddressPlaceholder => [\n            await genHash(dependencyAddressPlaceholder),\n            await Promise.all(\n              Object.keys(\n                templateData?.dependencies?.[dependencyAddressPlaceholder]\n              ).map(async dependencyContract => [\n                await genHash(dependencyContract),\n                await Promise.all(\n                  Object.keys(\n                    templateData?.dependencies?.[\n                      dependencyAddressPlaceholder\n                    ]?.[dependencyContract]\n                  ).map(async dependencyContractNetwork => [\n                    await genHash(dependencyContractNetwork),\n                    [\n                      await genHash(\n                        templateData?.dependencies?.[\n                          dependencyAddressPlaceholder\n                        ]?.[dependencyContract]?.[dependencyContractNetwork]\n                          .address\n                      ),\n                      await genHash(\n                        templateData?.dependencies?.[\n                          dependencyAddressPlaceholder\n                        ]?.[dependencyContract]?.[dependencyContractNetwork]\n                          .contract\n                      ),\n                      await genHash(\n                        templateData?.dependencies?.[\n                          dependencyAddressPlaceholder\n                        ]?.[dependencyContract]?.[dependencyContractNetwork]\n                          .fq_address\n                      ),\n                      await genHash(\n                        templateData?.dependencies?.[\n                          dependencyAddressPlaceholder\n                        ]?.[dependencyContract]?.[dependencyContractNetwork].pin\n                      ),\n                      await genHash(\n                        String(\n                          templateData?.dependencies?.[\n                            dependencyAddressPlaceholder\n                          ]?.[dependencyContract]?.[dependencyContractNetwork]\n                            .pin_block_height\n                        )\n                      ),\n                    ],\n                  ])\n                ),\n              ])\n            ),\n          ]\n        )\n      )\n\n      const _arguments = await Promise.all(\n        Object.keys(templateData?.[\"arguments\"]).map(async argumentLabel => [\n          await genHash(argumentLabel),\n          [\n            await genHash(\n              String(templateData?.[\"arguments\"]?.[argumentLabel].index)\n            ),\n            await genHash(templateData?.[\"arguments\"]?.[argumentLabel].type),\n            await genHash(\n              templateData?.[\"arguments\"]?.[argumentLabel].balance || \"\"\n            ),\n            await Promise.all(\n              Object.keys(\n                templateData?.[\"arguments\"]?.[argumentLabel].messages\n              ).map(async argumentMessageKey => [\n                await genHash(argumentMessageKey),\n                await Promise.all(\n                  Object.keys(\n                    templateData?.[\"arguments\"]?.[argumentLabel].messages?.[\n                      argumentMessageKey\n                    ].i18n\n                  ).map(async i18nkeylanguage => [\n                    await genHash(i18nkeylanguage),\n                    await genHash(\n                      templateData?.[\"arguments\"]?.[argumentLabel].messages?.[\n                        argumentMessageKey\n                      ].i18n?.[i18nkeylanguage]\n                    ),\n                  ])\n                ),\n              ])\n            ),\n          ],\n        ])\n      )\n\n      const encodedHex = rlpEncode([\n        await genHash(\"InteractionTemplate\"),\n        await genHash(\"1.0.0\"),\n        await genHash(templateData?.type),\n        await genHash(templateData?.interface),\n        messages,\n        await genHash(templateData?.cadence),\n        dependencies,\n        _arguments,\n      ]).toString(\"hex\")\n\n      return genHash(encodedHex)\n\n    default:\n      throw new Error(\"generateTemplateId Error: Unsupported template version\")\n  }\n}\n","import {config, invariant} from \"@onflow/sdk\"\nimport {log, LEVELS} from \"@onflow/util-logger\"\nimport {query} from \"../exec/query.js\"\nimport {generateTemplateId} from \"./generate-template-id.js\"\nimport {normalizeInteractionTemplate} from \"../normalizers/interaction-template/interaction-template.js\"\nimport {getChainId} from \"../utils\"\n\n/**\n * @description Returns whether a set of auditors have audited a given Interaction Template\n * \n * @param {object} params\n * @param {object} params.template - Interaction Template\n * @param {Array<string>} params.auditors - Array of auditors\n * @param {object} opts\n * @param {string} opts.flowInteractionAuditContract - Flow Interaction Template Audit contract address\n * @returns {Promise<object>} - Object of auditor addresses and audit status\n */\nexport async function getInteractionTemplateAudits(\n  {template, auditors},\n  opts = {}\n) {\n  invariant(\n    template != undefined,\n    \"getInteractionTemplateAudits({ template }) -- template must be defined\"\n  )\n\n  template = normalizeInteractionTemplate(template)\n\n  invariant(\n    template.f_type === \"InteractionTemplate\",\n    \"getInteractionTemplateAudits({ template }) -- template must be an InteractionTemplate\"\n  )\n\n  // Recompute ID to be sure it matches\n  let recomputedTemplateID = await generateTemplateId({template})\n\n  if (recomputedTemplateID !== template.id) {\n    log({\n      title: \"getInteractionTemplateAudits Debug Error\",\n      message: `Could not recompute and match template ID\n                computed: ${recomputedTemplateID}\n                template: ${template.id}\n            `,\n      level: LEVELS.debug,\n    })\n    throw new Error(\n      \"getInteractionTemplateAudits Error: Could not recompute and match template ID\"\n    )\n  }\n\n  switch (template.f_version) {\n    case \"1.0.0\":\n      const _auditors = auditors || (await config().get(\"flow.auditors\"))\n\n      invariant(\n        _auditors,\n        \"getInteractionTemplateAudits Error: Required configuration for 'fcl.auditors' is not set\"\n      )\n      invariant(\n        Array.isArray(_auditors),\n        \"getInteractionTemplateAudits Error: Required configuration for 'fcl.auditors' is not an array\"\n      )\n\n      let FlowInteractionAuditContract = opts.flowInteractionAuditContract\n      if (!FlowInteractionAuditContract) {\n        const fclNetwork = await getChainId()\n        invariant(\n          fclNetwork === \"mainnet\" || fclNetwork === \"testnet\",\n          \"getInteractionTemplateAudits Error: Unable to determine address for FlowInteractionTemplateAudit contract. Set configuration for 'fcl.network' to 'mainnet' or 'testnet'\"\n        )\n        if (fclNetwork === \"mainnet\") {\n          FlowInteractionAuditContract = \"0xfd100e39d50a13e6\"\n        } else {\n          FlowInteractionAuditContract = \"0xf78bfc12d0a786dc\"\n        }\n      }\n\n      const audits = await query({\n        cadence: `\n        import FlowInteractionTemplateAudit from ${FlowInteractionAuditContract}\n        pub fun main(templateId: String, auditors: [Address]): {Address:Bool} {\n          return FlowInteractionTemplateAudit.getHasTemplateBeenAuditedByAuditors(templateId: templateId, auditors: auditors)\n        }\n        `,\n        args: (arg, t) => [\n          arg(recomputedTemplateID, t.String),\n          arg(_auditors, t.Array(t.Address)),\n        ],\n      })\n\n      return audits\n\n    default:\n      throw new Error(\n        \"getInteractionTemplateAudits Error: Unsupported template version\"\n      )\n  }\n}\n","export function generateImport({contractName, address}) {\n  return {contractName, address, contract: \"\"}\n}\n","import {generateImport} from \"./generate-import.js\"\n\nexport function findImports(cadence) {\n  let imports = []\n\n  let importsReg = /import ((\\w|,| )+)* from 0x\\w+/g\n  let fileImports = cadence.match(importsReg) || []\n\n  for (const fileImport of fileImports) {\n    const importLineReg = /import ((\\w+|, |)*) from (0x\\w+)/g\n    const importLine = importLineReg.exec(fileImport)\n\n    const contractsReg = /((?:\\w+)+),?/g\n    const contracts = importLine[1].match(contractsReg) || []\n\n    for (const contract of contracts) {\n      imports.push(\n        generateImport({\n          address: importLine[3],\n          contractName: contract.replace(/,/g, \"\"),\n        })\n      )\n    }\n  }\n\n  return imports\n}\n","import {\n  invariant,\n  block,\n  send,\n  getAccount,\n  atBlockHeight,\n  config,\n  decode,\n} from \"@onflow/sdk\"\nimport {genHash} from \"./utils/hash.js\"\nimport {findImports} from \"./utils/find-imports.js\"\nimport {generateImport} from \"./utils/generate-import.js\"\n\n/**\n * @description Produces a dependency pin for a contract at a given block height\n * @param {object} params\n * @param {string} params.address - The address of the account containing the contract\n * @param {string} params.contractName - The name of the contract\n * @param {number} params.blockHeight - The block height to produce the dependency pin for\n * @param {object} opts - Options to pass to the interaction\n * @returns {Promise<string>} - The dependency pin\n */\nexport async function generateDependencyPin(\n  {address, contractName, blockHeight},\n  opts = {}\n) {\n  invariant(\n    address != undefined,\n    \"generateDependencyPin({ address }) -- address must be defined\"\n  )\n  invariant(\n    contractName != undefined,\n    \"generateDependencyPin({ contractName }) -- contractName must be defined\"\n  )\n  invariant(\n    blockHeight != undefined,\n    \"generateDependencyPin({ blockHeight }) -- blockHeight must be defined\"\n  )\n  invariant(\n    typeof address === \"string\",\n    \"generateDependencyPin({ address }) -- address must be a string\"\n  )\n  invariant(\n    typeof contractName === \"string\",\n    \"generateDependencyPin({ contractName }) -- contractName must be a string\"\n  )\n  invariant(\n    typeof blockHeight === \"number\",\n    \"generateDependencyPin({ blockHeight }) -- blockHeight must be a number\"\n  )\n\n  let horizon = [generateImport({contractName, address})]\n\n  for (const horizonImport of horizon) {\n    let account = await send(\n      [\n        getAccount(\n          await config().get(horizonImport.address, horizonImport.address)\n        ),\n        atBlockHeight(blockHeight),\n      ],\n      opts\n    ).then(decode)\n\n    horizonImport.contract = account.contracts?.[horizonImport.contractName]\n\n    if (!horizonImport.contract) {\n      console.error(\"Did not find expected contract\", horizonImport, account)\n      throw new Error(\"Did not find expected contract\")\n    }\n\n    let contractImports = findImports(horizonImport.contract)\n\n    horizon.push(...contractImports)\n  }\n\n  let contractHashes = horizon.map(iport => genHash(iport.contract))\n\n  let contractHashesJoined = contractHashes.join(\"\")\n\n  return genHash(contractHashesJoined)\n}\n\n/**\n * @description Produces a dependency pin for a contract at latest sealed block\n * @param {object} params\n * @param {string} params.address - The address of the account containing the contract\n * @param {string} params.contractName - The name of the contract\n * @param {object} opts - Options to pass to the interaction\n * @returns {Promise<string>} - The dependency pin\n */\nexport async function generateDependencyPinAtLatestSealedBlock(\n  {address, contractName},\n  opts = {}\n) {\n  let latestSealedBlock = await block({sealed: true}, opts)\n  let latestSealedBlockHeight = latestSealedBlock?.height\n\n  return generateDependencyPin(\n    {address, contractName, blockHeight: latestSealedBlockHeight},\n    opts\n  )\n}\n","export function normalizeInteractionTemplateInterface(templateInterface) {\n  if (templateInterface == null) return null\n\n  switch (templateInterface[\"f_version\"]) {\n    case \"1.0.0\":\n      return templateInterface\n\n    default:\n      throw new Error(\n        \"normalizeInteractionTemplateInterface Error: Invalid InteractionTemplateInterface\"\n      )\n  }\n}\n","import {invariant} from \"@onflow/sdk\"\nimport {encode as rlpEncode} from \"@onflow/rlp\"\nimport {genHash} from \"./utils/hash.js\"\nimport {normalizeInteractionTemplateInterface} from \"../normalizers/interaction-template/interaction-template-interface.js\"\n\n/**\n * @description Generates Interaction Template Interface ID for a given Interaction Template Interface\n * \n * @param {object} params\n * @param {object} params.templateInterface - Interaction Template Interface\n * @returns {Promise<string>} - Interaction Template Interface ID\n */\nexport async function generateTemplateInterfaceId({templateInterface}) {\n  invariant(\n    templateInterface != undefined,\n    \"generateTemplateInterfaceId({ templateInterface }) -- templateInterface must be defined\"\n  )\n  invariant(\n    typeof templateInterface === \"object\",\n    \"generateTemplateInterfaceId({ templateInterface }) -- templateInterface must be an object\"\n  )\n  invariant(\n    typeof templateInterface.f_type === \"InteractionTemplateInterface\",\n    \"generateTemplateInterfaceId({ templateInterface }) -- templateInterface object must be an InteractionTemplate\"\n  )\n\n  templateInterface = normalizeInteractionTemplateInterface(templateInterface)\n\n  switch (templateInterface.f_version) {\n    case \"1.0.0\":\n      const interfaceData = templateInterface.data\n\n      const encodedHex = rlpEncode([\n        await genHash(\"InteractionTemplateInterface\"),\n        await genHash(\"1.0.0\"),\n        await genHash(interfaceData.flip),\n        await Promise.all(\n          Object.keys(interfaceData.arguments).map(async argumentLabel => [\n            await genHash(argumentLabel),\n            await genHash(String(interfaceData.arguments[argumentLabel].index)),\n            await genHash(interfaceData.arguments[argumentLabel].type),\n          ])\n        ),\n      ]).toString(\"hex\")\n\n      return genHash(encodedHex)\n\n    default:\n      throw new Error(\n        \"generateTemplateInterfaceId Error: Unsupported templateInterface version\"\n      )\n  }\n}\n","import {generateDependencyPin} from \"./generate-dependency-pin.js\"\nimport {invariant, block} from \"@onflow/sdk\"\nimport {log, LEVELS} from \"@onflow/util-logger\"\nimport {normalizeInteractionTemplate} from \"../normalizers/interaction-template/interaction-template.js\"\n\n/**\n * @description Checks if an Interaction Template's pins match those generated at a block height\n * \n * @param {object} params\n * @param {object} params.template - Interaction Template to check pins for\n * @param {number} params.blockHeight - Block height to check pins at\n * @param {string} params.network - Network to check pins on\n * @param {object} opts\n * @returns {Promise<boolean>} - Whether or not the pins match\n */\nexport async function verifyDependencyPinsSame(\n  {template, blockHeight, network},\n  opts = {}\n) {\n  invariant(\n    template != undefined,\n    \"generateDependencyPin({ template }) -- template must be defined\"\n  )\n  invariant(\n    typeof template === \"object\",\n    \"generateDependencyPin({ template }) -- template must be an object\"\n  )\n  invariant(\n    template.f_type === \"InteractionTemplate\",\n    \"generateDependencyPin({ template }) -- template must be an InteractionTemplate\"\n  )\n\n  template = normalizeInteractionTemplate(template)\n\n  invariant(\n    network != undefined,\n    \"generateDependencyPin({ network }) network must be defined\"\n  )\n  invariant(\n    blockHeight != undefined,\n    \"generateDependencyPin({ blockHeight }) blockHeight must be defined\"\n  )\n  invariant(\n    typeof blockHeight === \"number\",\n    \"generateDependencyPin({ blockHeight }) blockHeight must be a number\"\n  )\n\n  switch (template.f_version) {\n    case \"1.0.0\":\n      let templateDependenciesPlaceholderKeys = Object.keys(\n        template.data.dependencies\n      )\n\n      for (let templateDependencyPlaceholderKey of templateDependenciesPlaceholderKeys) {\n        let templateDependencyPlaceholder =\n          template.data.dependencies[templateDependencyPlaceholderKey]\n\n        let templateDependencyPlaceholderContractNames = Object.keys(\n          templateDependencyPlaceholder\n        )\n\n        for (let templateDependencyPlaceholderContractName of templateDependencyPlaceholderContractNames) {\n          let templateDependencyPlaceholderContractNetworks =\n            template.data.dependencies[templateDependencyPlaceholderKey][\n              templateDependencyPlaceholderContractName\n            ]\n\n          let templateDependency =\n            templateDependencyPlaceholderContractNetworks[network]\n          if (typeof templateDependency === \"undefined\") continue\n\n          let pin = await generateDependencyPin(\n            {\n              address: templateDependency.address,\n              contractName: templateDependency.contract,\n              blockHeight,\n            },\n            opts\n          )\n\n          if (pin !== templateDependency.pin) {\n            log({\n              title: \"verifyDependencyPinsSame Debug Error\",\n              message: `Could not recompute and match dependency pin.\n                                address: ${templateDependency.address} | contract: ${templateDependency.contract}\n                                computed: ${pin}\n                                template: ${templateDependency.pin}\n                            `,\n              level: LEVELS.debug,\n            })\n            return false\n          }\n        }\n      }\n\n      return true\n\n    default:\n      throw new Error(\n        \"verifyDependencyPinsSame Error: Unsupported template version\"\n      )\n  }\n}\n\n/**\n * @description Checks if an Interaction Template's pins match those generated at the latest block height\n * \n * @param {object} params\n * @param {object} params.template - Interaction Template to check pins for\n * @param {string} params.network - Network to check pins on\n * @param {object} opts\n * @returns {Promise<boolean>} - Whether or not the pins match\n */\nexport async function verifyDependencyPinsSameAtLatestSealedBlock(\n  {template, network},\n  opts = {}\n) {\n  let latestSealedBlock = await block({sealed: true})\n  let latestSealedBlockHeight = latestSealedBlock?.height\n\n  return verifyDependencyPinsSame(\n    {template, network, blockHeight: latestSealedBlockHeight},\n    opts\n  )\n}\n","import {invariant} from \"@onflow/sdk\"\n\n/**\n * @description Get Interaction Template argument message\n * \n * @param {object} params\n * @param {string} params.localization [localization=\"en-US\"] - Localization code\n * @param {string} params.messageKey - Message key\n * @param {object} params.template - Interaction Template\n * @returns {string} - Message\n */\nexport function getTemplateMessage({\n  localization = \"en-US\",\n  messageKey,\n  template,\n}) {\n  invariant(\n    messageKey,\n    \"getTemplateMessage({ messageKey }) -- messageKey must be defined\"\n  )\n  invariant(\n    typeof messageKey === \"string\",\n    \"getTemplateMessage({ messageKey }) -- messageKey must be a string\"\n  )\n\n  invariant(\n    localization,\n    \"getTemplateMessage({ localization }) -- localization must be defined\"\n  )\n  invariant(\n    typeof localization === \"string\",\n    \"getTemplateMessage({ localization }) -- localization must be a string\"\n  )\n\n  invariant(\n    template != undefined,\n    \"getTemplateMessage({ template }) -- template must be defined\"\n  )\n  invariant(\n    typeof template === \"object\",\n    \"getTemplateMessage({ template }) -- template must be an object\"\n  )\n  invariant(\n    typeof template.f_type === \"InteractionTemplate\",\n    \"getTemplateMessage({ template }) -- template object must be an InteractionTemplate\"\n  )\n\n  const messages = template?.data?.messages\n\n  return messages?.[messageKey]?.i18n?.[localization]\n}\n","import {invariant} from \"@onflow/sdk\"\n\n/**\n * @description Gets Interaction Template argument message by message key, argument label, and localization\n * \n * @param {object} opts\n * @param {string} opts.localization [localization=\"en-US\"] - Localization to get message for\n * @param {string} opts.argumentLabel - Argument label to get message for\n * @param {string} opts.messageKey - Message key to get message for\n * @param {object} opts.template - Interaction Template to get message from\n * @returns {string} - Message\n */\nexport function getTemplateArgumentMessage({\n  localization = \"en-US\",\n  argumentLabel,\n  messageKey,\n  template,\n}) {\n  invariant(\n    messageKey,\n    \"getTemplateArgumentMessage({ messageKey }) -- messageKey must be defined\"\n  )\n  invariant(\n    typeof messageKey === \"string\",\n    \"getTemplateArgumentMessage({ messageKey }) -- messageKey must be a string\"\n  )\n\n  invariant(\n    argumentLabel,\n    \"getTemplateArgumentMessage({ argumentLabel }) -- argumentLabel must be defined\"\n  )\n  invariant(\n    typeof messageKey === \"string\",\n    \"getTemplateArgumentMessage({ argumentLabel }) -- argumentLabel must be a string\"\n  )\n\n  invariant(\n    localization,\n    \"getTemplateArgumentMessage({ localization }) -- localization must be defined\"\n  )\n  invariant(\n    typeof localization === \"string\",\n    \"getTemplateArgumentMessage({ localization }) -- localization must be a string\"\n  )\n\n  invariant(\n    template != undefined,\n    \"getTemplateArgumentMessage({ template }) -- template must be defined\"\n  )\n  invariant(\n    typeof template === \"object\",\n    \"getTemplateArgumentMessage({ template }) -- template must be an object\"\n  )\n  invariant(\n    typeof template.f_type === \"InteractionTemplate\",\n    \"getTemplateArgumentMessage({ template }) -- template object must be an InteractionTemplate\"\n  )\n\n  const args = template?.data?.arguments\n\n  return args?.[argumentLabel]?.messages?.[messageKey]?.i18n?.[localization]\n}\n","import \"./default-config\"\nexport {VERSION} from \"./VERSION\"\nexport {query} from \"./exec/query\"\nexport {mutate} from \"./exec/mutate\"\nexport {verifyUserSignatures} from \"./exec/verify\"\nexport {serialize} from \"./serialize\"\nexport {transaction as tx} from \"./transaction\"\nexport {events} from \"./events\"\nexport {pluginRegistry} from \"./current-user/exec-service/plugins\"\n\nimport {currentUser} from \"./current-user\"\nexport {currentUser}\n\nimport {discovery} from \"./discovery\"\nexport {discovery}\n\nexport const authenticate = (opts = {}) => currentUser().authenticate(opts)\nexport const unauthenticate = () => currentUser().unauthenticate()\nexport const reauthenticate = (opts = {}) => {\n  currentUser().unauthenticate()\n  return currentUser().authenticate(opts)\n}\nexport const signUp = (opts = {}) => currentUser().authenticate(opts)\nexport const logIn = (opts = {}) => currentUser().authenticate(opts)\n\nexport const authz = currentUser().authorization\n\nimport * as types from \"@onflow/types\"\n/**\n * @type {Types}\n */\nexport const t = types\n\nimport * as WalletUtils from \"./wallet-utils\"\nexport {WalletUtils}\n\nimport * as AppUtils from \"./app-utils\"\nexport {AppUtils}\n\nimport * as InteractionTemplateUtils from \"./interaction-template-utils\"\nexport {InteractionTemplateUtils}\n\nexport {getChainId} from \"./utils\"\n\nexport {TestUtils} from \"@onflow/sdk\"\nexport {config} from \"@onflow/config\"\nexport {send} from \"@onflow/sdk\"\nexport {decode} from \"@onflow/sdk\"\nexport {account} from \"@onflow/sdk\"\nexport {block} from \"@onflow/sdk\"\nexport {isOk, isBad, why, pipe, build} from \"@onflow/sdk\"\nexport {withPrefix, sansPrefix, display} from \"@onflow/util-address\"\nexport {template as cadence} from \"@onflow/util-template\"\nexport {template as cdc} from \"@onflow/util-template\"\nexport {createSignableVoucher} from \"@onflow/sdk\"\nexport {voucherIntercept} from \"@onflow/sdk\"\nexport {voucherToTxId} from \"@onflow/sdk\"\n\n// builders\nexport {transaction} from \"@onflow/sdk\"\nexport {script} from \"@onflow/sdk\"\nexport {ping} from \"@onflow/sdk\"\nexport {atBlockHeight} from \"@onflow/sdk\"\nexport {atBlockId} from \"@onflow/sdk\"\nexport {getAccount} from \"@onflow/sdk\"\nexport {getEvents} from \"@onflow/sdk\"\nexport {getEventsAtBlockHeightRange} from \"@onflow/sdk\"\nexport {getEventsAtBlockIds} from \"@onflow/sdk\"\nexport {getBlock} from \"@onflow/sdk\"\nexport {getBlockHeader} from \"@onflow/sdk\"\nexport {getCollection} from \"@onflow/sdk\"\nexport {getTransactionStatus} from \"@onflow/sdk\"\nexport {getTransaction} from \"@onflow/sdk\"\nexport {getNetworkParameters} from \"@onflow/sdk\"\nexport {authorizations, authorization} from \"@onflow/sdk\"\nexport {args, arg} from \"@onflow/sdk\"\nexport {proposer} from \"@onflow/sdk\"\nexport {payer} from \"@onflow/sdk\"\nexport {limit} from \"@onflow/sdk\"\nexport {ref} from \"@onflow/sdk\"\nexport {params, param} from \"@onflow/sdk\"\nexport {validator} from \"@onflow/sdk\"\nexport {invariant} from \"@onflow/sdk\"\n\n/**\n * @typedef {object} Types\n * @property {any} Identity - Represents the Identity type.\n * @property {any} UInt - Represents the UInt type.\n * @property {any} Int - Represents the Int type.\n * @property {any} UInt8 - Represents the UInt8 type.\n * @property {any} Int8 - Represents the Int8 type.\n * @property {any} UInt16 - Represents the UInt16 type.\n * @property {any} Int16 - Represents the Int16 type.\n * @property {any} UInt32 - Represents the UInt32 type.\n * @property {any} Int32 - Represents the Int32 type.\n * @property {any} UInt64 - Represents the UInt64 type.\n * @property {any} Int64 - Represents the Int64 type.\n * @property {any} UInt128 - Represents the UInt128 type.\n * @property {any} Int128 - Represents the Int128 type.\n * @property {any} UInt256 - Represents the UInt256 type.\n * @property {any} Int256 - Represents the Int256 type.\n * @property {any} Word8 - Represents the Word8 type.\n * @property {any} Word16 - Represents the Word16 type.\n * @property {any} Word32 - Represents the Word32 type.\n * @property {any} Word64 - Represents the Word64 type.\n * @property {any} UFix64 - Represents the UFix64 type.\n * @property {any} Fix64 - Represents the Fix64 type.\n * @property {any} String - Represents the String type.\n * @property {any} Character - Represents the Character type.\n * @property {any} Bool - Represents the Bool type.\n * @property {any} Address - Represents the Address type.\n * @property {any} Void - Represents the Void type.\n * @property {any} Optional - Represents the Optional type.\n * @property {any} Reference - Represents the Reference type.\n * @property {any} Array - Represents the Array type.\n * @property {any} Dictionary - Represents the Dictionary type.\n * @property {any} Event - Represents the Event type.\n * @property {any} Resource - Represents the Resource type.\n * @property {any} Struct - Represents the Struct type.\n * @property {any} Enum - Represents the Enum type.\n * @property {any} Path - Represents the Path type.\n */\n\n/**\n * @callback ArgsFn\n * @param {ArgFn} arg - Argument function to define a single argument\n * @param {Types} t - Cadence Types object used to define the type\n * @returns {any[]}\n */\n\n/**\n * @callback ArgFn\n * @param {any} value - the value of the argument\n * @param {any} type - the cadence type of the value\n * @returns {any}\n */"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}